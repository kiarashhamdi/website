(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[179],{473:(ue,g,z)=>{"use strict";function f(e){return"function"==typeof e}function A(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const j=A(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function $(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class le{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(f(r))try{r()}catch(s){t=s instanceof j?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Y(s)}catch(o){t=t??[],o instanceof j?t=[...t,...o.errors]:t.push(o)}}if(t)throw new j(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Y(t);else{if(t instanceof le){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&$(n,t)}remove(t){const{_finalizers:n}=this;n&&$(n,t),t instanceof le&&t._removeParent(this)}}le.EMPTY=(()=>{const e=new le;return e.closed=!0,e})();const V=le.EMPTY;function B(e){return e instanceof le||e&&"closed"in e&&f(e.remove)&&f(e.add)&&f(e.unsubscribe)}function Y(e){f(e)?e():e.unsubscribe()}const ne={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},X={setTimeout(e,t,...n){const{delegate:r}=X;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=X;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function N(e){X.setTimeout(()=>{const{onUnhandledError:t}=ne;if(!t)throw e;t(e)})}function k(){}const p=I("C",void 0,void 0);function I(e,t,n){return{kind:e,value:t,error:n}}let L=null;function m(e){if(ne.useDeprecatedSynchronousErrorHandling){const t=!L;if(t&&(L={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=L;if(L=null,n)throw r}}else e()}class u extends le{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,B(t)&&t.add(this)):this.destination=W}static create(t,n,r){return new M(t,n,r)}next(t){this.isStopped?q(function T(e){return I("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?q(function E(e){return I("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?q(p,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const v=Function.prototype.bind;function D(e,t){return v.call(e,t)}class R{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){_(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){_(r)}else _(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){_(n)}}}class M extends u{constructor(t,n,r){let i;if(super(),f(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ne.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&D(t.next,s),error:t.error&&D(t.error,s),complete:t.complete&&D(t.complete,s)}):i=t}this.destination=new R(i)}}function _(e){ne.useDeprecatedSynchronousErrorHandling?function d(e){ne.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=e)}(e):N(e)}function q(e,t){const{onStoppedNotification:n}=ne;n&&X.setTimeout(()=>n(e,t))}const W={closed:!0,next:k,error:function P(e){throw e},complete:k},ee="function"==typeof Symbol&&Symbol.observable||"@@observable";function Q(e){return e}function re(e){return 0===e.length?Q:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let de=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function C(e){return e&&e instanceof u||function J(e){return e&&f(e.next)&&f(e.error)&&f(e.complete)}(e)&&B(e)}(n)?n:new M(n,r,i);return m(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ye(r))((i,s)=>{const o=new M({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ee](){return this}pipe(...n){return re(n)(this)}toPromise(n){return new(n=ye(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=t=>new e(t),e})();function ye(e){var t;return null!==(t=e??ne.Promise)&&void 0!==t?t:Promise}const y=A(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let O=(()=>{class e extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new G(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new y}next(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?V:(this.currentObservers=null,s.push(n),new le(()=>{this.currentObservers=null,$(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new de;return n.source=this,n}}return e.create=(t,n)=>new G(t,n),e})();class G extends O{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:V}}function x(e){return f(e?.lift)}function h(e){return t=>{if(x(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function w(e,t,n,r,i){return new S(e,t,n,r,i)}class S extends u{constructor(t,n,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function U(e,t){return h((n,r)=>{let i=0;n.subscribe(w(r,s=>{r.next(e.call(t,s,i++))}))})}function $e(e){return this instanceof $e?(this.v=e,this):new $e(e)}function ve(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Ze(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ne=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function ze(e){return f(e?.then)}function Ke(e){return f(e[ee])}function nt(e){return Symbol.asyncIterator&&f(e?.[Symbol.asyncIterator])}function et(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Xe=function Dt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function yt(e){return f(e?.[Xe])}function Ut(e){return function K(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(te){r[te]&&(i[te]=function(oe){return new Promise(function(_e,Me){s.push([te,oe,_e,Me])>1||a(te,oe)})})}function a(te,oe){try{!function l(te){te.value instanceof $e?Promise.resolve(te.value.v).then(c,b):F(s[0][2],te)}(r[te](oe))}catch(_e){F(s[0][3],_e)}}function c(te){a("next",te)}function b(te){a("throw",te)}function F(te,oe){te(oe),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield $e(n.read());if(i)return yield $e(void 0);yield yield $e(r)}}finally{n.releaseLock()}})}function Gt(e){return f(e?.getReader)}function Ct(e){if(e instanceof de)return e;if(null!=e){if(Ke(e))return function Vt(e){return new de(t=>{const n=e[ee]();if(f(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Ne(e))return function xt(e){return new de(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(ze(e))return function cr(e){return new de(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,N)})}(e);if(nt(e))return ra(e);if(yt(e))return function ii(e){return new de(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Gt(e))return function Bn(e){return ra(Ut(e))}(e)}throw et(e)}function ra(e){return new de(t=>{(function Kn(e,t){var n,r,i,s;return function me(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(b){try{c(r.next(b))}catch(F){o(F)}}function l(b){try{c(r.throw(b))}catch(F){o(F)}}function c(b){b.done?s(b.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(b.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=ve(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Qt(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function $t(e,t,n=1/0){return f(t)?$t((r,i)=>U((s,o)=>t(r,s,i,o))(Ct(e(r,i))),n):("number"==typeof t&&(n=t),h((r,i)=>function Qn(e,t,n,r,i,s,o,a){const l=[];let c=0,b=0,F=!1;const te=()=>{F&&!l.length&&!c&&t.complete()},oe=Me=>c<r?_e(Me):l.push(Me),_e=Me=>{s&&t.next(Me),c++;let je=!1;Ct(n(Me,b++)).subscribe(w(t,He=>{i?.(He),s?oe(He):t.next(He)},()=>{je=!0},void 0,()=>{if(je)try{for(c--;l.length&&c<r;){const He=l.shift();o?Qt(t,o,()=>_e(He)):_e(He)}te()}catch(He){t.error(He)}}))};return e.subscribe(w(t,oe,()=>{F=!0,te()})),()=>{a?.()}}(r,i,e,n)))}function Ei(e=1/0){return $t(Q,e)}const ur=new de(e=>e.complete());function bc(e){return e[e.length-1]}function ks(e){return function Dw(e){return e&&f(e.schedule)}(bc(e))?e.pop():void 0}function Af(e,t=0){return h((n,r)=>{n.subscribe(w(r,i=>Qt(r,e,()=>r.next(i),t),()=>Qt(r,e,()=>r.complete(),t),i=>Qt(r,e,()=>r.error(i),t)))})}function Df(e,t=0){return h((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Pf(e,t){if(!e)throw new Error("Iterable cannot be null");return new de(n=>{Qt(n,t,()=>{const r=e[Symbol.asyncIterator]();Qt(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function nn(e,t){return t?function kw(e,t){if(null!=e){if(Ke(e))return function Iw(e,t){return Ct(e).pipe(Df(t),Af(t))}(e,t);if(Ne(e))return function xw(e,t){return new de(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(ze(e))return function Tw(e,t){return Ct(e).pipe(Df(t),Af(t))}(e,t);if(nt(e))return Pf(e,t);if(yt(e))return function Rw(e,t){return new de(n=>{let r;return Qt(n,t,()=>{r=e[Xe](),Qt(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>f(r?.return)&&r.return()})}(e,t);if(Gt(e))return function Fw(e,t){return Pf(Ut(e),t)}(e,t)}throw et(e)}(e,t):Ct(e)}class jn extends O{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function ht(...e){return nn(e,ks(e))}function Mf(e={}){const{connector:t=(()=>new O),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o,a,l,c=0,b=!1,F=!1;const te=()=>{a?.unsubscribe(),a=void 0},oe=()=>{te(),o=l=void 0,b=F=!1},_e=()=>{const Me=o;oe(),Me?.unsubscribe()};return h((Me,je)=>{c++,!F&&!b&&te();const He=l=l??t();je.add(()=>{c--,0===c&&!F&&!b&&(a=wc(_e,i))}),He.subscribe(je),!o&&c>0&&(o=new M({next:Re=>He.next(Re),error:Re=>{F=!0,te(),a=wc(oe,n,Re),He.error(Re)},complete:()=>{b=!0,te(),a=wc(oe,r),He.complete()}}),Ct(Me).subscribe(o))})(s)}}function wc(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new M({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function dr(e,t){return h((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(w(r,l=>{i?.unsubscribe();let c=0;const b=s++;Ct(e(l,b)).subscribe(i=w(r,F=>r.next(t?t(l,F,b,c++):F),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Nw(e,t){return e===t}function Rt(e){for(let t in e)if(e[t]===Rt)return t;throw Error("Could not find renamed property on target object.")}function rn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(rn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Sc(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Bw=Rt({__forward_ref__:Rt});function Cc(e){return e.__forward_ref__=Cc,e.toString=function(){return rn(this())},e}function dt(e){return Ec(e)?e():e}function Ec(e){return"function"==typeof e&&e.hasOwnProperty(Bw)&&e.__forward_ref__===Cc}function Ac(e){return e&&!!e.\u0275providers}class qe extends Error{constructor(t,n){super(function sa(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Tt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function pt(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function Dc(e,t){throw new qe(-201,!1)}function Vn(e,t){null==e&&function lt(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function at(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Er(e){return{providers:e.providers||[],imports:e.imports||[]}}function oa(e){return Tf(e,la)||Tf(e,xf)}function Tf(e,t){return e.hasOwnProperty(t)?e[t]:null}function aa(e){return e&&(e.hasOwnProperty(Pc)||e.hasOwnProperty(zw))?e[Pc]:null}const la=Rt({\u0275prov:Rt}),Pc=Rt({\u0275inj:Rt}),xf=Rt({ngInjectableDef:Rt}),zw=Rt({ngInjectorDef:Rt});var bt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(bt||{});let Mc;function En(e){const t=Mc;return Mc=e,t}function Ff(e,t,n){const r=oa(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&bt.Optional?null:void 0!==t?t:void Dc(rn(e))}const Lt=globalThis,Os={},Fc="__NG_DI_FLAG__",ca="ngTempTokenPath",Yw=/\n/gm,Of="__source";let Ai;function Gr(e){const t=Ai;return Ai=e,t}function Zw(e,t=bt.Default){if(void 0===Ai)throw new qe(-203,!1);return null===Ai?Ff(e,void 0,t):Ai.get(e,t&bt.Optional?null:void 0,t)}function st(e,t=bt.Default){return(function Rf(){return Mc}()||Zw)(dt(e),t)}function Je(e,t=bt.Default){return st(e,ua(t))}function ua(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function kc(e){const t=[];for(let n=0;n<e.length;n++){const r=dt(e[n]);if(Array.isArray(r)){if(0===r.length)throw new qe(900,!1);let i,s=bt.Default;for(let o=0;o<r.length;o++){const a=r[o],l=Jw(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}t.push(st(i,s))}else t.push(st(r))}return t}function Ls(e,t){return e[Fc]=t,e.prototype[Fc]=t,e}function Jw(e){return e[Fc]}function Ar(e){return{toString:e}.toString()}var da=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(da||{}),Zn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Zn||{});const hr={},Pt=[],ha=Rt({\u0275cmp:Rt}),Oc=Rt({\u0275dir:Rt}),Lc=Rt({\u0275pipe:Rt}),Nf=Rt({\u0275mod:Rt}),Dr=Rt({\u0275fac:Rt}),Ns=Rt({__NG_ELEMENT_ID__:Rt}),Bf=Rt({__NG_ENV_ID__:Rt});function jf(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}function Nc(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];e.setAttribute(t,o,a,s)}else{const s=i,o=n[++r];Uf(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),r++}}return r}function Vf(e){return 3===e||4===e||6===e}function Uf(e){return 64===e.charCodeAt(0)}function Bs(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Hf(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Hf(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}const Gf="ng-template";function nS(e,t,n){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const o=e[r++];if(n&&"class"===s&&-1!==jf(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function $f(e){return 4===e.type&&e.value!==Gf}function rS(e,t,n){return t===(4!==e.type||n?e.value:Gf)}function iS(e,t,n){let r=4;const i=e.attrs||[],s=function aS(e){for(let t=0;t<e.length;t++)if(Vf(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!rS(e,l,n)||""===l&&1===t.length){if(Jn(r))return!1;o=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!nS(e.attrs,c,n)){if(Jn(r))return!1;o=!0}continue}const F=sS(8&r?"class":l,i,$f(e),n);if(-1===F){if(Jn(r))return!1;o=!0;continue}if(""!==c){let te;te=F>s?"":i[F+1].toLowerCase();const oe=8&r?te:null;if(oe&&-1!==jf(oe,c,0)||2&r&&c!==te){if(Jn(r))return!1;o=!0}}}}else{if(!o&&!Jn(r)&&!Jn(l))return!1;if(o&&Jn(l))continue;o=!1,r=l|1&r}}return Jn(r)||o}function Jn(e){return 0==(1&e)}function sS(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const o=t[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function lS(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Wf(e,t,n=!1){for(let r=0;r<t.length;r++)if(iS(e,t[r],n))return!0;return!1}function zf(e,t){return e?":not("+t.trim()+")":t}function uS(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const a=e[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Jn(o)&&(t+=zf(s,i),i=""),r=o,s=s||!Jn(r);n++}return""!==i&&(t+=zf(s,i)),t}function fa(e){return Ar(()=>{const t=Xf(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===da.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Zn.Emulated,styles:e.styles||Pt,_:null,schemas:e.schemas||null,tView:null,id:""};Yf(n);const r=e.dependencies;return n.directiveDefs=pa(r,!1),n.pipeDefs=pa(r,!0),n.id=function _S(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function pS(e){return Et(e)||an(e)}function gS(e){return null!==e}function $r(e){return Ar(()=>({type:e.type,bootstrap:e.bootstrap||Pt,declarations:e.declarations||Pt,imports:e.imports||Pt,exports:e.exports||Pt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function qf(e,t){if(null==e)return hr;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}function gn(e){return Ar(()=>{const t=Xf(e);return Yf(t),t})}function Et(e){return e[ha]||null}function an(e){return e[Oc]||null}function mn(e){return e[Lc]||null}function Fn(e,t){const n=e[Nf]||null;if(!n&&!0===t)throw new Error(`Type ${rn(e)} does not have '\u0275mod' property.`);return n}function Xf(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||hr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Pt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qf(e.inputs,t),outputs:qf(e.outputs)}}function Yf(e){e.features?.forEach(t=>t(e))}function pa(e,t){if(!e)return null;const n=t?mn:pS;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(gS)}const qt=0,Ye=1,vt=2,Ht=3,er=4,js=5,dn=6,Pi=7,Zt=8,Wr=9,Mi=10,gt=11,Vs=12,Kf=13,Ii=14,Jt=15,Us=16,Ti=17,fr=18,Hs=19,Qf=20,zr=21,Pr=22,Gs=23,$s=24,wt=25,Bc=1,Zf=2,pr=7,xi=9,ln=11;function Dn(e){return Array.isArray(e)&&"object"==typeof e[Bc]}function vn(e){return Array.isArray(e)&&!0===e[Bc]}function jc(e){return 0!=(4&e.flags)}function oi(e){return e.componentOffset>-1}function tr(e){return!!e.template}function Vc(e){return 0!=(512&e[vt])}function ai(e,t){return e.hasOwnProperty(Dr)?e[Dr]:null}let cn=null,va=!1;function Un(e){const t=cn;return cn=e,t}const _a={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function rp(e){if(!zs(e)||e.dirty){if(!e.producerMustRecompute(e)&&!op(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function sp(e){e.dirty=!0,function ip(e){if(void 0===e.liveConsumerNode)return;const t=va;va=!0;try{for(const n of e.liveConsumerNode)n.dirty||sp(n)}finally{va=t}}(e),e.consumerMarkedDirty?.(e)}function ya(e){return e&&(e.nextProducerIndex=0),Un(e)}function ba(e,t){if(Un(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(zs(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)wa(e.producerNode[n],e.producerIndexOfThis[n]);for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function op(e){Ri(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(rp(n),r!==n.version))return!0}return!1}function ap(e){if(Ri(e),zs(e))for(let t=0;t<e.producerNode.length;t++)wa(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function wa(e,t){if(function cp(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Ri(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)wa(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Ri(i),i.producerIndexOfThis[r]=t}}function zs(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ri(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let up=null;const pp=()=>{},TS={..._a,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:pp};class xS{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Xr(){return gp}function gp(e){return e.type.prototype.ngOnChanges&&(e.setInput=FS),RS}function RS(){const e=vp(this),t=e?.current;if(t){const n=e.previous;if(n===hr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function FS(e,t,n,r){const i=this.declaredInputs[n],s=vp(e)||function kS(e,t){return e[mp]=t}(e,{previous:hr,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new xS(l&&l.currentValue,t,a===hr),e[r]=t}Xr.ngInherit=!0;const mp="__ngSimpleChanges__";function vp(e){return e[mp]||null}const gr=function(e,t,n){};function Nt(e){for(;Array.isArray(e);)e=e[qt];return e}function Pn(e,t){return Nt(t[e.index])}function bp(e,t){return e.data[t]}function kn(e,t){const n=t[e];return Dn(n)?n:n[qt]}function Yr(e,t){return null==t?null:e[t]}function wp(e){e[Ti]=0}function VS(e){1024&e[vt]||(e[vt]|=1024,Cp(e,1))}function Sp(e){1024&e[vt]&&(e[vt]&=-1025,Cp(e,-1))}function Cp(e,t){let n=e[Ht];if(null===n)return;n[js]+=t;let r=n;for(n=n[Ht];null!==n&&(1===t&&1===r[js]||-1===t&&0===r[js]);)n[js]+=t,r=n,n=n[Ht]}const ct={lFrame:kp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Dp(){return ct.bindingsEnabled}function Be(){return ct.lFrame.lView}function At(){return ct.lFrame.tView}function un(){let e=Pp();for(;null!==e&&64===e.type;)e=e.parent;return e}function Pp(){return ct.lFrame.currentTNode}function mr(e,t){const n=ct.lFrame;n.currentTNode=e,n.isParent=t}function Xc(){return ct.lFrame.isParent}function eC(e,t){const n=ct.lFrame;n.bindingIndex=n.bindingRootIndex=e,Kc(t)}function Kc(e){ct.lFrame.currentDirectiveIndex=e}function xp(){return ct.lFrame.currentQueryIndex}function Zc(e){ct.lFrame.currentQueryIndex=e}function nC(e){const t=e[Ye];return 2===t.type?t.declTNode:1===t.type?e[dn]:null}function Rp(e,t,n){if(n&bt.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&bt.Host||(i=nC(s),null===i||(s=s[Ii],10&i.type))););if(null===i)return!1;t=i,e=s}const r=ct.lFrame=Fp();return r.currentTNode=t,r.lView=e,!0}function Jc(e){const t=Fp(),n=e[Ye];ct.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Fp(){const e=ct.lFrame,t=null===e?null:e.child;return null===t?kp(e):t}function kp(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Op(){const e=ct.lFrame;return ct.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Lp=Op;function eu(){const e=Op();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function yn(){return ct.lFrame.selectedIndex}function li(e){ct.lFrame.selectedIndex=e}let Bp=!0;function Ea(){return Bp}function Kr(e){Bp=e}function Aa(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:b}=s;o&&(e.contentHooks??=[]).push(-n,o),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),null!=b&&(e.destroyHooks??=[]).push(n,b)}}function Da(e,t,n){jp(e,t,3,n)}function Pa(e,t,n,r){(3&e[vt])===n&&jp(e,t,n,r)}function tu(e,t){let n=e[vt];(3&n)===t&&(n&=8191,n+=1,e[vt]=n)}function jp(e,t,n,r){const s=r??-1,o=t.length-1;let a=0;for(let l=void 0!==r?65535&e[Ti]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[Ti]+=65536),(a<s||-1==s)&&(uC(e,n,t,l),e[Ti]=(4294901760&e[Ti])+l+2),l++}function Vp(e,t){gr(4,e,t);const n=Un(null);try{t.call(e)}finally{Un(n),gr(5,e,t)}}function uC(e,t,n,r){const i=n[r]<0,s=n[r+1],a=e[i?-n[r]:n[r]];i?e[vt]>>13<e[Ti]>>16&&(3&e[vt])===t&&(e[vt]+=8192,Vp(a,s)):Vp(a,s)}const Li=-1;class Xs{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ru(e){return e!==Li}function Ys(e){return 32767&e}function Ks(e,t){let n=function pC(e){return e>>16}(e),r=t;for(;n>0;)r=r[Ii],n--;return r}let iu=!0;function Ma(e){const t=iu;return iu=e,t}const Up=255,Hp=5;let gC=0;const vr={};function Ia(e,t){const n=Gp(e,t);if(-1!==n)return n;const r=t[Ye];r.firstCreatePass&&(e.injectorIndex=t.length,su(r.data,e),su(t,null),su(r.blueprint,null));const i=Ta(e,t),s=e.injectorIndex;if(ru(i)){const o=Ys(i),a=Ks(i,t),l=a[Ye].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=i,s}function su(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Gp(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ta(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Qp(i),null===r)return Li;if(n++,i=i[Ii],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Li}function ou(e,t,n){!function mC(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ns)&&(r=n[Ns]),null==r&&(r=n[Ns]=gC++);const i=r&Up;t.data[e+(i>>Hp)]|=1<<i}(e,t,n)}function $p(e,t,n){if(n&bt.Optional||void 0!==e)return e;Dc()}function Wp(e,t,n,r){if(n&bt.Optional&&void 0===r&&(r=null),!(n&(bt.Self|bt.Host))){const i=e[Wr],s=En(void 0);try{return i?i.get(t,r,n&bt.Optional):Ff(t,r,n&bt.Optional)}finally{En(s)}}return $p(r,0,n)}function zp(e,t,n,r=bt.Default,i){if(null!==e){if(2048&t[vt]&&!(r&bt.Self)){const o=function SC(e,t,n,r,i){let s=e,o=t;for(;null!==s&&null!==o&&2048&o[vt]&&!(512&o[vt]);){const a=qp(s,o,n,r|bt.Self,vr);if(a!==vr)return a;let l=s.parent;if(!l){const c=o[Qf];if(c){const b=c.get(n,vr,r);if(b!==vr)return b}l=Qp(o),o=o[Ii]}s=l}return i}(e,t,n,r,vr);if(o!==vr)return o}const s=qp(e,t,n,r,vr);if(s!==vr)return s}return Wp(t,n,r,i)}function qp(e,t,n,r,i){const s=function yC(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ns)?e[Ns]:void 0;return"number"==typeof t?t>=0?t&Up:wC:t}(n);if("function"==typeof s){if(!Rp(t,e,r))return r&bt.Host?$p(i,0,r):Wp(t,n,r,i);try{let o;if(o=s(r),null!=o||r&bt.Optional)return o;Dc()}finally{Lp()}}else if("number"==typeof s){let o=null,a=Gp(e,t),l=Li,c=r&bt.Host?t[Jt][dn]:null;for((-1===a||r&bt.SkipSelf)&&(l=-1===a?Ta(e,t):t[a+8],l!==Li&&Yp(r,!1)?(o=t[Ye],a=Ys(l),t=Ks(l,t)):a=-1);-1!==a;){const b=t[Ye];if(Xp(s,a,b.data)){const F=_C(a,t,n,o,r,c);if(F!==vr)return F}l=t[a+8],l!==Li&&Yp(r,t[Ye].data[a+8]===c)&&Xp(s,a,t)?(o=b,a=Ys(l),t=Ks(l,t)):a=-1}}return i}function _C(e,t,n,r,i,s){const o=t[Ye],a=o.data[e+8],b=xa(a,o,n,null==r?oi(a)&&iu:r!=o&&0!=(3&a.type),i&bt.Host&&s===a);return null!==b?ci(t,o,b,a):vr}function xa(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,b=s>>20,te=i?a+b:e.directiveEnd;for(let oe=r?a:a+b;oe<te;oe++){const _e=o[oe];if(oe<l&&n===_e||oe>=l&&_e.type===n)return oe}if(i){const oe=o[l];if(oe&&tr(oe)&&oe.type===n)return l}return null}function ci(e,t,n,r){let i=e[n];const s=t.data;if(function dC(e){return e instanceof Xs}(i)){const o=i;o.resolving&&function jw(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new qe(-200,`Circular dependency in DI detected for ${e}${n}`)}(Tt(s[n]));const a=Ma(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?En(o.injectImpl):null;Rp(e,r,bt.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function cC(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=gp(t);(n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o)}i&&(n.preOrderHooks??=[]).push(0-e,i),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==c&&En(c),Ma(a),o.resolving=!1,Lp()}}return i}function Xp(e,t,n){return!!(n[t+(e>>Hp)]&1<<e)}function Yp(e,t){return!(e&bt.Self||e&bt.Host&&t)}class bn{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return zp(this._tNode,this._lView,t,ua(r),n)}}function wC(){return new bn(un(),Be())}function au(e){return Ec(e)?()=>{const t=au(dt(e));return t&&t()}:ai(e)}function Qp(e){const t=e[Ye],n=t.type;return 2===n?t.declTNode:1===n?e[dn]:null}const Bi="__parameters__";function Vi(e,t,n){return Ar(()=>{const r=function lu(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,b){const F=l.hasOwnProperty(Bi)?l[Bi]:Object.defineProperty(l,Bi,{value:[]})[Bi];for(;F.length<=b;)F.push(null);return(F[b]=F[b]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Hi(e,t){e.forEach(n=>Array.isArray(n)?Hi(n,t):t(n))}function Jp(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Fa(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Oa=Ls(Vi("Optional"),8),La=Ls(Vi("SkipSelf"),4);function Ua(e){return 128==(128&e.flags)}var Qr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Qr||{});const pu=new Map;let JC=0;const mu="__ngContext__";function hn(e,t){Dn(t)?(e[mu]=t[Hs],function tE(e){pu.set(e[Hs],e)}(t)):e[mu]=t}let vu;function _u(e,t){return vu(e,t)}function no(e){const t=e[Ht];return vn(t)?t[Ht]:t}function bg(e){return Sg(e[Vs])}function wg(e){return Sg(e[er])}function Sg(e){for(;null!==e&&!vn(e);)e=e[er];return e}function zi(e,t,n,r,i){if(null!=r){let s,o=!1;vn(r)?s=r:Dn(r)&&(o=!0,r=r[qt]);const a=Nt(r);0===e&&null!==n?null==i?Dg(t,n,a):ui(t,n,a,i||null,!0):1===e&&null!==n?ui(t,n,a,i||null,!0):2===e?function Xa(e,t,n){const r=za(e,t);r&&function bE(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function CE(e,t,n,r,i){const s=n[pr];s!==Nt(n)&&zi(t,e,r,s,i);for(let a=ln;a<n.length;a++){const l=n[a];io(l[Ye],l,e,t,r,s)}}(t,e,s,n,i)}}function $a(e,t,n){return e.createElement(t,n)}function Eg(e,t){const n=e[xi],r=n.indexOf(t);Sp(t),n.splice(r,1)}function Wa(e,t){if(e.length<=ln)return;const n=ln+t,r=e[n];if(r){const i=r[Us];null!==i&&i!==e&&Eg(i,r),t>0&&(e[n-1][er]=r[er]);const s=Fa(e,ln+t);!function hE(e,t){io(e,t,t[gt],2,null,null),t[qt]=null,t[dn]=null}(r[Ye],r);const o=s[fr];null!==o&&o.detachView(s[Ye]),r[Ht]=null,r[er]=null,r[vt]&=-129}return r}function bu(e,t){if(!(256&t[vt])){const n=t[gt];t[Gs]&&ap(t[Gs]),t[$s]&&ap(t[$s]),n.destroyNode&&io(e,t,n,3,null,null),function gE(e){let t=e[Vs];if(!t)return wu(e[Ye],e);for(;t;){let n=null;if(Dn(t))n=t[Vs];else{const r=t[ln];r&&(n=r)}if(!n){for(;t&&!t[er]&&t!==e;)Dn(t)&&wu(t[Ye],t),t=t[Ht];null===t&&(t=e),Dn(t)&&wu(t[Ye],t),n=t&&t[er]}t=n}}(t)}}function wu(e,t){if(!(256&t[vt])){t[vt]&=-129,t[vt]|=256,function yE(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Xs)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];gr(4,a,l);try{l.call(a)}finally{gr(5,a,l)}}else{gr(4,i,s);try{s.call(i)}finally{gr(5,i,s)}}}}}(e,t),function _E(e,t){const n=e.cleanup,r=t[Pi];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[Pi]=null);const i=t[zr];if(null!==i){t[zr]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(e,t),1===t[Ye].type&&t[gt].destroy();const n=t[Us];if(null!==n&&vn(t[Ht])){n!==t[Ht]&&Eg(n,t);const r=t[fr];null!==r&&r.detachView(e)}!function nE(e){pu.delete(e[Hs])}(t)}}function Su(e,t,n){return function Ag(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[qt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===Zn.None||s===Zn.Emulated)return null}return Pn(r,n)}}(e,t.parent,n)}function ui(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Dg(e,t,n){e.appendChild(t,n)}function Pg(e,t,n,r,i){null!==r?ui(e,t,n,r,i):Dg(e,t,n)}function za(e,t){return e.parentNode(t)}let Cu,Pu,Tg=function Ig(e,t,n){return 40&e.type?Pn(e,n):null};function qa(e,t,n,r){const i=Su(e,r,t),s=t[gt],a=function Mg(e,t,n){return Tg(e,t,n)}(r.parent||t[dn],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)Pg(s,i,n[l],a,!1);else Pg(s,i,n,a,!1);void 0!==Cu&&Cu(s,r,t,n,i)}function ro(e,t){if(null!==t){const n=t.type;if(3&n)return Pn(t,e);if(4&n)return Eu(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ro(e,r);{const i=e[t.index];return vn(i)?Eu(-1,i):Nt(i)}}if(32&n)return _u(t,e)()||Nt(e[t.index]);{const r=Rg(e,t);return null!==r?Array.isArray(r)?r[0]:ro(no(e[Jt]),r):ro(e,t.next)}}return null}function Rg(e,t){return null!==t?e[Jt][dn].projection[t.projection]:null}function Eu(e,t){const n=ln+e+1;if(n<t.length){const r=t[n],i=r[Ye].firstChild;if(null!==i)return ro(r,i)}return t[pr]}function Au(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===t&&(a&&hn(Nt(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Au(e,t,n.child,r,i,s,!1),zi(t,e,i,a,s);else if(32&l){const c=_u(n,r);let b;for(;b=c();)zi(t,e,i,b,s);zi(t,e,i,a,s)}else 16&l?kg(e,t,r,n,i,s):zi(t,e,i,a,s);n=o?n.projectionNext:n.next}}function io(e,t,n,r,i,s){Au(n,r,e.firstChild,t,i,s,!1)}function kg(e,t,n,r,i,s){const o=n[Jt],l=o[dn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)zi(t,e,i,l[c],s);else{let c=l;const b=o[Ht];Ua(r)&&(c.flags|=128),Au(e,t,c,b,i,s,!0)}}function Og(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Lg(e,t,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Nc(e,t,r),null!==i&&Og(e,t,i),null!==s&&function AE(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}class rt{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=at({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const lo=new rt("ENVIRONMENT_INITIALIZER"),Kg=new rt("INJECTOR",-1),Qg=new rt("INJECTOR_DEF_TYPES");class Fu{get(t,n=Os){if(n===Os){const r=new Error(`NullInjectorError: No provider for ${rn(t)}!`);throw r.name="NullInjectorError",r}return n}}function ZE(...e){return{\u0275providers:Jg(0,e),\u0275fromNgModule:!0}}function Jg(e,...t){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Hi(t,o=>{const a=o;Za(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&em(i,s),n}function em(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];ku(i,s=>{t(s,r)})}}function Za(e,t,n,r){if(!(e=dt(e)))return!1;let i=null,s=aa(e);const o=!s&&Et(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const l=e.ngModule;if(s=aa(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Za(c,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Hi(s.imports,b=>{Za(b,t,n,r)&&(c||=[],c.push(b))})}finally{}void 0!==c&&em(c,t)}if(!a){const c=ai(i)||(()=>new i);t({provide:i,useFactory:c,deps:Pt},i),t({provide:Qg,useValue:i,multi:!0},i),t({provide:lo,useValue:()=>st(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=e;ku(l,b=>{t(b,c)})}}}return i!==e&&void 0!==e.providers}function ku(e,t){for(let n of e)Ac(n)&&(n=n.\u0275providers),Array.isArray(n)?ku(n,t):t(n)}const JE=Rt({provide:String,useValue:Rt});function Ou(e){return null!==e&&"object"==typeof e&&JE in e}function di(e){return"function"==typeof e}const Lu=new rt("Set Injector scope."),Ja={},tA={};let Nu;function el(){return void 0===Nu&&(Nu=new Fu),Nu}class Gn{}class tl extends Gn{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ju(t,o=>this.processProvider(o)),this.records.set(Kg,Ki(void 0,this)),i.has("environment")&&this.records.set(Gn,Ki(void 0,this));const s=this.records.get(Lu);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Qg.multi,Pt,bt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Gr(this),r=En(void 0);try{return t()}finally{Gr(n),En(r)}}get(t,n=Os,r=bt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Bf))return t[Bf](this);r=ua(r);const s=Gr(this),o=En(void 0);try{if(!(r&bt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function oA(e){return"function"==typeof e||"object"==typeof e&&e instanceof rt}(t)&&oa(t);l=c&&this.injectableDefInScope(c)?Ki(Bu(t),Ja):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&bt.Self?el():this.parent).get(t,n=r&bt.Optional&&n===Os?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[ca]=a[ca]||[]).unshift(rn(t)),s)throw a;return function eS(e,t,n,r){const i=e[ca];throw t[Of]&&i.unshift(t[Of]),e.message=function tS(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=rn(t);if(Array.isArray(t))i=t.map(rn).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):rn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Yw,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[ca]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{En(o),Gr(s)}}resolveInjectorInitializers(){const t=Gr(this),n=En(void 0);try{const i=this.get(lo.multi,Pt,bt.Self);for(const s of i)s()}finally{Gr(t),En(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(rn(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qe(205,!1)}processProvider(t){let n=di(t=dt(t))?t:dt(t&&t.provide);const r=function rA(e){return Ou(e)?Ki(void 0,e.useValue):Ki(function rm(e,t,n){let r;if(di(e)){const i=dt(e);return ai(i)||Bu(i)}if(Ou(e))r=()=>dt(e.useValue);else if(function nm(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...kc(e.deps||[]));else if(function tm(e){return!(!e||!e.useExisting)}(e))r=()=>st(dt(e.useExisting));else{const i=dt(e&&(e.useClass||e.provide));if(!function iA(e){return!!e.deps}(e))return ai(i)||Bu(i);r=()=>new i(...kc(e.deps))}return r}(e),Ja)}(t);if(di(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ki(void 0,Ja,!0),i.factory=()=>kc(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Ja&&(n.value=tA,n.value=n.factory()),"object"==typeof n.value&&n.value&&function sA(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=dt(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Bu(e){const t=oa(e),n=null!==t?t.factory:ai(e);if(null!==n)return n;if(e instanceof rt)throw new qe(204,!1);if(e instanceof Function)return function nA(e){const t=e.length;if(t>0)throw function Js(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new qe(204,!1);const n=function Ww(e){return e&&(e[la]||e[xf])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new qe(204,!1)}function Ki(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ju(e,t){for(const n of e)Array.isArray(n)?ju(n,t):n&&Ac(n)?ju(n.\u0275providers,t):t(n)}const nl=new rt("AppId",{providedIn:"root",factory:()=>aA}),aA="ng",im=new rt("Platform Initializer"),Qi=new rt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),sm=new rt("CSP nonce",{providedIn:"root",factory:()=>function Xi(){if(void 0!==Pu)return Pu;if(typeof document<"u")return document;throw new qe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let om=(e,t,n)=>null;function qu(e,t,n=!1){return om(e,t,n)}class vA{}class cm{}class yA{resolveComponentFactory(t){throw function _A(e){const t=Error(`No component factory found for ${rn(e)}.`);return t.ngComponent=e,t}(t)}}let ll=(()=>{class t{}return t.NULL=new yA,t})();function bA(){return es(un(),Be())}function es(e,t){return new xr(Pn(e,t))}let xr=(()=>{class t{constructor(r){this.nativeElement=r}}return t.__NG_ELEMENT_ID__=bA,t})();function wA(e){return e instanceof xr?e.nativeElement:e}class dm{}let CA=(()=>{var e;class t{}return(e=t).\u0275prov=at({token:e,providedIn:"root",factory:()=>null}),t})();class ul{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const EA=new ul("16.2.4"),Ku={};function gm(e,t=null,n=null,r){const i=mm(e,t,n,r);return i.resolveInjectorInitializers(),i}function mm(e,t=null,n=null,r,i=new Set){const s=[n||Pt,ZE(e)];return r=r||("object"==typeof e?void 0:rn(e)),new tl(s,t||el(),r||null,i)}let $n=(()=>{var e;class t{static create(r,i){if(Array.isArray(r))return gm({name:""},i,r,"");{const s=r.name??"";return gm({name:s},r.parent,r.providers,s)}}}return(e=t).THROW_IF_NOT_FOUND=Os,e.NULL=new Fu,e.\u0275prov=at({token:e,providedIn:"any",factory:()=>st(Kg)}),e.__NG_ELEMENT_ID__=-1,t})();function Ju(e){return t=>{setTimeout(e,void 0,t)}}const Xt=class xA extends O{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,s=n||(()=>null),o=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Ju(s),i&&(i=Ju(i)),o&&(o=Ju(o)));const a=super.subscribe({next:i,error:s,complete:o});return t instanceof le&&t.add(a),a}};function vm(...e){}class kt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xt(!1),this.onMicrotaskEmpty=new Xt(!1),this.onStable=new Xt(!1),this.onError=new Xt(!1),typeof Zone>"u")throw new qe(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function RA(){const e="function"==typeof Lt.requestAnimationFrame;let t=Lt[e?"requestAnimationFrame":"setTimeout"],n=Lt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function OA(e){const t=()=>{!function kA(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Lt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,td(e),e.isCheckStableRunning=!0,ed(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),td(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function NA(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return _m(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),ym(e)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return _m(e),n.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),ym(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,td(e),ed(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kt.isInAngularZone())throw new qe(909,!1)}static assertNotInAngularZone(){if(kt.isInAngularZone())throw new qe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,FA,vm,vm);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const FA={};function ed(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function td(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function _m(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ym(e){e._nesting--,ed(e)}class LA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xt,this.onMicrotaskEmpty=new Xt,this.onStable=new Xt,this.onError=new Xt}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const bm=new rt("",{providedIn:"root",factory:wm});function wm(){const e=Je(kt);let t=!0;return function Ow(...e){const t=ks(e),n=function Mw(e,t){return"number"==typeof bc(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Ct(r[0]):Ei(n)(nn(r,t)):ur}(new de(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new de(i=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{kt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const o=e.onUnstable.subscribe(()=>{kt.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Mf()))}function Rr(e){return e instanceof Function?e():e}let nd=(()=>{var e;class t{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new qe(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(e=t).\u0275prov=at({token:e,providedIn:"root",factory:()=>new e}),t})();function ho(e){for(;e;){e[vt]|=64;const t=no(e);if(Vc(e)&&!t)return e;e=t}return null}function rd(e){return e.ngOriginalError}class hi{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&rd(t);for(;n&&rd(n);)n=rd(n);return n||null}}const Dm=new rt("",{providedIn:"root",factory:()=>!1});let hl=null;function Tm(e,t){return e[t]??Fm()}function xm(e,t){const n=Fm();n.producerNode?.length&&(e[t]=hl,n.lView=e,hl=Rm())}const qA={..._a,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ho(e.lView)},lView:null};function Rm(){return Object.create(qA)}function Fm(){return hl??=Rm(),hl}const mt={};function Om(e,t,n,r){if(!r)if(3==(3&t[vt])){const s=e.preOrderCheckHooks;null!==s&&Da(t,s,n)}else{const s=e.preOrderHooks;null!==s&&Pa(t,s,0,n)}li(n)}function it(e,t=bt.Default){const n=Be();return null===n?st(e,t):zp(un(),n,dt(e),t)}function fl(e,t,n,r,i,s,o,a,l,c,b){const F=t.blueprint.slice();return F[qt]=i,F[vt]=140|r,(null!==c||e&&2048&e[vt])&&(F[vt]|=2048),wp(F),F[Ht]=F[Ii]=e,F[Zt]=n,F[Mi]=o||e&&e[Mi],F[gt]=a||e&&e[gt],F[Wr]=l||e&&e[Wr]||null,F[dn]=s,F[Hs]=function eE(){return JC++}(),F[Pr]=b,F[Qf]=c,F[Jt]=2==t.type?e[Jt]:F,F}function rs(e,t,n,r,i){let s=e.data[t];if(null===s)s=function id(e,t,n,r,i){const s=Pp(),o=Xc(),l=e.data[t]=function tD(e,t,n,r,i,s){let o=t?t.injectorIndex:-1,a=0;return function ki(){return null!==ct.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,t,n,r,i),function JS(){return ct.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function qs(){const e=ct.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return mr(s,!0),s}function fo(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Nm(e,t,n,r,i){const s=Tm(t,Gs),o=yn(),a=2&r;try{li(-1),a&&t.length>wt&&Om(e,t,wt,!1),gr(a?2:0,i);const c=a?s:null,b=ya(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{ba(c,b)}}finally{a&&null===t[Gs]&&xm(t,Gs),li(o),gr(a?3:1,i)}}function sd(e,t,n){if(jc(t)){const r=Un(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Un(r)}}}function Bm(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ld(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ld(e,t,n,r,i,s,o,a,l,c,b){const F=wt+r,te=F+i,oe=function YA(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:mt);return n}(F,te),_e="function"==typeof c?c():c;return oe[Ye]={type:e,blueprint:oe,template:n,queries:null,viewQuery:a,declTNode:t,data:oe.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:_e,incompleteFirstPass:!1,ssrId:b}}let jm=e=>null;function Vm(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const s=e[i];null===r?Um(n,t,i,s):r.hasOwnProperty(i)&&Um(n,t,r[i],s)}return n}function Um(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Hm(e,t,n,r,i,s){for(let c=0;c<r.length;c++)ou(Ia(n,t),e,r[c].type);!function fD(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let c=0;c<r.length;c++){const b=r[c];b.providersResolver&&b.providersResolver(b)}let o=!1,a=!1,l=fo(e,t,r.length,null);for(let c=0;c<r.length;c++){const b=r[c];n.mergedAttrs=Bs(n.mergedAttrs,b.hostAttrs),pD(e,n,t,l,b),hD(l,b,i),null!==b.contentQueries&&(n.flags|=4),(null!==b.hostBindings||null!==b.hostAttrs||0!==b.hostVars)&&(n.flags|=64);const F=b.type.prototype;!o&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),o=!0),!a&&(F.ngOnChanges||F.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function nD(e,t,n){const i=t.directiveEnd,s=e.data,o=t.attrs,a=[];let l=null,c=null;for(let b=t.directiveStart;b<i;b++){const F=s[b],te=n?n.get(F):null,_e=te?te.outputs:null;l=Vm(F.inputs,b,l,te?te.inputs:null),c=Vm(F.outputs,b,c,_e);const Me=null===l||null===o||$f(t)?null:vD(l,b,o);a.push(Me)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,n,s)}function Gm(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function tC(){return ct.lFrame.currentDirectiveIndex}();try{li(s);for(let a=r;a<i;a++){const l=e.data[a],c=t[a];Kc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&cD(l,c)}}finally{li(-1),Kc(o)}}function cD(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ud(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function hD(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;tr(t)&&(n[""]=e)}}function pD(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ai(i.type)),o=new Xs(s,tr(i),it);e.blueprint[r]=o,n[r]=o,function oD(e,t,n,r,i){const s=i.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~t.index;(function aD(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(e,t,r,fo(e,n,i.hostVars,mt),i)}function mD(e,t,n,r,i,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)$m(r,n,o[a++],o[a++],o[a++])}function $m(e,t,n,r,i){const s=Un(null);try{const o=e.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{Un(s)}}function vD(e,t,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function zm(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=e.data[s];Zc(n[r]),o.contentQueries(2,t[s],s)}}}function pl(e,t){return e[Vs]?e[Kf][er]=t:e[Vs]=t,e[Kf]=t,t}function hd(e,t,n){Zc(0);const r=Un(null);try{t(e,n)}finally{Un(r)}}function fd(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];$m(e.data[o],t[o],r,a,i)}}function _D(e,t){const n=kn(t,e),r=n[Ye];!function yD(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[qt];null!==i&&null===n[Pr]&&(n[Pr]=qu(i,n[Wr])),pd(r,n,n[Zt])}function pd(e,t,n){Jc(t);try{const r=e.viewQuery;null!==r&&hd(1,r,n);const i=e.template;null!==i&&Nm(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&zm(e,t),e.staticViewQueries&&hd(2,e.viewQuery,n);const s=e.components;null!==s&&function bD(e,t){for(let n=0;n<t.length;n++)_D(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[vt]&=-5,eu()}}let Qm=(()=>{var e;class t{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function IS(e,t,n){const r=Object.create(TS);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>sp(r),run:()=>{if(r.dirty=!1,r.hasRun&&!op(r))return;r.hasRun=!0;const o=ya(r);try{r.cleanupFn(),r.cleanupFn=pp,r.fn(i)}finally{ba(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,b=>{this.all.has(b)&&this.queue.set(b,o)},s);let l;this.all.add(a),a.notify();const c=()=>{a.cleanup(),l?.(),this.all.delete(a),this.queue.delete(a)};return l=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(e=t).\u0275prov=at({token:e,providedIn:"root",factory:()=>new e}),t})();function gl(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=Sc(i,a):2==s&&(r=Sc(r,a+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function po(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];null!==s&&r.push(Nt(s)),vn(s)&&Zm(s,r);const o=n.type;if(8&o)po(e,t,n.child,r);else if(32&o){const a=_u(n,t);let l;for(;l=a();)r.push(l)}else if(16&o){const a=Rg(t,n);if(Array.isArray(a))r.push(...a);else{const l=no(t[Jt]);po(l[Ye],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Zm(e,t){for(let n=ln;n<e.length;n++){const r=e[n],i=r[Ye].firstChild;null!==i&&po(r[Ye],r,i,t)}e[pr]!==e[qt]&&t.push(e[pr])}function ml(e,t,n,r=!0){const i=t[Mi],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{Jm(e,t,e.template,n)}catch(l){throw r&&function Km(e,t){const n=e[Wr],r=n?n.get(hi,null):null;r&&r.handleError(t)}(t,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function Jm(e,t,n,r){const i=t[vt];if(256!=(256&i)){t[Mi].effectManager?.flush(),Jc(t);try{wp(t),function Ip(e){return ct.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Nm(e,t,n,2,r);const o=3==(3&i);if(o){const c=e.preOrderCheckHooks;null!==c&&Da(t,c,null)}else{const c=e.preOrderHooks;null!==c&&Pa(t,c,0,null),tu(t,0)}if(function CD(e){for(let t=bg(e);null!==t;t=wg(t)){if(!t[Zf])continue;const n=t[xi];for(let r=0;r<n.length;r++){VS(n[r])}}}(t),ev(t,2),null!==e.contentQueries&&zm(e,t),o){const c=e.contentCheckHooks;null!==c&&Da(t,c)}else{const c=e.contentHooks;null!==c&&Pa(t,c,1),tu(t,1)}!function XA(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=Tm(t,$s);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)li(~s);else{const o=s,a=n[++i],l=n[++i];eC(a,o),r.dirty=!1;const c=ya(r);try{l(2,t[o])}finally{ba(r,c)}}}}finally{null===t[$s]&&xm(t,$s),li(-1)}}(e,t);const a=e.components;null!==a&&nv(t,a,0);const l=e.viewQuery;if(null!==l&&hd(2,l,r),o){const c=e.viewCheckHooks;null!==c&&Da(t,c)}else{const c=e.viewHooks;null!==c&&Pa(t,c,2),tu(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[vt]&=-73,Sp(t)}finally{eu()}}}function ev(e,t){for(let n=bg(e);null!==n;n=wg(n))for(let r=ln;r<n.length;r++)tv(n[r],t)}function ED(e,t,n){tv(kn(t,e),n)}function tv(e,t){if(!function BS(e){return 128==(128&e[vt])}(e))return;const n=e[Ye],r=e[vt];if(80&r&&0===t||1024&r||2===t)Jm(n,e,n.template,e[Zt]);else if(e[js]>0){ev(e,1);const i=n.components;null!==i&&nv(e,i,1)}}function nv(e,t,n){for(let r=0;r<t.length;r++)ED(e,t[r],n)}class go{get rootNodes(){const t=this._lView,n=t[Ye];return po(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zt]}set context(t){this._lView[Zt]=t}get destroyed(){return 256==(256&this._lView[vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Ht];if(vn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Wa(t,r),Fa(n,r))}this._attachedToViewContainer=!1}bu(this._lView[Ye],this._lView)}onDestroy(t){!function Ep(e,t){if(256==(256&e[vt]))throw new qe(911,!1);null===e[zr]&&(e[zr]=[]),e[zr].push(t)}(this._lView,t)}markForCheck(){ho(this._cdRefInjectingView||this._lView)}detach(){this._lView[vt]&=-129}reattach(){this._lView[vt]|=128}detectChanges(){ml(this._lView[Ye],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function pE(e,t){io(e,t,t[gt],2,null,null)}(this._lView[Ye],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new qe(902,!1);this._appRef=t}}class AD extends go{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;ml(t[Ye],t,t[Zt],!1)}checkNoChanges(){}get context(){return null}}class rv extends ll{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Et(t);return new mo(n,this.ngModule)}}function iv(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class PD{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ua(r);const i=this.injector.get(t,Ku,r);return i!==Ku||n===Ku?i:this.parentInjector.get(t,n,r)}}class mo extends cm{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=iv(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return iv(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function dS(e){return e.map(uS).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let s=(i=i||this.ngModule)instanceof Gn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new PD(t,s):t,a=o.get(dm,null);if(null===a)throw new qe(407,!1);const F={rendererFactory:a,sanitizer:o.get(CA,null),effectManager:o.get(Qm,null),afterRenderEventManager:o.get(nd,null)},te=a.createRenderer(null,this.componentDef),oe=this.componentDef.selectors[0][0]||"div",_e=r?function KA(e,t,n,r){const s=r.get(Dm,!1)||n===Zn.ShadowDom,o=e.selectRootElement(t,s);return function QA(e){jm(e)}(o),o}(te,r,this.componentDef.encapsulation,o):$a(te,oe,function DD(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(oe)),He=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Re=null;null!==_e&&(Re=qu(_e,o,!0));const tt=ld(0,null,null,1,0,null,null,null,null,null,null),ut=fl(null,tt,null,He,null,null,F,te,o,null,Re);let St,xn;Jc(ut);try{const Hr=this.componentDef;let Fs,Ef=null;Hr.findHostDirectiveDefs?(Fs=[],Ef=new Map,Hr.findHostDirectiveDefs(Hr,Fs,Ef),Fs.push(Hr)):Fs=[Hr];const mL=function ID(e,t){const n=e[Ye],r=wt;return e[r]=t,rs(n,r,2,"#host",null)}(ut,_e),vL=function TD(e,t,n,r,i,s,o){const a=i[Ye];!function xD(e,t,n,r){for(const i of e)t.mergedAttrs=Bs(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(gl(t,t.mergedAttrs,!0),null!==n&&Lg(r,n,t))}(r,e,t,o);let l=null;null!==t&&(l=qu(t,i[Wr]));const c=s.rendererFactory.createRenderer(t,n);let b=16;n.signals?b=4096:n.onPush&&(b=64);const F=fl(i,Bm(n),null,b,i[e.index],e,s,c,null,null,l);return a.firstCreatePass&&ud(a,e,r.length-1),pl(i,F),i[e.index]=F}(mL,_e,Hr,Fs,ut,F,te);xn=bp(tt,wt),_e&&function FD(e,t,n,r){if(r)Nc(e,n,["ng-version",EA.full]);else{const{attrs:i,classes:s}=function hS(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!Jn(i))break;i=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Nc(e,n,i),s&&s.length>0&&Og(e,n,s.join(" "))}}(te,Hr,_e,r),void 0!==n&&function kD(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(xn,this.ngContentSelectors,n),St=function RD(e,t,n,r,i,s){const o=un(),a=i[Ye],l=Pn(o,i);Hm(a,i,o,n,null,r);for(let b=0;b<n.length;b++)hn(ci(i,a,o.directiveStart+b,o),i);Gm(a,i,o),l&&hn(l,i);const c=ci(i,a,o.directiveStart+o.componentOffset,o);if(e[Zt]=i[Zt]=c,null!==s)for(const b of s)b(c,t);return sd(a,o,e),c}(vL,Hr,Fs,Ef,ut,[OD]),pd(tt,ut,null)}finally{eu()}return new MD(this.componentType,St,es(xn,ut),ut,xn)}}class MD extends vA{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new AD(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;fd(s[Ye],s,i,t,n),this.previousInputValues.set(t,n),ho(kn(this._tNode.index,s))}}get injector(){return new bn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function OD(){const e=un();Aa(Be()[Ye],e)}function Sd(e,t,n){const r=Be();return function fn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}(r,function Oi(){return ct.lFrame.bindingIndex++}(),t)&&function Ln(e,t,n,r,i,s,o,a){const l=Pn(t,n);let b,c=t.inputs;!a&&null!=c&&(b=c[r])?(fd(e,n,b,r,i),oi(t)&&function iD(e,t){const n=kn(t,e);16&n[vt]||(n[vt]|=64)}(n,t.index)):3&t.type&&(r=function rD(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,s.setProperty(l,r,i))}(At(),function Wt(){const e=ct.lFrame;return bp(e.tView,e.selectedIndex)}(),r,e,t,r[gt],n,!1),Sd}function Cd(e,t,n,r,i){const o=i?"class":"style";fd(e,n,t.inputs[o],o,r)}function fs(e,t,n,r){const i=Be(),s=At(),o=wt+e,a=i[gt],l=s.firstCreatePass?function mP(e,t,n,r,i,s){const o=t.consts,l=rs(t,e,2,r,Yr(o,i));return function cd(e,t,n,r){if(Dp()){const i=null===r?null:{"":-1},s=function uD(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Wf(t,o.selectors,!1))if(r||(r=[]),tr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ud(e,t,a.length)}else r.unshift(o),ud(e,t,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(e,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Hm(e,t,n,o,i,a),i&&function dD(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new qe(-301,!1);r.push(t[i],s)}}}(n,r,i)}n.mergedAttrs=Bs(n.mergedAttrs,n.attrs)}(t,n,l,Yr(o,s)),null!==l.attrs&&gl(l,l.attrs,!1),null!==l.mergedAttrs&&gl(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,t,n,r):s.data[o],c=Av(s,i,l,a,t,e);i[o]=c;const b=function ma(e){return 1==(1&e.flags)}(l);return mr(l,!0),Lg(a,c,l),32!=(32&l.flags)&&Ea()&&qa(s,i,c,l),0===function HS(){return ct.lFrame.elementDepthCount}()&&hn(c,i),function GS(){ct.lFrame.elementDepthCount++}(),b&&(function od(e,t,n){Dp()&&(function lD(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;oi(n)&&function gD(e,t,n){const r=Pn(t,e),i=Bm(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=pl(e,fl(e,i,null,o,r,t,null,e[Mi].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Ia(n,t),hn(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const l=e.data[a],c=ci(t,e,a,n);hn(c,t),null!==o&&mD(0,a-i,c,l,0,o),tr(l)&&(kn(n.index,t)[Zt]=ci(t,e,a,n))}}(e,t,n,Pn(n,t)),64==(64&n.flags)&&Gm(e,t,n))}(s,i,l),sd(s,l,i)),null!==r&&function ad(e,t,n=Pn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}(i,l),fs}function ps(){let e=un();Xc()?function Yc(){ct.lFrame.isParent=!1}():(e=e.parent,mr(e,!1));const t=e;(function WS(e){return ct.skipHydrationRootTNode===e})(t)&&function YS(){ct.skipHydrationRootTNode=null}(),function $S(){ct.lFrame.elementDepthCount--}();const n=At();return n.firstCreatePass&&(Aa(n,e),jc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function hC(e){return 0!=(8&e.flags)}(t)&&Cd(n,t,Be(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function fC(e){return 0!=(16&e.flags)}(t)&&Cd(n,t,Be(),t.stylesWithoutHost,!1),ps}function wo(e,t,n,r){return fs(e,t,n,r),ps(),wo}let Av=(e,t,n,r,i,s)=>(Kr(!0),$a(r,i,function Np(){return ct.lFrame.currentNamespace}()));function Cl(e){return!!e&&"function"==typeof e.then}function Mv(e){return!!e&&"function"==typeof e.subscribe}function Rd(e,t=""){const n=Be(),r=At(),i=e+wt,s=r.firstCreatePass?rs(r,i,1,t,null):r.data[i],o=r_(r,n,s,t,e);n[i]=o,Ea()&&qa(r,n,o,s),mr(s,!1)}let r_=(e,t,n,r,i)=>(Kr(!0),function Ga(e,t){return e.createText(t)}(t[gt],r));const vs="en-US";let D_=vs;class mi{}class Z_{}class Vd extends mi{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rv(this);const i=Fn(t);this._bootstrapComponents=Rr(i.bootstrap),this._r3Injector=mm(t,n,[{provide:mi,useValue:this},{provide:ll,useValue:this.componentFactoryResolver},...r],rn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ud extends Z_{constructor(t){super(),this.moduleType=t}create(t){return new Vd(this.moduleType,t,[])}}class J_ extends mi{constructor(t){super(),this.componentFactoryResolver=new rv(this),this.instance=null;const n=new tl([...t.providers,{provide:mi,useValue:this},{provide:ll,useValue:this.componentFactoryResolver}],t.parent||el(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Hd(e,t,n=null){return new J_({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let bI=(()=>{var e;class t{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=Jg(0,r.type),s=i.length>0?Hd([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=at({token:e,providedIn:"environment",factory:()=>new e(st(Gn))}),t})();function ey(e){e.getStandaloneInjector=t=>t.get(bI).getOrCreateStandaloneInjector(e)}function zI(){return this._results[Symbol.iterator]()}class $d{get changes(){return this._changes||(this._changes=new Xt)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=$d.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=zI)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function Hn(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function PC(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function XI(e,t,n,r=!0){const i=t[Ye];if(function mE(e,t,n,r){const i=ln+r,s=n.length;r>0&&(n[i-1][er]=t),r<s-ln?(t[er]=n[i],Jp(n,ln+r,t)):(n.push(t),t[er]=null),t[Ht]=n;const o=t[Us];null!==o&&n!==o&&function vE(e,t){const n=e[xi];t[Jt]!==t[Ht][Ht][Jt]&&(e[Zf]=!0),null===n?e[xi]=[t]:n.push(t)}(o,t);const a=t[fr];null!==a&&a.insertView(e),t[vt]|=128}(i,t,e,n),r){const s=Eu(n,e),o=t[gt],a=za(o,e[pr]);null!==a&&function fE(e,t,n,r,i,s){r[qt]=i,r[dn]=t,io(e,r,n,1,i,s)}(i,e[dn],o,t,a,s)}}let kr=(()=>{class t{}return t.__NG_ELEMENT_ID__=QI,t})();const YI=kr,KI=class extends YI{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function qI(e,t,n,r){const i=t.tView,a=fl(e,i,n,4096&e[vt]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Us]=e[t.index];const c=e[fr];return null!==c&&(a[fr]=c.createEmbeddedView(i)),pd(i,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new go(i)}};function QI(){return Tl(un(),Be())}function Tl(e,t){return 4&e.type?new KI(t,e,es(e,t)):null}let ir=(()=>{class t{}return t.__NG_ELEMENT_ID__=rT,t})();function rT(){return _y(un(),Be())}const iT=ir,my=class extends iT{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return es(this._hostTNode,this._hostLView)}get injector(){return new bn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ta(this._hostTNode,this._hostLView);if(ru(t)){const n=Ks(t,this._hostLView),r=Ys(t);return new bn(n[Ye].data[r+8],n)}return new bn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=vy(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-ln}createEmbeddedView(t,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,s){const o=t&&!function Zs(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const Me=n||{};a=Me.index,r=Me.injector,i=Me.projectableNodes,s=Me.environmentInjector||Me.ngModuleRef}const l=o?t:new mo(Et(t)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const je=(o?c:this.parentInjector).get(Gn,null);je&&(s=je)}Et(l.componentType??{});const oe=l.create(c,i,null,s);return this.insertImpl(oe.hostView,a,false),oe}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function jS(e){return vn(e[Ht])}(i)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=i[Ht],b=new my(c,c[dn],c[Ht]);b.detach(b.indexOf(t))}}const o=this._adjustIndex(n),a=this._lContainer;return XI(a,i,o,!r),t.attachToViewContainerRef(),Jp(Wd(a),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=vy(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Wa(this._lContainer,n);r&&(Fa(Wd(this._lContainer),n),bu(r[Ye],r))}detach(t){const n=this._adjustIndex(t,-1),r=Wa(this._lContainer,n);return r&&null!=Fa(Wd(this._lContainer),n)?new go(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function vy(e){return e[8]}function Wd(e){return e[8]||(e[8]=[])}function _y(e,t){let n;const r=t[e.index];return vn(r)?n=r:(n=function Wm(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}(r,t,null,e),t[e.index]=n,pl(t,n)),yy(n,t,e,r),new my(n,e,t)}let yy=function by(e,t,n,r){if(e[pr])return;let i;i=8&n.type?Nt(r):function sT(e,t){const n=e[gt],r=n.createComment(""),i=Pn(t,e);return ui(n,za(n,i),r,function wE(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[pr]=i};class zd{constructor(t){this.queryList=t,this.matches=null}clone(){return new zd(this.queryList)}setDirty(){this.queryList.setDirty()}}class qd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new qd(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Py(t,n).matches&&this.queries[n].setDirty()}}class wy{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Xd{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Xd(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Yd{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Yd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,n,lT(n,s)),this.matchTNodeWithReadOption(t,n,xa(n,t,s,!1,!1))}else r===kr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,xa(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===xr||i===ir||i===kr&&4&n.type)this.addMatch(n.index,-2);else{const s=xa(n,t,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function lT(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function uT(e,t,n,r){return-1===n?function cT(e,t){return 11&e.type?es(e,t):4&e.type?Tl(e,t):null}(t,e):-2===n?function dT(e,t,n){return n===xr?es(t,e):n===kr?Tl(t,e):n===ir?_y(t,e):void 0}(e,t,r):ci(e,e[Ye],n,t)}function Sy(e,t,n,r){const i=t[fr].queries[r];if(null===i.matches){const s=e.data,o=n.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:uT(t,s[c],o[l+1],n.metadata.read))}i.matches=a}return i.matches}function Kd(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Sy(e,t,i,n);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],b=t[-l];for(let F=ln;F<b.length;F++){const te=b[F];te[Us]===te[Ht]&&Kd(te[Ye],te,c,r)}if(null!==b[xi]){const F=b[xi];for(let te=0;te<F.length;te++){const oe=F[te];Kd(oe[Ye],oe,c,r)}}}}}return r}function Qd(e){const t=Be(),n=At(),r=xp();Zc(r+1);const i=Py(n,r);if(e.dirty&&function NS(e){return 4==(4&e[vt])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Kd(n,t,r,[]):Sy(n,t,i,r);e.reset(s,wA),e.notifyOnChanges()}return!0}return!1}function Cy(e,t,n){const r=At();r.firstCreatePass&&(function Dy(e,t,n){null===e.queries&&(e.queries=new Xd),e.queries.track(new Yd(t,n))}(r,new wy(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function Ay(e,t,n){const r=new $d(4==(4&n));(function eD(e,t,n,r){const i=function qm(e){return e[Pi]||(e[Pi]=[])}(t);i.push(n),e.firstCreatePass&&function Xm(e){return e.cleanup||(e.cleanup=[])}(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[fr]&&(t[fr]=new qd),t[fr].queries.push(new zd(r))}(r,Be(),t)}function Py(e,t){return e.queries.getByIndex(t)}const ih=new rt("Application Initializer");let sh=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=Je(ih,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(Cl(o))r.push(o);else if(Mv(o)){const a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),$y=(()=>{var e;class t{log(r){console.log(r)}warn(r){console.warn(r)}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const Or=new rt("LocaleId",{providedIn:"root",factory:()=>Je(Or,bt.Optional|bt.SkipSelf)||function OT(){return typeof $localize<"u"&&$localize.locale||vs}()});let Wy=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new jn(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class BT{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let zy=(()=>{var e;class t{compileModuleSync(r){return new Ud(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=Rr(Fn(r).declarations).reduce((a,l)=>{const c=Et(l);return c&&a.push(new mo(c)),a},[]);return new BT(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Ky=new rt(""),kl=new rt("");let uh,lh=(()=>{var e;class t{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uh||(function ix(e){uh=e}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(e=t).\u0275fac=function(r){return new(r||e)(st(kt),st(ch),st(kl))},e.\u0275prov=at({token:e,factory:e.\u0275fac}),t})(),ch=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return uh?.findTestabilityInTree(this,r,i)??null}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),ei=null;const Qy=new rt("AllowMultipleToken"),dh=new rt("PlatformDestroyListeners"),hh=new rt("appBootstrapListener");class Jy{constructor(t,n){this.name=t,this.token=n}}function tb(e,t,n=[]){const r=`Platform: ${t}`,i=new rt(r);return(s=[])=>{let o=fh();if(!o||o.injector.get(Qy,!1)){const a=[...n,...s,{provide:i,useValue:!0}];e?e(a):function ax(e){if(ei&&!ei.get(Qy,!1))throw new qe(400,!1);(function Zy(){!function ES(e){up=e}(()=>{throw new qe(600,!1)})})(),ei=e;const t=e.get(rb);(function eb(e){e.get(im,null)?.forEach(n=>n())})(e)}(function nb(e=[],t){return $n.create({name:t,providers:[{provide:Lu,useValue:"platform"},{provide:dh,useValue:new Set([()=>ei=null])},...e]})}(a,r))}return function cx(e){const t=fh();if(!t)throw new qe(401,!1);return t}()}}function fh(){return ei?.get(rb)??null}let rb=(()=>{var e;class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function ux(e="zone.js",t){return"noop"===e?new LA:"zone.js"===e?new kt(t):e}(i?.ngZone,function ib(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function yI(e,t,n){return new Vd(e,t,n)}(r.moduleType,this.injector,function cb(e){return[{provide:kt,useFactory:e},{provide:lo,multi:!0,useFactory:()=>{const t=Je(hx,{optional:!0});return()=>t.initialize()}},{provide:lb,useFactory:dx},{provide:bm,useFactory:wm}]}(()=>s)),a=o.injector.get(hi,null);return s.runOutsideAngular(()=>{const l=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{Ol(this._modules,o),l.unsubscribe()})}),function sb(e,t,n){try{const r=n();return Cl(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(a,s,()=>{const l=o.injector.get(sh);return l.runInitializers(),l.donePromise.then(()=>(function P_(e){Vn(e,"Expected localeId to be defined"),"string"==typeof e&&(D_=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Or,vs)||vs),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=ob({},i);return function sx(e,t,n){const r=new Ud(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(bs);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new qe(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qe(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(dh,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(r){return new(r||e)(st($n))},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function ob(e,t){return Array.isArray(t)?t.reduce(ob,e):{...e,...t}}let bs=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Je(lb),this.zoneIsStable=Je(bm),this.componentTypes=[],this.components=[],this.isStable=Je(Wy).hasPendingTasks.pipe(dr(r=>r?ht(!1):this.zoneIsStable),function Lw(e,t=Q){return e=e??Nw,h((n,r)=>{let i,s=!0;n.subscribe(w(r,o=>{const a=t(o);(s||!e(i,a))&&(s=!1,i=a,r.next(o))}))})}(),Mf()),this._injector=Je(Gn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof cm;if(!this._injector.get(sh).done)throw!s&&function Di(e){const t=Et(e)||an(e)||mn(e);return null!==t&&t.standalone}(r),new qe(405,!1);let a;a=s?r:this._injector.get(ll).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const l=function ox(e){return e.isBoundToModule}(a)?void 0:this._injector.get(mi),b=a.create($n.NULL,[],i||a.selector,l),F=b.location.nativeElement,te=b.injector.get(Ky,null);return te?.registerApplication(F),b.onDestroy(()=>{this.detachView(b.hostView),Ol(this.components,b),te?.unregisterApplication(F)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new qe(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Ol(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(hh,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ol(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new qe(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Ol(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const lb=new rt("",{providedIn:"root",factory:()=>Je(hi).handleError.bind(void 0)});function dx(){const e=Je(kt),t=Je(hi);return n=>e.runOutsideAngular(()=>t.handleError(n))}let hx=(()=>{var e;class t{constructor(){this.zone=Je(kt),this.applicationRef=Je(bs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();let ph=(()=>{class t{}return t.__NG_ELEMENT_ID__=px,t})();function px(e){return function gx(e,t,n){if(oi(e)&&!n){const r=kn(e.index,t);return new go(r,r)}return 47&e.type?new go(t[Jt],t):null}(un(),Be(),16==(16&e))}const Mx=tb(null,"core",[]);let Ix=(()=>{var e;class t{constructor(r){}}return(e=t).\u0275fac=function(r){return new(r||e)(st(bs))},e.\u0275mod=$r({type:e}),e.\u0275inj=Er({}),t})(),wh=null;function ws(){return wh}class Gx{}const zn=new rt("DocumentToken");let Sh=(()=>{var e;class t{historyGo(r){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:function(){return Je(Wx)},providedIn:"platform"}),t})();const $x=new rt("Location Initialized");let Wx=(()=>{var e;class t extends Sh{constructor(){super(),this._doc=Je(zn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ws().getBaseHref(this._doc)}onPopState(r){const i=ws().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=ws().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:function(){return new e},providedIn:"platform"}),t})();function Ch(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Pb(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Lr(e){return e&&"?"!==e[0]?"?"+e:e}let _i=(()=>{var e;class t{historyGo(r){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:function(){return Je(Ib)},providedIn:"root"}),t})();const Mb=new rt("appBaseHref");let Ib=(()=>{var e;class t extends _i{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Je(zn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Ch(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Lr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+Lr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+Lr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(e=t).\u0275fac=function(r){return new(r||e)(st(Sh),st(Mb,8))},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),zx=(()=>{var e;class t extends _i{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=Ch(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Lr(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Lr(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(e=t).\u0275fac=function(r){return new(r||e)(st(Sh),st(Mb,8))},e.\u0275prov=at({token:e,factory:e.\u0275fac}),t})(),Eh=(()=>{var e;class t{constructor(r){this._subject=new Xt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function Yx(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(Pb(Tb(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Lr(i))}normalize(r){return t.stripTrailingSlash(function Xx(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,Tb(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Lr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Lr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(e=t).normalizeQueryParams=Lr,e.joinWithSlash=Ch,e.stripTrailingSlash=Pb,e.\u0275fac=function(r){return new(r||e)(st(_i))},e.\u0275prov=at({token:e,factory:function(){return function qx(){return new Eh(st(_i))}()},providedIn:"root"}),t})();function Tb(e){return e.replace(/\/index.html$/,"")}let u1=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=$r({type:e}),e.\u0275inj=Er({}),t})();function zb(e){return"server"===e}let p1=(()=>{var e;class t{}return(e=t).\u0275prov=at({token:e,providedIn:"root",factory:()=>new g1(st(zn),window)}),t})();class g1{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function m1(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class V1 extends Gx{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Uh extends V1{static makeCurrent(){!function Hx(e){wh||(wh=e)}(new Uh)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function U1(){return Lo=Lo||document.querySelector("base"),Lo?Lo.getAttribute("href"):null}();return null==n?null:function H1(e){Zl=Zl||document.createElement("a"),Zl.setAttribute("href",e);const t=Zl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Lo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function FR(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Zl,Lo=null,$1=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac}),t})();const Hh=new rt("EventManagerPlugins");let Qb=(()=>{var e;class t{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new qe(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(e=t).\u0275fac=function(r){return new(r||e)(st(Hh),st(kt))},e.\u0275prov=at({token:e,factory:e.\u0275fac}),t})();class Zb{constructor(t){this._doc=t}}const Gh="ng-app-id";let Jb=(()=>{var e;class t{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zb(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Gh}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Gh),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Gh,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(e=t).\u0275fac=function(r){return new(r||e)(st(zn),st(nl),st(sm,8),st(Qi))},e.\u0275prov=at({token:e,factory:e.\u0275fac}),t})();const $h={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wh=/%COMP%/g,X1=new rt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function t0(e,t){return t.map(n=>n.replace(Wh,e))}let n0=(()=>{var e;class t{constructor(r,i,s,o,a,l,c,b=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=zb(l),this.defaultRenderer=new zh(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Zn.ShadowDom&&(i={...i,encapsulation:Zn.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof s0?s.applyToHost(r):s instanceof qh&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,l=this.ngZone,c=this.eventManager,b=this.sharedStylesHost,F=this.removeStylesOnCompDestroy,te=this.platformIsServer;switch(i.encapsulation){case Zn.Emulated:o=new s0(c,b,i,this.appId,F,a,l,te);break;case Zn.ShadowDom:return new Z1(c,b,r,i,a,l,this.nonce,te);default:o=new qh(c,b,i,F,a,l,te)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(r){return new(r||e)(st(Qb),st(Jb),st(nl),st(X1),st(zn),st(Qi),st(kt),st(sm))},e.\u0275prov=at({token:e,factory:e.\u0275fac}),t})();class zh{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS($h[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(r0(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(r0(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new qe(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=$h[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=$h[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Qr.DashCase|Qr.Important)?t.style.setProperty(n,r,i&Qr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Qr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=ws().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function r0(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class Z1 extends zh{constructor(t,n,r,i,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=t0(i.id,i.styles);for(const b of c){const F=document.createElement("style");a&&F.setAttribute("nonce",a),F.textContent=b,this.shadowRoot.appendChild(F)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qh extends zh{constructor(t,n,r,i,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?t0(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class s0 extends qh{constructor(t,n,r,i,s,o,a,l){const c=i+"-"+r.id;super(t,n,r,s,o,a,l,c),this.contentAttr=function Y1(e){return"_ngcontent-%COMP%".replace(Wh,e)}(c),this.hostAttr=function K1(e){return"_nghost-%COMP%".replace(Wh,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let J1=(()=>{var e;class t extends Zb{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(e=t).\u0275fac=function(r){return new(r||e)(st(zn))},e.\u0275prov=at({token:e,factory:e.\u0275fac}),t})();const o0=["alt","control","meta","shift"],eF={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tF={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let nF=(()=>{var e;class t extends Zb{constructor(r){super(r)}supports(r){return null!=t.parseEventName(r)}addEventListener(r,i,s){const o=t.parseEventName(i),a=t.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ws().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=t._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),o0.forEach(b=>{const F=i.indexOf(b);F>-1&&(i.splice(F,1),a+=b+".")}),a+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=eF[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),o0.forEach(a=>{a!==s&&(0,tF[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{t.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(e=t).\u0275fac=function(r){return new(r||e)(st(zn))},e.\u0275prov=at({token:e,factory:e.\u0275fac}),t})();const oF=tb(Mx,"browser",[{provide:Qi,useValue:"browser"},{provide:im,useValue:function rF(){Uh.makeCurrent()},multi:!0},{provide:zn,useFactory:function sF(){return function IE(e){Pu=e}(document),document},deps:[]}]),aF=new rt(""),c0=[{provide:kl,useClass:class G1{addToWindow(t){Lt.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new qe(5103,!1);return s},Lt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Lt.getAllAngularRootElements=()=>t.getAllRootElements(),Lt.frameworkStabilizers||(Lt.frameworkStabilizers=[]),Lt.frameworkStabilizers.push(r=>{const i=Lt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?ws().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:Ky,useClass:lh,deps:[kt,ch,kl]},{provide:lh,useClass:lh,deps:[kt,ch,kl]}],u0=[{provide:Lu,useValue:"root"},{provide:hi,useFactory:function iF(){return new hi},deps:[]},{provide:Hh,useClass:J1,multi:!0,deps:[zn,kt,Qi]},{provide:Hh,useClass:nF,multi:!0,deps:[zn]},n0,Jb,Qb,{provide:dm,useExisting:n0},{provide:class v1{},useClass:$1,deps:[]},[]];let lF=(()=>{var e;class t{constructor(r){}static withServerTransition(r){return{ngModule:t,providers:[{provide:nl,useValue:r.appId}]}}}return(e=t).\u0275fac=function(r){return new(r||e)(st(aF,12))},e.\u0275mod=$r({type:e}),e.\u0275inj=Er({providers:[...u0,...c0],imports:[u1,Ix]}),t})(),d0=(()=>{var e;class t{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(e=t).\u0275fac=function(r){return new(r||e)(st(zn))},e.\u0275prov=at({token:e,factory:function(r){let i=null;return i=r?new r:function uF(){return new d0(st(zn))}(),i},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:mF}=Array,{getPrototypeOf:vF,prototype:_F,keys:yF}=Object;const{isArray:SF}=Array;function g0(e){return U(t=>function CF(e,t){return SF(t)?e(...t):e(t)}(e,t))}function Yh(...e){const t=ks(e),n=function Pw(e){return f(bc(e))?e.pop():void 0}(e),{args:r,keys:i}=function bF(e){if(1===e.length){const t=e[0];if(mF(t))return{args:t,keys:null};if(function wF(e){return e&&"object"==typeof e&&vF(e)===_F}(t)){const n=yF(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return nn([],t);const s=new de(function AF(e,t,n=Q){return r=>{m0(t,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)m0(t,()=>{const c=nn(e[l],t);let b=!1;c.subscribe(w(r,F=>{s[l]=F,b||(b=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>function EF(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,o):Q));return n?s.pipe(g0(n)):s}function m0(e,t,n){e?Qt(n,e,t):t()}const Jl=A(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Kh(...e){return function DF(){return Ei(1)}()(nn(e,ks(e)))}function v0(e){return new de(t=>{Ct(e()).subscribe(t)})}function No(e,t){const n=f(e)?e:()=>e,r=i=>i.error(n());return new de(t?i=>t.schedule(r,0,i):r)}function Qh(){return h((e,t)=>{let n=null;e._refCount++;const r=w(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class _0 extends de{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,x(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new le;const n=this.getSubject();t.add(this.source.subscribe(w(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=le.EMPTY)}return t}refCount(){return Qh()(this)}}function Cs(e){return e<=0?()=>ur:h((t,n)=>{let r=0;t.subscribe(w(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function jr(e,t){return h((n,r)=>{let i=0;n.subscribe(w(r,s=>e.call(t,s,i++)&&r.next(s)))})}function ec(e){return h((t,n)=>{let r=!1;t.subscribe(w(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function y0(e=MF){return h((t,n)=>{let r=!1;t.subscribe(w(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function MF(){return new Jl}function yi(e,t){const n=arguments.length>=2;return r=>r.pipe(e?jr((i,s)=>e(i,s,r)):Q,Cs(1),n?ec(t):y0(()=>new Jl))}function Bo(e,t){return f(t)?$t(e,t,1):$t(e,1)}function pn(e,t,n){const r=f(e)||t||n?{next:e,error:t,complete:n}:e;return r?h((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(w(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Q}function bi(e){return h((t,n)=>{let s,r=null,i=!1;r=t.subscribe(w(n,void 0,void 0,o=>{s=Ct(e(o,bi(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Zh(e){return e<=0?()=>ur:h((t,n)=>{let r=[];t.subscribe(w(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Jh(e){return h((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function zt(e){return h((t,n)=>{Ct(e).subscribe(w(n,()=>n.complete(),k)),!n.closed&&t.subscribe(n)})}const _t="primary",jo=Symbol("RouteTitle");class FF{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Es(e){return new FF(e)}function kF(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Sr(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!b0(e[i],t[i]))return!1;return!0}function b0(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function w0(e){return e.length>0?e[e.length-1]:null}function ni(e){return function gF(e){return!!e&&(e instanceof de||f(e.lift)&&f(e.subscribe))}(e)?e:Cl(e)?nn(Promise.resolve(e)):ht(e)}const LF={exact:function E0(e,t,n){if(!wi(e.segments,t.segments)||!tc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!E0(e.children[r],t.children[r],n))return!1;return!0},subset:A0},S0={exact:function NF(e,t){return Sr(e,t)},subset:function BF(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>b0(e[n],t[n]))},ignored:()=>!0};function C0(e,t,n){return LF[n.paths](e.root,t.root,n.matrixParams)&&S0[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function A0(e,t,n){return D0(e,t,t.segments,n)}function D0(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!wi(i,n)||t.hasChildren()||!tc(i,n,r))}if(e.segments.length===n.length){if(!wi(e.segments,n)||!tc(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!A0(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(wi(e.segments,i)&&tc(e.segments,i,r)&&e.children[_t])&&D0(e.children[_t],t,s,r)}}function tc(e,t,n){return t.every((r,i)=>S0[n](e[i].parameters,r.parameters))}class As{constructor(t=new Ft([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Es(this.queryParams)),this._queryParamMap}toString(){return UF.serialize(this)}}class Ft{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nc(this)}}class Vo{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Es(this.parameters)),this._parameterMap}toString(){return I0(this)}}function wi(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Uo=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:function(){return new ef},providedIn:"root"}),t})();class ef{parse(t){const n=new ZF(t);return new As(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Ho(t.root,!0)}`,r=function $F(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${rc(n)}=${rc(i)}`).join("&"):`${rc(n)}=${rc(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function HF(e){return encodeURI(e)}(t.fragment)}`:""}`}}const UF=new ef;function nc(e){return e.segments.map(t=>I0(t)).join("/")}function Ho(e,t){if(!e.hasChildren())return nc(e);if(t){const n=e.children[_t]?Ho(e.children[_t],!1):"",r=[];return Object.entries(e.children).forEach(([i,s])=>{i!==_t&&r.push(`${i}:${Ho(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function VF(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===_t&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==_t&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===_t?[Ho(e.children[_t],!1)]:[`${i}:${Ho(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[_t]?`${nc(e)}/${n[0]}`:`${nc(e)}/(${n.join("//")})`}}function P0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rc(e){return P0(e).replace(/%3B/gi,";")}function tf(e){return P0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ic(e){return decodeURIComponent(e)}function M0(e){return ic(e.replace(/\+/g,"%20"))}function I0(e){return`${tf(e.path)}${function GF(e){return Object.keys(e).map(t=>`;${tf(t)}=${tf(e[t])}`).join("")}(e.parameters)}`}const WF=/^[^\/()?;#]+/;function nf(e){const t=e.match(WF);return t?t[0]:""}const zF=/^[^\/()?;=#]+/,XF=/^[^=?&#]+/,KF=/^[^&#]+/;class ZF{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ft([],{}):new Ft([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[_t]=new Ft(t,n)),r}parseSegment(){const t=nf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new qe(4009,!1);return this.capture(t),new Vo(ic(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function qF(e){const t=e.match(zF);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=nf(this.remaining);i&&(r=i,this.capture(r))}t[ic(n)]=ic(r)}parseQueryParam(t){const n=function YF(e){const t=e.match(XF);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function QF(e){const t=e.match(KF);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=M0(n),s=M0(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=nf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new qe(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=_t);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[_t]:new Ft([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new qe(4011,!1)}}function T0(e){return e.segments.length>0?new Ft([],{[_t]:e}):e}function x0(e){const t={};for(const r of Object.keys(e.children)){const s=x0(e.children[r]);if(r===_t&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function JF(e){if(1===e.numberOfChildren&&e.children[_t]){const t=e.children[_t];return new Ft(e.segments.concat(t.segments),t.children)}return e}(new Ft(e.segments,t))}function Si(e){return e instanceof As}function R0(e){let t;const i=T0(function n(s){const o={};for(const l of s.children){const c=n(l);o[l.outlet]=c}const a=new Ft(s.url,o);return s===e&&(t=a),a}(e.root));return t??i}function F0(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return rf(i,i,i,n,r);const s=function tk(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new O0(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new O0(n,t,r)}(t);if(s.toRoot())return rf(i,i,new Ft([],{}),n,r);const o=function nk(e,t,n){if(e.isAbsolute)return new oc(t,!0,0);if(!n)return new oc(t,!1,NaN);if(null===n.parent)return new oc(n,!0,0);const r=sc(e.commands[0])?0:1;return function rk(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new qe(4005,!1);i=r.segments.length}return new oc(r,!1,i-s)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(s,i,e),a=o.processChildren?$o(o.segmentGroup,o.index,s.commands):L0(o.segmentGroup,o.index,s.commands);return rf(i,o.segmentGroup,a,n,r)}function sc(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Go(e){return"object"==typeof e&&null!=e&&e.outlets}function rf(e,t,n,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(b=>`${b}`):`${c}`}),o=e===t?n:k0(e,t,n);const a=T0(x0(o));return new As(a,s,i)}function k0(e,t,n){const r={};return Object.entries(e.children).forEach(([i,s])=>{r[i]=s===t?n:k0(s,t,n)}),new Ft(e.segments,r)}class O0{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&sc(r[0]))throw new qe(4003,!1);const i=r.find(Go);if(i&&i!==w0(r))throw new qe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class oc{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function L0(e,t,n){if(e||(e=new Ft([],{})),0===e.segments.length&&e.hasChildren())return $o(e,t,n);const r=function sk(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const o=e.segments[i],a=n[r];if(Go(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!B0(l,c,o))return s;r+=2}else{if(!B0(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new Ft(e.segments.slice(0,r.pathIndex),{});return s.children[_t]=new Ft(e.segments.slice(r.pathIndex),e.children),$o(s,0,i)}return r.match&&0===i.length?new Ft(e.segments,{}):r.match&&!e.hasChildren()?sf(e,t,n):r.match?$o(e,0,i):sf(e,t,n)}function $o(e,t,n){if(0===n.length)return new Ft(e.segments,{});{const r=function ik(e){return Go(e[0])?e[0].outlets:{[_t]:e}}(n),i={};if(Object.keys(r).some(s=>s!==_t)&&e.children[_t]&&1===e.numberOfChildren&&0===e.children[_t].segments.length){const s=$o(e.children[_t],t,n);return new Ft(e.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=L0(e.children[s],t,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ft(e.segments,i)}}function sf(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(Go(s)){const l=ok(s.outlets);return new Ft(r,l)}if(0===i&&sc(n[0])){r.push(new Vo(e.segments[t].path,N0(n[0]))),i++;continue}const o=Go(s)?s.outlets[_t]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&sc(a)?(r.push(new Vo(o,N0(a))),i+=2):(r.push(new Vo(o,{})),i++)}return new Ft(r,{})}function ok(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=sf(new Ft([],{}),0,r))}),t}function N0(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function B0(e,t,n){return e==n.path&&Sr(t,n.parameters)}const Wo="imperative";class Cr{constructor(t,n){this.id=t,this.url=n}}class ac extends Cr{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ri extends Cr{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zo extends Cr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ds extends Cr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class lc extends Cr{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class j0 extends Cr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ak extends Cr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lk extends Cr{constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ck extends Cr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uk extends Cr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dk{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hk{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fk{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pk{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gk{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mk{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V0{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class af{}class lf{constructor(t){this.url=t}}class vk{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qo,this.attachRef=null}}let qo=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new vk,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class U0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=cf(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=cf(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=uf(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return uf(t,this._root).map(n=>n.value)}}function cf(e,t){if(e===t.value)return t;for(const n of t.children){const r=cf(e,n);if(r)return r}return null}function uf(e,t){if(e===t.value)return[t];for(const n of t.children){const r=uf(e,n);if(r.length)return r.unshift(t),r}return[]}class Vr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ps(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class H0 extends U0{constructor(t,n){super(t),this.snapshot=n,df(this,t)}toString(){return this.snapshot.toString()}}function G0(e,t){const n=function _k(e,t){const o=new cc([],{},{},"",{},_t,t,null,{});return new W0("",new Vr(o,[]))}(0,t),r=new jn([new Vo("",{})]),i=new jn({}),s=new jn({}),o=new jn({}),a=new jn(""),l=new Ms(r,i,o,a,s,_t,t,n.root);return l.snapshot=n.root,new H0(new Vr(l,[]),n)}class Ms{constructor(t,n,r,i,s,o,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(U(c=>c[jo]))??ht(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(U(t=>Es(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(U(t=>Es(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $0(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function yk(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class cc{get title(){return this.data?.[jo]}constructor(t,n,r,i,s,o,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Es(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Es(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class W0 extends U0{constructor(t,n){super(n),this.url=t,df(this,n)}toString(){return z0(this._root)}}function df(e,t){t.value._routerState=e,t.children.forEach(n=>df(e,n))}function z0(e){const t=e.children.length>0?` { ${e.children.map(z0).join(", ")} } `:"";return`${e.value}${t}`}function hf(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Sr(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Sr(t.params,n.params)||e.paramsSubject.next(n.params),function OF(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Sr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),Sr(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ff(e,t){const n=Sr(e.params,t.params)&&function jF(e,t){return wi(e,t)&&e.every((n,r)=>Sr(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||ff(e.parent,t.parent))}let q0=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=_t,this.activateEvents=new Xt,this.deactivateEvents=new Xt,this.attachEvents=new Xt,this.detachEvents=new Xt,this.parentContexts=Je(qo),this.location=Je(ir),this.changeDetector=Je(ph),this.environmentInjector=Je(Gn),this.inputBinder=Je(uc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new qe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new qe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new qe(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new qe(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new bk(r,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275dir=gn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xr]}),t})();class bk{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Ms?this.route:t===qo?this.childContexts:this.parent.get(t,n)}}const uc=new rt("");let X0=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,s=Yh([i.queryParams,i.params,i.data]).pipe(dr(([o,a,l],c)=>(l={...o,...a,...l},0===c?ht(l):Promise.resolve(l)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function Ux(e){const t=Et(e);if(!t)return null;const n=new mo(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(a)for(const{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,o[l]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,s)}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac}),t})();function Xo(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function Sk(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Xo(e,r,i);return Xo(e,r)})}(e,t,n);return new Vr(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Xo(e,a)),o}}const r=function Ck(e){return new Ms(new jn(e.url),new jn(e.params),new jn(e.queryParams),new jn(e.fragment),new jn(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>Xo(e,s));return new Vr(r,i)}}const pf="ngNavigationCancelingError";function Y0(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Si(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=K0(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function K0(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[pf]=!0,r.cancellationCode=t,n&&(r.url=n),r}function Q0(e){return e&&e[pf]}let Z0=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275cmp=fa({type:e,selectors:[["ng-component"]],standalone:!0,features:[ey],decls:1,vars:0,template:function(r,i){1&r&&wo(0,"router-outlet")},dependencies:[q0],encapsulation:2}),t})();function gf(e){const t=e.children&&e.children.map(gf),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==_t&&(n.component=Z0),n}function ar(e){return e.outlet||_t}function Yo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class xk{constructor(t,n,r,i,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),hf(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Ps(n);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=Ps(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=Ps(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=Ps(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new mk(s.value.snapshot))}),t.children.length&&this.forwardEvent(new pk(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(hf(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),hf(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=Yo(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class J0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class dc{constructor(t,n){this.component=t,this.route=n}}function Rk(e,t,n){const r=e._root;return Ko(r,t?t._root:null,n,[r.value])}function Is(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function $w(e){return null!==oa(e)}(e)?t.get(e):e:r}function Ko(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ps(t);return e.children.forEach(o=>{(function kk(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function Ok(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!wi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!wi(e.url,t.url)||!Sr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ff(e,t)||!Sr(e.queryParams,t.queryParams);default:return!ff(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new J0(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ko(e,t,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new dc(a.outlet.component,o))}else o&&Qo(t,a,i),i.canActivateChecks.push(new J0(r)),Ko(e,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Qo(a,n.getContext(o),i)),i}function Qo(e,t,n){const r=Ps(e),i=e.value;Object.entries(r).forEach(([s,o])=>{Qo(o,i.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new dc(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Zo(e){return"function"==typeof e}function ew(e){return e instanceof Jl||"EmptyError"===e?.name}const hc=Symbol("INITIAL_VALUE");function Ts(){return dr(e=>Yh(e.map(t=>t.pipe(Cs(1),function PF(...e){const t=ks(e);return h((n,r)=>{(t?Kh(e,n,t):Kh(e,n)).subscribe(r)})}(hc)))).pipe(U(t=>{for(const n of t)if(!0!==n){if(n===hc)return hc;if(!1===n||n instanceof As)return n}return!0}),jr(t=>t!==hc),Cs(1)))}function tw(e){return function Z(...e){return re(e)}(pn(t=>{if(Si(t))throw Y0(0,t)}),U(t=>!0===t))}class fc{constructor(t){this.segmentGroup=t||null}}class nw{constructor(t){this.urlTree=t}}function xs(e){return No(new fc(e))}function rw(e){return No(new nw(e))}class tO{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new qe(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ht(r);if(i.numberOfChildren>1||!i.children[_t])return No(new qe(4e3,!1));i=i.children[_t]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new As(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,r,i)}),new Ft(s,o)}createSegments(t,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new qe(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const mf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nO(e,t,n,r,i){const s=vf(e,t,n);return s.matched?(r=function Ak(e,t){return e.providers&&!e._injector&&(e._injector=Hd(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function Zk(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?ht(i.map(o=>{const a=Is(o,e);return ni(function Uk(e){return e&&Zo(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(Ts(),tw()):ht(!0)}(r,t,n).pipe(U(o=>!0===o?s:{...mf}))):ht(s)}function vf(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...mf}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||kF)(n,e,t);if(!i)return{...mf};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function iw(e,t,n,r){return n.length>0&&function sO(e,t,n){return n.some(r=>pc(e,t,r)&&ar(r)!==_t)}(e,n,r)?{segmentGroup:new Ft(t,iO(r,new Ft(n,e.children))),slicedSegments:[]}:0===n.length&&function oO(e,t,n){return n.some(r=>pc(e,t,r))}(e,n,r)?{segmentGroup:new Ft(e.segments,rO(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Ft(e.segments,e.children),slicedSegments:n}}function rO(e,t,n,r,i){const s={};for(const o of r)if(pc(e,n,o)&&!i[ar(o)]){const a=new Ft([],{});s[ar(o)]=a}return{...i,...s}}function iO(e,t){const n={};n[_t]=t;for(const r of e)if(""===r.path&&ar(r)!==_t){const i=new Ft([],{});n[ar(r)]=i}return n}function pc(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class uO{constructor(t,n,r,i,s,o,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new tO(this.urlSerializer,this.urlTree)}noMatchError(t){return new qe(4002,!1)}recognize(){const t=iw(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,_t).pipe(bi(n=>{if(n instanceof nw)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof fc?this.noMatchError(n):n}),U(n=>{const r=new cc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_t,this.rootComponentType,null,{}),i=new Vr(r,n),s=new W0("",i),o=function ek(e,t,n=null,r=null){return F0(R0(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,_t).pipe(bi(r=>{throw r instanceof fc?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=$0(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return nn(i).pipe(Bo(s=>{const o=r.children[s],a=function Ik(e,t){const n=e.filter(r=>ar(r)===t);return n.push(...e.filter(r=>ar(r)!==t)),n}(n,s);return this.processSegmentGroup(t,a,o,s)}),function TF(e,t){return h(function IF(e,t,n,r,i){return(s,o)=>{let a=n,l=t,c=0;s.subscribe(w(o,b=>{const F=c++;l=a?e(l,b,F):(a=!0,b),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(e,t,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),ec(null),function xF(e,t){const n=arguments.length>=2;return r=>r.pipe(e?jr((i,s)=>e(i,s,r)):Q,Zh(1),n?ec(t):y0(()=>new Jl))}(),$t(s=>{if(null===s)return xs(r);const o=sw(s);return function dO(e){e.sort((t,n)=>t.value.outlet===_t?-1:n.value.outlet===_t?1:t.value.outlet.localeCompare(n.value.outlet))}(o),ht(o)}))}processSegment(t,n,r,i,s,o){return nn(n).pipe(Bo(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,s,o).pipe(bi(l=>{if(l instanceof fc)return ht(null);throw l}))),yi(a=>!!a),bi(a=>{if(ew(a))return function lO(e,t,n){return 0===t.length&&!e.children[n]}(r,i,s)?ht([]):xs(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,s,o,a){return function aO(e,t,n,r){return!!(ar(e)===r||r!==_t&&pc(t,n,e))&&("**"===e.path||vf(t,e,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,s,o):xs(i):xs(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?rw(s):this.applyRedirects.lineralizeSegments(r,s).pipe($t(o=>{const a=new Ft(o,{});return this.processSegment(t,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:b}=vf(n,i,s);if(!a)return xs(n);const F=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,b);return i.redirectTo.startsWith("/")?rw(F):this.applyRedirects.lineralizeSegments(i,F).pipe($t(te=>this.processSegment(t,r,n,te.concat(c),o,!1)))}matchSegmentAgainstRoute(t,n,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?w0(i).parameters:{};a=ht({snapshot:new cc(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ow(r),ar(r),r.component??r._loadedComponent??null,r,aw(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=nO(n,r,i,t).pipe(U(({matched:l,consumedSegments:c,remainingSegments:b,parameters:F})=>l?{snapshot:new cc(c,F,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ow(r),ar(r),r.component??r._loadedComponent??null,r,aw(r)),consumedSegments:c,remainingSegments:b}:null));return a.pipe(dr(l=>null===l?xs(n):this.getChildConfig(t=r._injector??t,r,i).pipe(dr(({routes:c})=>{const b=r._loadedInjector??t,{snapshot:F,consumedSegments:te,remainingSegments:oe}=l,{segmentGroup:_e,slicedSegments:Me}=iw(n,te,oe,c);if(0===Me.length&&_e.hasChildren())return this.processChildren(b,c,_e).pipe(U(He=>null===He?null:[new Vr(F,He)]));if(0===c.length&&0===Me.length)return ht([new Vr(F,[])]);const je=ar(r)===s;return this.processSegment(b,c,_e,Me,je?_t:s,!0).pipe(U(He=>[new Vr(F,He)]))}))))}getChildConfig(t,n,r){return n.children?ht({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?ht({routes:n._loadedRoutes,injector:n._loadedInjector}):function Qk(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?ht(!0):ht(i.map(o=>{const a=Is(o,e);return ni(function Nk(e){return e&&Zo(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(Ts(),tw())}(t,n,r).pipe($t(i=>i?this.configLoader.loadChildren(t,n).pipe(pn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function eO(e){return No(K0(!1,3))}())):ht({routes:[],injector:t})}}function hO(e){const t=e.value.routeConfig;return t&&""===t.path}function sw(e){const t=[],n=new Set;for(const r of e){if(!hO(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=sw(r.children);t.push(new Vr(r.value,i))}return t.filter(r=>!n.has(r))}function ow(e){return e.data||{}}function aw(e){return e.resolve||{}}function lw(e){return"string"==typeof e.title||null===e.title}function _f(e){return dr(t=>{const n=e(t);return n?nn(n).pipe(U(()=>t)):ht(t)})}const Rs=new rt("ROUTES");let yf=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Je(zy)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ht(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=ni(r.loadComponent()).pipe(U(cw),pn(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Jh(()=>{this.componentLoaders.delete(r)})),s=new _0(i,()=>new O).pipe(Qh());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ht({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(U(l=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,b;return Array.isArray(l)?b=l:(c=l.create(r).injector,b=c.get(Rs,[],bt.Self|bt.Optional).flat()),{routes:b.map(gf),injector:c}}),Jh(()=>{this.childrenLoaders.delete(i)})),a=new _0(o,()=>new O).pipe(Qh());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(r){return ni(r()).pipe(U(cw),$t(i=>i instanceof Z_||Array.isArray(i)?ht(i):nn(this.compiler.compileModuleAsync(i))))}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function cw(e){return function yO(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let gc=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new O,this.transitionAbortSubject=new O,this.configLoader=Je(yf),this.environmentInjector=Je(Gn),this.urlSerializer=Je(Uo),this.rootContexts=Je(qo),this.inputBindingEnabled=null!==Je(uc,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ht(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new hk(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new dk(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new jn({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(jr(o=>0!==o.id),U(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),dr(o=>{this.currentTransition=o;let a=!1,l=!1;return ht(o).pipe(pn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),dr(c=>{const b=c.currentBrowserUrl.toString(),F=!r.navigated||c.extractedUrl.toString()!==b||b!==c.currentUrlTree.toString();if(!F&&"reload"!==(c.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const oe="";return this.events.next(new Ds(c.id,this.urlSerializer.serialize(c.rawUrl),oe,0)),c.resolve(null),ur}if(r.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ht(c).pipe(dr(oe=>{const _e=this.transitions?.getValue();return this.events.next(new ac(oe.id,this.urlSerializer.serialize(oe.extractedUrl),oe.source,oe.restoredState)),_e!==this.transitions?.getValue()?ur:Promise.resolve(oe)}),function fO(e,t,n,r,i,s){return $t(o=>function cO(e,t,n,r,i,s,o="emptyOnly"){return new uO(e,t,n,r,i,o,s).recognize()}(e,t,n,r,o.extractedUrl,i,s).pipe(U(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),pn(oe=>{o.targetSnapshot=oe.targetSnapshot,o.urlAfterRedirects=oe.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:oe.urlAfterRedirects};const _e=new j0(oe.id,this.urlSerializer.serialize(oe.extractedUrl),this.urlSerializer.serialize(oe.urlAfterRedirects),oe.targetSnapshot);this.events.next(_e)}));if(F&&r.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:oe,extractedUrl:_e,source:Me,restoredState:je,extras:He}=c,Re=new ac(oe,this.urlSerializer.serialize(_e),Me,je);this.events.next(Re);const tt=G0(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:tt,urlAfterRedirects:_e,extras:{...He,skipLocationChange:!1,replaceUrl:!1}},ht(o)}{const oe="";return this.events.next(new Ds(c.id,this.urlSerializer.serialize(c.extractedUrl),oe,1)),c.resolve(null),ur}}),pn(c=>{const b=new ak(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(b)}),U(c=>(this.currentTransition=o={...c,guards:Rk(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function Gk(e,t){return $t(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ht({...n,guardsResult:!0}):function $k(e,t,n,r){return nn(e).pipe($t(i=>function Kk(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ht(s.map(a=>{const l=Yo(t)??i,c=Is(a,l);return ni(function Vk(e){return e&&Zo(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,r):l.runInContext(()=>c(e,t,n,r))).pipe(yi())})).pipe(Ts()):ht(!0)}(i.component,i.route,n,t,r)),yi(i=>!0!==i,!0))}(o,r,i,e).pipe($t(a=>a&&function Lk(e){return"boolean"==typeof e}(a)?function Wk(e,t,n,r){return nn(t).pipe(Bo(i=>Kh(function qk(e,t){return null!==e&&t&&t(new fk(e)),ht(!0)}(i.route.parent,r),function zk(e,t){return null!==e&&t&&t(new gk(e)),ht(!0)}(i.route,r),function Yk(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function Fk(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>v0(()=>ht(o.guards.map(l=>{const c=Yo(o.node)??n,b=Is(l,c);return ni(function jk(e){return e&&Zo(e.canActivateChild)}(b)?b.canActivateChild(r,e):c.runInContext(()=>b(r,e))).pipe(yi())})).pipe(Ts())));return ht(s).pipe(Ts())}(e,i.path,n),function Xk(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return ht(!0);const i=r.map(s=>v0(()=>{const o=Yo(t)??n,a=Is(s,o);return ni(function Bk(e){return e&&Zo(e.canActivate)}(a)?a.canActivate(t,e):o.runInContext(()=>a(t,e))).pipe(yi())}));return ht(i).pipe(Ts())}(e,i.route,n))),yi(i=>!0!==i,!0))}(r,s,e,t):ht(a)),U(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),pn(c=>{if(o.guardsResult=c.guardsResult,Si(c.guardsResult))throw Y0(0,c.guardsResult);const b=new lk(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(b)}),jr(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),_f(c=>{if(c.guards.canActivateChecks.length)return ht(c).pipe(pn(b=>{const F=new ck(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(F)}),dr(b=>{let F=!1;return ht(b).pipe(function pO(e,t){return $t(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ht(n);let s=0;return nn(i).pipe(Bo(o=>function gO(e,t,n,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!lw(i)&&(s[jo]=i.title),function mO(e,t,n,r){const i=function vO(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return ht({});const s={};return nn(i).pipe($t(o=>function _O(e,t,n,r){const i=Yo(t)??r,s=Is(e,i);return ni(s.resolve?s.resolve(t,n):i.runInContext(()=>s(t,n)))}(e[o],t,n,r).pipe(yi(),pn(a=>{s[o]=a}))),Zh(1),function RF(e){return U(()=>e)}(s),bi(o=>ew(o)?ur:No(o)))}(s,e,t,r).pipe(U(o=>(e._resolvedData=o,e.data=$0(e,n).resolve,i&&lw(i)&&(e.data[jo]=i.title),null)))}(o.route,r,e,t)),pn(()=>s++),Zh(1),$t(o=>s===i.length?ht(n):ur))})}(r.paramsInheritanceStrategy,this.environmentInjector),pn({next:()=>F=!0,complete:()=>{F||this.cancelNavigationTransition(b,"",2)}}))}),pn(b=>{const F=new uk(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(F)}))}),_f(c=>{const b=F=>{const te=[];F.routeConfig?.loadComponent&&!F.routeConfig._loadedComponent&&te.push(this.configLoader.loadComponent(F.routeConfig).pipe(pn(oe=>{F.component=oe}),U(()=>{})));for(const oe of F.children)te.push(...b(oe));return te};return Yh(b(c.targetSnapshot.root)).pipe(ec(),Cs(1))}),_f(()=>this.afterPreactivation()),U(c=>{const b=function wk(e,t,n){const r=Xo(e,t._root,n?n._root:void 0);return new H0(r,t)}(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:b},o}),pn(()=>{this.events.next(new af)}),((e,t,n,r)=>U(i=>(new xk(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Cs(1),pn({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ri(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),r.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),zt(this.transitionAbortSubject.pipe(pn(c=>{throw c}))),Jh(()=>{a||l||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),bi(c=>{if(l=!0,Q0(c))this.events.next(new zo(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function Ek(e){return Q0(e)&&Si(e.url)}(c)?this.events.next(new lf(c.url)):o.resolve(!1);else{this.events.next(new lc(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(b){o.reject(b)}}return ur}))}))}cancelNavigationTransition(r,i,s){const o=new zo(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function uw(e){return e!==Wo}let dw=(()=>{var e;class t{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===_t);return i}getResolvedTitleForRoute(r){return r.data[jo]}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:function(){return Je(bO)},providedIn:"root"}),t})(),bO=(()=>{var e;class t extends dw{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(e=t).\u0275fac=function(r){return new(r||e)(st(d0))},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),wO=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:function(){return Je(CO)},providedIn:"root"}),t})();class SO{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let CO=(()=>{var e;class t extends SO{}return(e=t).\u0275fac=function(){let n;return function(i){return(n||(n=function Kp(e){return Ar(()=>{const t=e.prototype.constructor,n=t[Dr]||au(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[Dr]||au(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(e)))(i||e)}}(),e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const mc=new rt("",{providedIn:"root",factory:()=>({})});let EO=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:function(){return Je(AO)},providedIn:"root"}),t})(),AO=(()=>{var e;class t{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Jo=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Jo||{});function hw(e,t){e.events.pipe(jr(n=>n instanceof ri||n instanceof zo||n instanceof lc||n instanceof Ds),U(n=>n instanceof ri||n instanceof Ds?Jo.COMPLETE:n instanceof zo&&(0===n.code||1===n.code)?Jo.REDIRECTING:Jo.FAILED),jr(n=>n!==Jo.REDIRECTING),Cs(1)).subscribe(()=>{t()})}function DO(e){throw e}function PO(e,t,n){return t.parse("/")}const MO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yn=(()=>{var e;class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Je($y),this.isNgZoneEnabled=!1,this._events=new O,this.options=Je(mc,{optional:!0})||{},this.pendingTasks=Je(Wy),this.errorHandler=this.options.errorHandler||DO,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||PO,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Je(EO),this.routeReuseStrategy=Je(wO),this.titleStrategy=Je(dw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Je(Rs,{optional:!0})?.flat()??[],this.navigationTransitions=Je(gc),this.urlSerializer=Je(Uo),this.location=Je(Eh),this.componentInputBindingEnabled=!!Je(uc,{optional:!0}),this.eventsSubscription=new le,this.isNgZoneEnabled=Je(kt)instanceof kt&&kt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new As,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=G0(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(fw(i)&&this._events.next(i));if(i instanceof ac)uw(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof Ds)this.rawUrlTree=s.rawUrl;else if(i instanceof j0){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof af)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof zo)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof lf){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||uw(s.source)};this.scheduleNavigation(o,Wo,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof lc&&this.restoreHistory(s,!0),i instanceof ri&&(this.navigated=!0),fw(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Wo,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const l=this.parseUrl(r);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(gf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,b=c?this.currentUrlTree.fragment:a;let te,F=null;switch(l){case"merge":F={...this.currentUrlTree.queryParams,...o};break;case"preserve":F=this.currentUrlTree.queryParams;break;default:F=o||null}null!==F&&(F=this.removeEmptyProps(F));try{te=R0(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),te=this.currentUrlTree.root}return F0(te,r,F,b??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=Si(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Wo,null,i)}navigate(r,i={skipLocationChange:!1}){return function TO(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new qe(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...MO}:!1===i?{...IO}:i,Si(r))return C0(this.currentUrlTree,r,s);const o=this.parseUrl(r);return C0(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,b;a?(l=a.resolve,c=a.reject,b=a.promise):b=new Promise((te,oe)=>{l=te,c=oe});const F=this.pendingTasks.add();return hw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(F))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:l,reject:c,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(te=>Promise.reject(te))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function fw(e){return!(e instanceof af||e instanceof lf)}class pw{}let FO=(()=>{var e;class t{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(jr(r=>r instanceof ri),Bo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const s=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Hd(o.providers,r,`Route: ${o.path}`));const a=o._injector??r,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return nn(s).pipe(Ei())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):ht(null);const o=s.pipe($t(a=>null===a?ht(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?nn([o,this.loader.loadComponent(i)]).pipe(Ei()):o})}}return(e=t).\u0275fac=function(r){return new(r||e)(st(Yn),st(zy),st(Gn),st(pw),st(yf))},e.\u0275prov=at({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const wf=new rt("");let gw=(()=>{var e;class t{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ac?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof ri?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Ds&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof V0&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new V0(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(r){!function Lm(){throw new Error("invalid")}()},e.\u0275prov=at({token:e,factory:e.\u0275fac}),t})();function Ur(e,t){return{\u0275kind:e,\u0275providers:t}}function vw(){const e=Je($n);return t=>{const n=e.get(bs);if(t!==n.components[0])return;const r=e.get(Yn),i=e.get(_w);1===e.get(Sf)&&r.initialNavigation(),e.get(yw,null,bt.Optional)?.setUpPreloading(),e.get(wf,null,bt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const _w=new rt("",{factory:()=>new O}),Sf=new rt("",{providedIn:"root",factory:()=>1}),yw=new rt("");function NO(e){return Ur(0,[{provide:yw,useExisting:FO},{provide:pw,useExisting:e}])}const bw=new rt("ROUTER_FORROOT_GUARD"),jO=[Eh,{provide:Uo,useClass:ef},Yn,qo,{provide:Ms,useFactory:function mw(e){return e.routerState.root},deps:[Yn]},yf,[]];function VO(){return new Jy("Router",Yn)}let ww=(()=>{var e;class t{constructor(r){}static forRoot(r,i){return{ngModule:t,providers:[jO,[],{provide:Rs,multi:!0,useValue:r},{provide:bw,useFactory:$O,deps:[[Yn,new Oa,new La]]},{provide:mc,useValue:i||{}},i?.useHash?{provide:_i,useClass:zx}:{provide:_i,useClass:Ib},{provide:wf,useFactory:()=>{const e=Je(p1),t=Je(kt),n=Je(mc),r=Je(gc),i=Je(Uo);return n.scrollOffset&&e.setOffset(n.scrollOffset),new gw(i,r,e,t,n)}},i?.preloadingStrategy?NO(i.preloadingStrategy).\u0275providers:[],{provide:Jy,multi:!0,useFactory:VO},i?.initialNavigation?WO(i):[],i?.bindToComponentInputs?Ur(8,[X0,{provide:uc,useExisting:X0}]).\u0275providers:[],[{provide:Sw,useFactory:vw},{provide:hh,multi:!0,useExisting:Sw}]]}}static forChild(r){return{ngModule:t,providers:[{provide:Rs,multi:!0,useValue:r}]}}}return(e=t).\u0275fac=function(r){return new(r||e)(st(bw,8))},e.\u0275mod=$r({type:e}),e.\u0275inj=Er({}),t})();function $O(e){return"guarded"}function WO(e){return["disabled"===e.initialNavigation?Ur(3,[{provide:ih,multi:!0,useFactory:()=>{const t=Je(Yn);return()=>{t.setUpLocationChangeListener()}}},{provide:Sf,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Ur(2,[{provide:Sf,useValue:0},{provide:ih,multi:!0,deps:[$n],useFactory:t=>{const n=t.get($x,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(Yn),s=t.get(_w);hw(i,()=>{r(!0)}),t.get(gc).afterPreactivation=()=>(r(!0),s.closed?ht(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const Sw=new rt(""),qO=[];let XO=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=$r({type:e}),e.\u0275inj=Er({imports:[ww.forRoot(qO),ww]}),t})();function ea(e){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ft(e,t,n){return(t=function KO(e){var t=function YO(e,t){if("object"!==ea(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ea(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ea(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const QO=["addListener","removeListener"],ZO=["addEventListener","removeEventListener"],JO=["on","off"];function Kt(e,t,n,r){if(f(n)&&(r=n,n=void 0),r)return Kt(e,t,n).pipe(g0(r));const[i,s]=function nL(e){return f(e.addEventListener)&&f(e.removeEventListener)}(e)?ZO.map(o=>a=>e[o](t,a,n)):function eL(e){return f(e.addListener)&&f(e.removeListener)}(e)?QO.map(Cw(e,t)):function tL(e){return f(e.on)&&f(e.off)}(e)?JO.map(Cw(e,t)):[];if(!i&&Ne(e))return $t(o=>Kt(o,t,n))(Ct(e));if(!i)throw new TypeError("Invalid event target");return new de(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function Cw(e,t){return n=>r=>e[n](t,r)}class rL extends le{constructor(t,n){super()}schedule(t,n=0){return this}}const vc={setInterval(e,t,...n){const{delegate:r}=vc;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=vc;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},Ew={now:()=>(Ew.delegate||Date).now(),delegate:void 0};class ta{constructor(t,n=ta.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}ta.now=Ew.now;const oL=new class sL extends ta{constructor(t,n=ta.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class iL extends rL{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return vc.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&vc.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}});var Ci=z(627),_c=z.t(Ci,2),lr=z(16),lL=z.t(lr,2);const cL=["pdfViewerContainer"];function Cf(e,t,n){e[t]=n}function na(){return typeof window>"u"}na()||Cf(_c,"verbosity",Ci.VerbosityLevel.INFOS);var yc=function(e){return e[e.DISABLED=0]="DISABLED",e[e.ENABLED=1]="ENABLED",e[e.ENHANCED=2]="ENHANCED",e}(yc||{});let hL=(()=>{var e;class t{set cMapsUrl(r){this._cMapsUrl=r}set page(r){const i=r=parseInt(r,10)||1;this._pdf&&(r=this.getValidPageNumber(r)),this._page=r,i!==r&&this.pageChange.emit(r)}set renderText(r){this._renderText=r}set renderTextMode(r){this._renderTextMode=r}set originalSize(r){this._originalSize=r}set showAll(r){this._showAll=r}set stickToPage(r){this._stickToPage=r}set zoom(r){r<=0||(this._zoom=r)}get zoom(){return this._zoom}set zoomScale(r){this._zoomScale=r}get zoomScale(){return this._zoomScale}set rotation(r){"number"==typeof r&&r%90==0?this._rotation=r:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(r){this._externalLinkTarget=r}set autoresize(r){this._canAutoResize=!!r}set fitToPage(r){this._fitToPage=!!r}set showBorders(r){this._showBorders=!!r}static getLinkTarget(r){switch(r){case"blank":return lr.LinkTarget.BLANK;case"none":return lr.LinkTarget.NONE;case"self":return lr.LinkTarget.SELF;case"parent":return lr.LinkTarget.PARENT;case"top":return lr.LinkTarget.TOP}return null}constructor(r,i){if(ft(this,"element",void 0),ft(this,"ngZone",void 0),ft(this,"pdfViewerContainer",void 0),ft(this,"eventBus",void 0),ft(this,"pdfLinkService",void 0),ft(this,"pdfFindController",void 0),ft(this,"pdfViewer",void 0),ft(this,"isVisible",!1),ft(this,"_cMapsUrl",typeof _c<"u"?`https://unpkg.com/pdfjs-dist@${Ci.version}/cmaps/`:null),ft(this,"_imageResourcesPath",typeof _c<"u"?`https://unpkg.com/pdfjs-dist@${Ci.version}/web/images/`:void 0),ft(this,"_renderText",!0),ft(this,"_renderTextMode",yc.ENABLED),ft(this,"_stickToPage",!1),ft(this,"_originalSize",!0),ft(this,"_pdf",void 0),ft(this,"_page",1),ft(this,"_zoom",1),ft(this,"_zoomScale","page-width"),ft(this,"_rotation",0),ft(this,"_showAll",!0),ft(this,"_canAutoResize",!0),ft(this,"_fitToPage",!1),ft(this,"_externalLinkTarget","blank"),ft(this,"_showBorders",!1),ft(this,"lastLoaded",void 0),ft(this,"_latestScrolledPage",void 0),ft(this,"resizeTimeout",null),ft(this,"pageScrollTimeout",null),ft(this,"isInitialized",!1),ft(this,"loadingTask",void 0),ft(this,"destroy$",new O),ft(this,"afterLoadComplete",new Xt),ft(this,"pageRendered",new Xt),ft(this,"pageInitialized",new Xt),ft(this,"textLayerRendered",new Xt),ft(this,"onError",new Xt),ft(this,"onProgress",new Xt),ft(this,"pageChange",new Xt(!0)),ft(this,"src",void 0),this.element=r,this.ngZone=i,na())return;let s;const o=Ci.version;s=window[`pdfWorkerSrc${o}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${o}/legacy/build/pdf.worker.min.js`),Cf(Ci.GlobalWorkerOptions,"workerSrc",s)}ngAfterViewChecked(){if(this.isInitialized)return;const r=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=r?!1===this.isVisible&&null!=r&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(r){if(!na()&&this.isVisible)if("src"in r)this.loadPDF();else if(this._pdf){if("renderText"in r?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:yc.DISABLED,this.resetPdfDocument()):"showAll"in r&&(this.setupViewer(),this.resetPdfDocument()),"page"in r){const{page:i}=r;if(i.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){nn(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(zt(this.destroy$)).subscribe({next:r=>{const i=this._rotation+r.rotate,s=r.getViewport({scale:this._zoom,rotation:i}).width*t.CSS_UNITS;let o=this._zoom,a=!0;if(!this._originalSize||this._fitToPage&&s>this.pdfViewerContainer.nativeElement.clientWidth){const l=r.getViewport({scale:1,rotation:i});o=this.getScale(l.width,l.height),a=!this._stickToPage}this.pdfViewer._setScale(o,a)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){const r=t.getLinkTarget(this._externalLinkTarget);return r?{externalLinkTarget:r}:{}}initEventBus(){this.eventBus=function uL(e,t){const n=new e.EventBus;return function dL(e,t){Kt(e,"documentload").pipe(zt(t)).subscribe(()=>{const n=document.createEvent("CustomEvent");n.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(n)}),Kt(e,"pagerendered").pipe(zt(t)).subscribe(({pageNumber:n,cssTransform:r,source:i})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:n,cssTransform:r}),i.div.dispatchEvent(s)}),Kt(e,"textlayerrendered").pipe(zt(t)).subscribe(({pageNumber:n,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:n}),r.textLayerDiv.dispatchEvent(i)}),Kt(e,"pagechanging").pipe(zt(t)).subscribe(({pageNumber:n,source:r})=>{const i=document.createEvent("UIEvents");i.initEvent("pagechanging",!0,!0),i.pageNumber=n,r.container.dispatchEvent(i)}),Kt(e,"pagesinit").pipe(zt(t)).subscribe(({source:n})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagesinit",!0,!0,null),n.container.dispatchEvent(r)}),Kt(e,"pagesloaded").pipe(zt(t)).subscribe(({pagesCount:n,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagesloaded",!0,!0,{pagesCount:n}),r.container.dispatchEvent(i)}),Kt(e,"scalechange").pipe(zt(t)).subscribe(({scale:n,presetValue:r,source:i})=>{const s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=n,s.presetValue=r,i.container.dispatchEvent(s)}),Kt(e,"updateviewarea").pipe(zt(t)).subscribe(({location:n,source:r})=>{const i=document.createEvent("UIEvents");i.initEvent("updateviewarea",!0,!0),i.location=n,r.container.dispatchEvent(i)}),Kt(e,"find").pipe(zt(t)).subscribe(({source:n,type:r,query:i,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l})=>{if(n===window)return;const c=document.createEvent("CustomEvent");c.initCustomEvent("find"+r,!0,!0,{query:i,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l}),window.dispatchEvent(c)}),Kt(e,"attachmentsloaded").pipe(zt(t)).subscribe(({attachmentsCount:n,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:n}),r.container.dispatchEvent(i)}),Kt(e,"sidebarviewchanged").pipe(zt(t)).subscribe(({view:n,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("sidebarviewchanged",!0,!0,{view:n}),r.outerContainer.dispatchEvent(i)}),Kt(e,"pagemode").pipe(zt(t)).subscribe(({mode:n,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagemode",!0,!0,{mode:n}),r.pdfViewer.container.dispatchEvent(i)}),Kt(e,"namedaction").pipe(zt(t)).subscribe(({action:n,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("namedaction",!0,!0,{action:n}),r.pdfViewer.container.dispatchEvent(i)}),Kt(e,"presentationmodechanged").pipe(zt(t)).subscribe(({active:n,switchInProgress:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("presentationmodechanged",!0,!0,{active:n,switchInProgress:r}),window.dispatchEvent(i)}),Kt(e,"outlineloaded").pipe(zt(t)).subscribe(({outlineCount:n,source:r})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("outlineloaded",!0,!0,{outlineCount:n}),r.container.dispatchEvent(i)})}(n,t),n}(lL,this.destroy$),Kt(this.eventBus,"pagerendered").pipe(zt(this.destroy$)).subscribe(r=>{this.pageRendered.emit(r)}),Kt(this.eventBus,"pagesinit").pipe(zt(this.destroy$)).subscribe(r=>{this.pageInitialized.emit(r)}),Kt(this.eventBus,"pagechanging").pipe(zt(this.destroy$)).subscribe(({pageNumber:r})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=r,this.pageChange.emit(r)},100)}),Kt(this.eventBus,"textlayerrendered").pipe(zt(this.destroy$)).subscribe(r=>{this.textLayerRendered.emit(r)})}initPDFServices(){this.pdfLinkService=new lr.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new lr.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:yc.DISABLED,findController:this.pdfFindController,l10n:new lr.GenericL10n("en"),imageResourcesPath:this._imageResourcesPath}}setupViewer(){Cf(_c,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new lr.PDFViewer(this.getPDFOptions()):new lr.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(r){return r<1?1:r>this._pdf.numPages?this._pdf.numPages:r}getDocumentParams(){const r=typeof this.src;if(!this._cMapsUrl)return this.src;const i={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===r?i.url=this.src:"object"===r&&(void 0!==this.src.byteLength?i.data=this.src:Object.assign(i,this.src)),i}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=Ci.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=i=>{this.onProgress.emit(i)};const r=this.src;nn(this.loadingTask.promise).pipe(zt(this.destroy$)).subscribe({next:i=>{this._pdf=i,this.lastLoaded=r,this.afterLoadComplete.emit(i),this.resetPdfDocument(),this.update()},error:i=>{this.lastLoaded=null,this.onError.emit(i)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(r,i){const s=this._showBorders?2*t.BORDER_WIDTH:0,o=this.pdfViewerContainer.nativeElement.clientWidth-s,a=this.pdfViewerContainer.nativeElement.clientHeight-s;if(0===a||0===i||0===o||0===r)return 1;let l=1;switch(this._zoomScale){case"page-fit":l=Math.min(a/i,o/r);break;case"page-height":l=a/i;break;default:l=o/r}return this._zoom*l/t.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){na()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){na()||this.ngZone.runOutsideAngular(()=>{Kt(window,"resize").pipe(function aL(e,t=oL){return h((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+e,b=t.now();if(b<c)return i=this.schedule(void 0,c-b),void r.add(i);a()}n.subscribe(w(r,c=>{s=c,o=t.now(),i||(i=t.schedule(l,e),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(100),jr(()=>this._canAutoResize&&!!this._pdf),zt(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return e=t,ft(t,"CSS_UNITS",96/72),ft(t,"BORDER_WIDTH",9),ft(t,"\u0275fac",function(r){return new(r||e)(it(xr),it(kt))}),ft(t,"\u0275cmp",fa({type:e,selectors:[["pdf-viewer"]],viewQuery:function(r,i){if(1&r&&Cy(cL,5),2&r){let s;Qd(s=function Zd(){return function hT(e,t){return e[fr].queries[t].queryList}(Be(),xp())}())&&(i.pdfViewerContainer=s.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[Xr],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(r,i){1&r&&(fs(0,"div",0,1),wo(2,"div",2),ps())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width=\'1px\' height=\'1px\' xmlns=\'http://www.w3.org/2000/svg\'><rect width=\'100%\' height=\'100%\' style=\'fill:rgba(0, 54, 255, 0.13);\'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}']})),t})(),fL=(()=>{var e;class t{}return e=t,ft(t,"\u0275fac",function(r){return new(r||e)}),ft(t,"\u0275mod",$r({type:e})),ft(t,"\u0275inj",Er({})),t})(),pL=(()=>{var e;class t{constructor(){this.title="website",this.pdfSrc="https://github.com/kiarashhamdi/website/blob/implementAngular/src/assets/resume/cv.pdf"}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275cmp=fa({type:e,selectors:[["app-root"]],decls:5,vars:3,consts:[[2,"width","400px","height","500px",3,"src","render-text","original-size"]],template:function(r,i){1&r&&(fs(0,"h1"),Rd(1,"welcome"),ps(),fs(2,"h1"),Rd(3,"Hi this is my website"),ps(),wo(4,"pdf-viewer",0)),2&r&&(function km(e){Om(At(),Be(),yn()+e,!1)}(4),Sd("src",i.pdfSrc)("render-text",!0)("original-size",!1))},dependencies:[hL]}),t})(),gL=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=$r({type:e,bootstrap:[pL]}),e.\u0275inj=Er({imports:[lF,XO,fL]}),t})();oF().bootstrapModule(gL).catch(e=>console.error(e))},627:(module,__unused_webpack_exports,__webpack_require__)=>{var _classStaticPrivateMethodGet=__webpack_require__(764).default,_defineProperty=__webpack_require__(416).default,_classPrivateMethodInitSpec=__webpack_require__(860).default,_classPrivateMethodGet=__webpack_require__(467).default,_classPrivateFieldInitSpec=__webpack_require__(159).default,_classPrivateFieldSet=__webpack_require__(661).default,_classPrivateFieldGet=__webpack_require__(468).default,_classStaticPrivateFieldSpecSet=__webpack_require__(306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(280).default,_asyncToGenerator=__webpack_require__(156).default,z;globalThis,z=()=>(()=>{"use strict";var __webpack_modules__=[,(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.VerbosityLevel=g.Util=g.UnknownErrorException=g.UnexpectedResponseException=g.UNSUPPORTED_FEATURES=g.TextRenderingMode=g.StreamType=g.RenderingIntentFlag=g.PermissionFlag=g.PasswordResponses=g.PasswordException=g.PageActionEventType=g.OPS=g.MissingPDFException=g.LINE_FACTOR=g.LINE_DESCENT_FACTOR=g.InvalidPDFException=g.ImageKind=g.IDENTITY_MATRIX=g.FormatError=g.FontType=g.FeatureTest=g.FONT_IDENTITY_MATRIX=g.DocumentActionEventType=g.CMapCompressionType=g.BaseException=g.AnnotationType=g.AnnotationStateModelType=g.AnnotationReviewState=g.AnnotationReplyType=g.AnnotationMode=g.AnnotationMarkedState=g.AnnotationFlag=g.AnnotationFieldFlag=g.AnnotationEditorType=g.AnnotationEditorPrefix=g.AnnotationEditorParamsType=g.AnnotationBorderStyleType=g.AnnotationActionEventType=g.AbortException=void 0,g.arrayByteLength=xe,g.arraysToBytes=function Se(he){const se=he.length;if(1===se&&he[0]instanceof Uint8Array)return he[0];let ce=0;for(let De=0;De<se;De++)ce+=xe(he[De]);let Fe=0;const Ve=new Uint8Array(ce);for(let De=0;De<se;De++){let Pe=he[De];Pe instanceof Uint8Array||(Pe="string"==typeof Pe?we(Pe):new Uint8Array(Pe));const Le=Pe.byteLength;Ve.set(Pe,Fe),Fe+=Le}return Ve},g.assert=function y(he,se){he||C(se)},g.bytesToString=function pe(he){("object"!=typeof he||null===he||void 0===he.length)&&C("Invalid argument for bytesToString");const se=he.length;if(se<8192)return String.fromCharCode.apply(null,he);const Fe=[];for(let Ve=0;Ve<se;Ve+=8192){const De=Math.min(Ve+8192,se),Pe=he.subarray(Ve,De);Fe.push(String.fromCharCode.apply(null,Pe))}return Fe.join("")},g.createPromiseCapability=function Te(){const he=Object.create(null);let se=!1;return Object.defineProperty(he,"settled",{get:()=>se}),he.promise=new Promise(function(ce,Fe){he.resolve=function(Ve){se=!0,ce(Ve)},he.reject=function(Ve){se=!0,Fe(Ve)}}),he},g.createValidAbsoluteUrl=function G(he,se=null,ce=null){if(!he)return null;try{if(ce&&"string"==typeof he){if(ce.addDefaultProtocol&&he.startsWith("www.")){const Ve=he.match(/\./g);Ve&&Ve.length>=2&&(he=`http://${he}`)}if(ce.tryConvertEncoding)try{he=K(he)}catch{}}const Fe=se?new URL(he,se):new URL(he);if(function O(he){if(!he)return!1;switch(he.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(Fe))return Fe}catch{}return null},g.escapeString=function Qe(he){return he.replace(/([()\\\n\r])/g,se=>"\n"===se?"\\n":"\r"===se?"\\r":`\\${se}`)},g.getModificationDate=function Ce(he=new Date){return[he.getUTCFullYear().toString(),(he.getUTCMonth()+1).toString().padStart(2,"0"),he.getUTCDate().toString().padStart(2,"0"),he.getUTCHours().toString().padStart(2,"0"),he.getUTCMinutes().toString().padStart(2,"0"),he.getUTCSeconds().toString().padStart(2,"0")].join("")},g.getVerbosityLevel=function de(){return Z},g.info=function ye(he){Z>=P.INFOS&&console.log(`Info: ${he}`)},g.isArrayBuffer=function ve(he){return"object"==typeof he&&null!==he&&void 0!==he.byteLength},g.isArrayEqual=function ge(he,se){if(he.length!==se.length)return!1;for(let ce=0,Fe=he.length;ce<Fe;ce++)if(he[ce]!==se[ce])return!1;return!0},g.isAscii=function We(he){return/^[\x00-\x7F]*$/.test(he)},g.objectFromMap=function ke(he){const se=Object.create(null);for(const[ce,Fe]of he)se[ce]=Fe;return se},g.objectSize=function Oe(he){return Object.keys(he).length},g.setVerbosityLevel=function re(he){Number.isInteger(he)&&(Z=he)},g.shadow=x,g.string32=function Ie(he){return String.fromCharCode(he>>24&255,he>>16&255,he>>8&255,255&he)},g.stringToBytes=we,g.stringToPDFString=function Ue(he){if(he[0]>="\xef"){let ce;if("\xfe"===he[0]&&"\xff"===he[1]?ce="utf-16be":"\xff"===he[0]&&"\xfe"===he[1]?ce="utf-16le":"\xef"===he[0]&&"\xbb"===he[1]&&"\xbf"===he[2]&&(ce="utf-8"),ce)try{const Fe=new TextDecoder(ce,{fatal:!0}),Ve=we(he);return Fe.decode(Ve)}catch(Fe){J(`stringToPDFString: "${Fe}".`)}}const se=[];for(let ce=0,Fe=he.length;ce<Fe;ce++){const Ve=Ae[he.charCodeAt(ce)];se.push(Ve?String.fromCharCode(Ve):he.charAt(ce))}return se.join("")},g.stringToUTF16BEString=function $e(he){const se=["\xfe\xff"];for(let ce=0,Fe=he.length;ce<Fe;ce++){const Ve=he.charCodeAt(ce);se.push(String.fromCharCode(Ve>>8&255),String.fromCharCode(255&Ve))}return se.join("")},g.stringToUTF8String=K,g.unreachable=C,g.utf8StringToString=function fe(he){return unescape(encodeURIComponent(he))},g.warn=J,z(2),g.IDENTITY_MATRIX=[1,0,0,1,0,0],g.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],g.LINE_FACTOR=1.35,g.LINE_DESCENT_FACTOR=.35,g.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},g.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},g.AnnotationEditorPrefix="pdfjs_internal_editor_",g.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},g.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},g.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},g.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},g.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},g.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},g.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},g.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},g.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},g.AnnotationReplyType={GROUP:"Group",REPLY:"R"},g.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},g.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},g.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},g.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},g.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},g.PageActionEventType={O:"PageOpen",C:"PageClose"},g.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},g.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const P={ERRORS:0,WARNINGS:1,INFOS:5};g.VerbosityLevel=P,g.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},g.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},g.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},g.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Z=P.WARNINGS;function J(he){Z>=P.WARNINGS&&console.log(`Warning: ${he}`)}function C(he){throw new Error(he)}function x(he,se,ce){return Object.defineProperty(he,se,{value:ce,enumerable:!0,configurable:!0,writable:!1}),ce}const h=function(){function se(ce,Fe){this.constructor===se&&C("Cannot initialize BaseException."),this.message=ce,this.name=Fe}return se.prototype=new Error,se.constructor=se,se}();function we(he){"string"!=typeof he&&C("Invalid argument for stringToBytes");const se=he.length,ce=new Uint8Array(se);for(let Fe=0;Fe<se;++Fe)ce[Fe]=255&he.charCodeAt(Fe);return ce}function xe(he){return void 0!==he.length?he.length:void 0!==he.byteLength?he.byteLength:void C("Invalid argument for arrayByteLength")}g.BaseException=h,g.PasswordException=class w extends h{constructor(se,ce){super(se,"PasswordException"),this.code=ce}},g.UnknownErrorException=class S extends h{constructor(se,ce){super(se,"UnknownErrorException"),this.details=ce}},g.InvalidPDFException=class U extends h{constructor(se){super(se,"InvalidPDFException")}},g.MissingPDFException=class H extends h{constructor(se){super(se,"MissingPDFException")}},g.UnexpectedResponseException=class ie extends h{constructor(se,ce){super(se,"UnexpectedResponseException"),this.status=ce}},g.FormatError=class ae extends h{constructor(se){super(se,"FormatError")}},g.AbortException=class be extends h{constructor(se){super(se,"AbortException")}},g.FeatureTest=class Ge{static get isLittleEndian(){return x(this,"isLittleEndian",function me(){const he=new Uint8Array(4);return he[0]=1,1===new Uint32Array(he.buffer,0,1)[0]}())}static get isEvalSupported(){return x(this,"isEvalSupported",function Ee(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return x(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const ot=[...Array(256).keys()].map(he=>he.toString(16).padStart(2,"0"));class Ze{static makeHexColor(se,ce,Fe){return`#${ot[se]}${ot[ce]}${ot[Fe]}`}static scaleMinMax(se,ce){let Fe;se[0]?(se[0]<0&&(Fe=ce[0],ce[0]=ce[1],ce[1]=Fe),ce[0]*=se[0],ce[1]*=se[0],se[3]<0&&(Fe=ce[2],ce[2]=ce[3],ce[3]=Fe),ce[2]*=se[3],ce[3]*=se[3]):(Fe=ce[0],ce[0]=ce[2],ce[2]=Fe,Fe=ce[1],ce[1]=ce[3],ce[3]=Fe,se[1]<0&&(Fe=ce[2],ce[2]=ce[3],ce[3]=Fe),ce[2]*=se[1],ce[3]*=se[1],se[2]<0&&(Fe=ce[0],ce[0]=ce[1],ce[1]=Fe),ce[0]*=se[2],ce[1]*=se[2]),ce[0]+=se[4],ce[1]+=se[4],ce[2]+=se[5],ce[3]+=se[5]}static transform(se,ce){return[se[0]*ce[0]+se[2]*ce[1],se[1]*ce[0]+se[3]*ce[1],se[0]*ce[2]+se[2]*ce[3],se[1]*ce[2]+se[3]*ce[3],se[0]*ce[4]+se[2]*ce[5]+se[4],se[1]*ce[4]+se[3]*ce[5]+se[5]]}static applyTransform(se,ce){return[se[0]*ce[0]+se[1]*ce[2]+ce[4],se[0]*ce[1]+se[1]*ce[3]+ce[5]]}static applyInverseTransform(se,ce){const Fe=ce[0]*ce[3]-ce[1]*ce[2];return[(se[0]*ce[3]-se[1]*ce[2]+ce[2]*ce[5]-ce[4]*ce[3])/Fe,(-se[0]*ce[1]+se[1]*ce[0]+ce[4]*ce[1]-ce[5]*ce[0])/Fe]}static getAxialAlignedBoundingBox(se,ce){const Fe=Ze.applyTransform(se,ce),Ve=Ze.applyTransform(se.slice(2,4),ce),De=Ze.applyTransform([se[0],se[3]],ce),Pe=Ze.applyTransform([se[2],se[1]],ce);return[Math.min(Fe[0],Ve[0],De[0],Pe[0]),Math.min(Fe[1],Ve[1],De[1],Pe[1]),Math.max(Fe[0],Ve[0],De[0],Pe[0]),Math.max(Fe[1],Ve[1],De[1],Pe[1])]}static inverseTransform(se){const ce=se[0]*se[3]-se[1]*se[2];return[se[3]/ce,-se[1]/ce,-se[2]/ce,se[0]/ce,(se[2]*se[5]-se[4]*se[3])/ce,(se[4]*se[1]-se[5]*se[0])/ce]}static apply3dTransform(se,ce){return[se[0]*ce[0]+se[1]*ce[1]+se[2]*ce[2],se[3]*ce[0]+se[4]*ce[1]+se[5]*ce[2],se[6]*ce[0]+se[7]*ce[1]+se[8]*ce[2]]}static singularValueDecompose2dScale(se){const ce=[se[0],se[2],se[1],se[3]],Fe=se[0]*ce[0]+se[1]*ce[2],Pe=se[2]*ce[1]+se[3]*ce[3],Le=(Fe+Pe)/2,Ne=Math.sqrt((Fe+Pe)**2-4*(Fe*Pe-(se[2]*ce[0]+se[3]*ce[2])*(se[0]*ce[1]+se[1]*ce[3])))/2,Ke=Le-Ne||1;return[Math.sqrt(Le+Ne||1),Math.sqrt(Ke)]}static normalizeRect(se){const ce=se.slice(0);return se[0]>se[2]&&(ce[0]=se[2],ce[2]=se[0]),se[1]>se[3]&&(ce[1]=se[3],ce[3]=se[1]),ce}static intersect(se,ce){const Fe=Math.max(Math.min(se[0],se[2]),Math.min(ce[0],ce[2])),Ve=Math.min(Math.max(se[0],se[2]),Math.max(ce[0],ce[2]));if(Fe>Ve)return null;const De=Math.max(Math.min(se[1],se[3]),Math.min(ce[1],ce[3])),Pe=Math.min(Math.max(se[1],se[3]),Math.max(ce[1],ce[3]));return De>Pe?null:[Fe,De,Ve,Pe]}static bezierBoundingBox(se,ce,Fe,Ve,De,Pe,Le,Ne){const ze=[],Ke=[[],[]];let nt,et,Dt,Xe,yt,Ut,Gt,Ct;for(let ii=0;ii<2;++ii)if(0===ii?(et=6*se-12*Fe+6*De,nt=-3*se+9*Fe-9*De+3*Le,Dt=3*Fe-3*se):(et=6*ce-12*Ve+6*Pe,nt=-3*ce+9*Ve-9*Pe+3*Ne,Dt=3*Ve-3*ce),Math.abs(nt)<1e-12){if(Math.abs(et)<1e-12)continue;Xe=-Dt/et,0<Xe&&Xe<1&&ze.push(Xe)}else Gt=et*et-4*Dt*nt,Ct=Math.sqrt(Gt),!(Gt<0)&&(yt=(-et+Ct)/(2*nt),0<yt&&yt<1&&ze.push(yt),Ut=(-et-Ct)/(2*nt),0<Ut&&Ut<1&&ze.push(Ut));let xt,Vt=ze.length;const cr=Vt;for(;Vt--;)Xe=ze[Vt],xt=1-Xe,Ke[0][Vt]=xt*xt*xt*se+3*xt*xt*Xe*Fe+3*xt*Xe*Xe*De+Xe*Xe*Xe*Le,Ke[1][Vt]=xt*xt*xt*ce+3*xt*xt*Xe*Ve+3*xt*Xe*Xe*Pe+Xe*Xe*Xe*Ne;return Ke[0][cr]=se,Ke[1][cr]=ce,Ke[0][cr+1]=Le,Ke[1][cr+1]=Ne,Ke[0].length=Ke[1].length=cr+2,[Math.min(...Ke[0]),Math.min(...Ke[1]),Math.max(...Ke[0]),Math.max(...Ke[1])]}}g.Util=Ze;const Ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function K(he){return decodeURIComponent(escape(he))}},(ue,g,z)=>{z(3)},(ue,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.isNodeJS=void 0;const z=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);g.isNodeJS=z},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var _fetchDocument2;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:ue,NodeCMapReaderFactory:g,NodeStandardFontDataFactory:z}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=ue,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=g,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=z}function setPDFNetworkStreamFactory(ue){createPDFNetworkStream=ue}function getDocument(ue){const g=new PDFDocumentLoadingTask;let z;if("string"==typeof ue||ue instanceof URL)z={url:ue};else if((0,_util.isArrayBuffer)(ue))z={data:ue};else if(ue instanceof PDFDataRangeTransport)z={range:ue};else{if("object"!=typeof ue)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!ue.url&&!ue.data&&!ue.range)throw new Error("Invalid parameter object: need either .data, .range or .url");z=ue}const f=Object.create(null);let A=null,j=null;for(const le in z){const V=z[le];switch(le){case"url":if(typeof window<"u")try{f[le]=new URL(V,window.location).href;continue}catch(B){(0,_util.warn)(`Cannot create valid URL: "${B}".`)}else if("string"==typeof V||V instanceof URL){f[le]=V.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":A=V;continue;case"worker":j=V;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&V instanceof Buffer)f[le]=new Uint8Array(V);else{if(V instanceof Uint8Array)break;if("string"==typeof V)f[le]=(0,_util.stringToBytes)(V);else if("object"!=typeof V||null===V||isNaN(V.length)){if(!(0,_util.isArrayBuffer)(V))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");f[le]=new Uint8Array(V)}else f[le]=new Uint8Array(V)}continue}f[le]=V}if(f.CMapReaderFactory=f.CMapReaderFactory||DefaultCMapReaderFactory,f.StandardFontDataFactory=f.StandardFontDataFactory||DefaultStandardFontDataFactory,f.ignoreErrors=!0!==f.stopAtErrors,f.fontExtraProperties=!0===f.fontExtraProperties,f.pdfBug=!0===f.pdfBug,f.enableXfa=!0===f.enableXfa,(!Number.isInteger(f.rangeChunkSize)||f.rangeChunkSize<1)&&(f.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof f.docBaseUrl||(0,_display_utils.isDataScheme)(f.docBaseUrl))&&(f.docBaseUrl=null),(!Number.isInteger(f.maxImageSize)||f.maxImageSize<-1)&&(f.maxImageSize=-1),"string"!=typeof f.cMapUrl&&(f.cMapUrl=null),"string"!=typeof f.standardFontDataUrl&&(f.standardFontDataUrl=null),"boolean"!=typeof f.useWorkerFetch&&(f.useWorkerFetch=f.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&f.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof f.isEvalSupported&&(f.isEvalSupported=!0),"boolean"!=typeof f.disableFontFace&&(f.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof f.useSystemFonts&&(f.useSystemFonts=!_is_node.isNodeJS&&!f.disableFontFace),("object"!=typeof f.ownerDocument||null===f.ownerDocument)&&(f.ownerDocument=globalThis.document),"boolean"!=typeof f.disableRange&&(f.disableRange=!1),"boolean"!=typeof f.disableStream&&(f.disableStream=!1),"boolean"!=typeof f.disableAutoFetch&&(f.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(f.verbosity),!j){const le={verbosity:f.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};j=le.port?PDFWorker.fromPort(le):new PDFWorker(le),g._worker=j}const $=g.docId;return j.promise.then(function(){if(g.destroyed)throw new Error("Loading aborted");const le=_fetchDocument(j,f,A,$),V=new Promise(function(B){let Y;A?Y=new _transport_stream.PDFDataTransportStream({length:f.length,initialData:f.initialData,progressiveDone:f.progressiveDone,contentDispositionFilename:f.contentDispositionFilename,disableRange:f.disableRange,disableStream:f.disableStream},A):f.data||(Y=createPDFNetworkStream({url:f.url,length:f.length,httpHeaders:f.httpHeaders,withCredentials:f.withCredentials,rangeChunkSize:f.rangeChunkSize,disableRange:f.disableRange,disableStream:f.disableStream})),B(Y)});return Promise.all([le,V]).then(function([B,Y]){if(g.destroyed)throw new Error("Loading aborted");const ne=new _message_handler.MessageHandler($,B,j.port),X=new WorkerTransport(ne,g,Y,f);g._transport=X,ne.send("Ready",null)})}).catch(g._capability.reject),g}function _fetchDocument(ue,g,z,f){return(_fetchDocument2=_fetchDocument2||_asyncToGenerator(function*(A,j,$,le){if(A.destroyed)throw new Error("Worker was destroyed");$&&(j.length=$.length,j.initialData=$.initialData,j.progressiveDone=$.progressiveDone,j.contentDispositionFilename=$.contentDispositionFilename);const V=yield A.messageHandler.sendWithPromise("GetDocRequest",{docId:le,apiVersion:"2.16.105",source:{data:j.data,url:j.url,password:j.password,disableAutoFetch:j.disableAutoFetch,rangeChunkSize:j.rangeChunkSize,length:j.length},maxImageSize:j.maxImageSize,disableFontFace:j.disableFontFace,docBaseUrl:j.docBaseUrl,ignoreErrors:j.ignoreErrors,isEvalSupported:j.isEvalSupported,fontExtraProperties:j.fontExtraProperties,enableXfa:j.enableXfa,useSystemFonts:j.useSystemFonts,cMapUrl:j.useWorkerFetch?j.cMapUrl:null,standardFontDataUrl:j.useWorkerFetch?j.standardFontDataUrl:null});if(j.data&&(j.data=null),A.destroyed)throw new Error("Worker was destroyed");return V})).apply(this,arguments)}class PDFDocumentLoadingTask{constructor(){var g,z;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(g=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),z=g++,g)),z}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var g=this;return _asyncToGenerator(function*(){g.destroyed=!0,yield g._transport?.destroy(),g._transport=null,g._worker&&(g._worker.destroy(),g._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(g,z,f=!1,A=null){this.length=g,this.initialData=z,this.progressiveDone=f,this.contentDispositionFilename=A,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(g){this._rangeListeners.push(g)}addProgressListener(g){this._progressListeners.push(g)}addProgressiveReadListener(g){this._progressiveReadListeners.push(g)}addProgressiveDoneListener(g){this._progressiveDoneListeners.push(g)}onDataRange(g,z){for(const f of this._rangeListeners)f(g,z)}onDataProgress(g,z){this._readyCapability.promise.then(()=>{for(const f of this._progressListeners)f(g,z)})}onDataProgressiveRead(g){this._readyCapability.promise.then(()=>{for(const z of this._progressiveReadListeners)z(g)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const g of this._progressiveDoneListeners)g()})}transportReady(){this._readyCapability.resolve()}requestDataRange(g,z){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(g,z){var A,f=this;this._pdfInfo=g,this._transport=z,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:function(){return(A=A||_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),f.stats||{streamTypes:{},fontTypes:{}}})).apply(this,arguments)}})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(g){return this._transport.getPage(g)}getPageIndex(g){return this._transport.getPageIndex(g)}getDestinations(){return this._transport.getDestinations()}getDestination(g){return this._transport.getDestination(g)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(g=!1){return this._transport.startCleanup(g||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(g,z,f,A,j=!1){this._pageIndex=g,this._pageInfo=z,this._ownerDocument=A,this._transport=f,this._stats=j?new _display_utils.StatTimer:null,this._pdfBug=j,this.commonObjs=f.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:g,rotation:z=this.rotate,offsetX:f=0,offsetY:A=0,dontFlip:j=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:g,rotation:z,offsetX:f,offsetY:A,dontFlip:j})}getAnnotations({intent:g="display"}={}){const z=this._transport.getRenderingIntent(g);let f=this._annotationPromises.get(z.cacheKey);return f||(f=this._transport.getAnnotations(this._pageIndex,z.renderingIntent),this._annotationPromises.set(z.cacheKey,f),f=f.then(A=>{for(const j of A)void 0!==j.titleObj&&Object.defineProperty(j,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),j.titleObj.str)}),void 0!==j.contentsObj&&Object.defineProperty(j,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),j.contentsObj.str)});return A})),f}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var g=this;return _asyncToGenerator(function*(){return g._transport._htmlForXfa?.children[g._pageIndex]||null})()}render({canvasContext:g,viewport:z,intent:f="display",annotationMode:A=_util.AnnotationMode.ENABLE,transform:j=null,imageLayer:$=null,canvasFactory:le=null,background:V=null,optionalContentConfigPromise:B=null,annotationCanvasMap:Y=null,pageColors:ne=null,printAnnotationStorage:X=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&A===_util.AnnotationMode.ENABLE&&(A=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&A===_util.AnnotationMode.ENABLE&&(A=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const N=this._transport.getRenderingIntent(f,A,X);this.pendingCleanup=!1,B||(B=this._transport.getOptionalContentConfig());let k=this._intentStates.get(N.cacheKey);k||(k=Object.create(null),this._intentStates.set(N.cacheKey,k)),k.streamReaderCancelTimeout&&(clearTimeout(k.streamReaderCancelTimeout),k.streamReaderCancelTimeout=null);const p=le||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),E=!!(N.renderingIntent&_util.RenderingIntentFlag.PRINT);k.displayReadyCapability||(k.displayReadyCapability=(0,_util.createPromiseCapability)(),k.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(N));const T=m=>{k.renderTasks.delete(I),(this.cleanupAfterRender||E)&&(this.pendingCleanup=!0),this._tryCleanup(),m?(I.capability.reject(m),this._abortOperatorList({intentState:k,reason:m instanceof Error?m:new Error(m)})):I.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},I=new InternalRenderTask({callback:T,params:{canvasContext:g,viewport:z,transform:j,imageLayer:$,background:V},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Y,operatorList:k.operatorList,pageIndex:this._pageIndex,canvasFactory:p,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:ne});(k.renderTasks||=new Set).add(I);const L=I.task;return Promise.all([k.displayReadyCapability.promise,B]).then(([m,d])=>{this.pendingCleanup?T():(this._stats&&this._stats.time("Rendering"),I.initializeGraphics({transparency:m,optionalContentConfig:d}),I.operatorListChanged())}).catch(T),L}getOperatorList({intent:g="display",annotationMode:z=_util.AnnotationMode.ENABLE,printAnnotationStorage:f=null}={}){const j=this._transport.getRenderingIntent(g,z,f,!0);let le,$=this._intentStates.get(j.cacheKey);return $||($=Object.create(null),this._intentStates.set(j.cacheKey,$)),$.opListReadCapability||(le=Object.create(null),le.operatorListChanged=function A(){$.operatorList.lastChunk&&($.opListReadCapability.resolve($.operatorList),$.renderTasks.delete(le))},$.opListReadCapability=(0,_util.createPromiseCapability)(),($.renderTasks||=new Set).add(le),$.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(j)),$.opListReadCapability.promise}streamTextContent({disableCombineTextItems:g=!1,includeMarkedContent:z=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==g,includeMarkedContent:!0===z},{highWaterMark:100,size:A=>A.items.length})}getTextContent(g={}){if(this._transport._htmlForXfa)return this.getXfa().then(f=>_xfa_text.XfaText.textContent(f));const z=this.streamTextContent(g);return new Promise(function(f,A){const $=z.getReader(),le={items:[],styles:Object.create(null)};!function j(){$.read().then(function({value:V,done:B}){B?f(le):(Object.assign(le.styles,V.styles),le.items.push(...V.items),j())},A)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const g=[];for(const z of this._intentStates.values())if(this._abortOperatorList({intentState:z,reason:new Error("Page was destroyed."),force:!0}),!z.opListReadCapability)for(const f of z.renderTasks)g.push(f.completed),f.cancel();this.objs.clear();for(const z of this._bitmaps)z.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(g)}cleanup(g=!1){return this.pendingCleanup=!0,this._tryCleanup(g)}_tryCleanup(g=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:z,operatorList:f}of this._intentStates.values())if(z.size>0||!f.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,g&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const z of this._bitmaps)z.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(g,z){const f=this._intentStates.get(z);f&&(this._stats&&this._stats.timeEnd("Page Request"),f.displayReadyCapability&&f.displayReadyCapability.resolve(g))}_renderPageChunk(g,z){for(let f=0,A=g.length;f<A;f++)z.operatorList.fnArray.push(g.fnArray[f]),z.operatorList.argsArray.push(g.argsArray[f]);z.operatorList.lastChunk=g.lastChunk,z.operatorList.separateAnnots=g.separateAnnots;for(const f of z.renderTasks)f.operatorListChanged();g.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:g,cacheKey:z,annotationStorageMap:f}){const j=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:g,cacheKey:z,annotationStorage:f}).getReader(),$=this._intentStates.get(z);$.streamReader=j;const le=()=>{j.read().then(({value:V,done:B})=>{B?$.streamReader=null:this._transport.destroyed||(this._renderPageChunk(V,$),le())},V=>{if($.streamReader=null,!this._transport.destroyed){if($.operatorList){$.operatorList.lastChunk=!0;for(const B of $.renderTasks)B.operatorListChanged();this._tryCleanup()}if($.displayReadyCapability)$.displayReadyCapability.reject(V);else{if(!$.opListReadCapability)throw V;$.opListReadCapability.reject(V)}}})};le()}_abortOperatorList({intentState:g,reason:z,force:f=!1}){if(g.streamReader){if(!f){if(g.renderTasks.size>0)return;if(z instanceof _display_utils.RenderingCancelledException)return void(g.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:g,reason:z,force:!0}),g.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(g.streamReader.cancel(new _util.AbortException(z.message)).catch(()=>{}),g.streamReader=null,!this._transport.destroyed){for(const[A,j]of this._intentStates)if(j===g){this._intentStates.delete(A);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(g,z){const f={data:structuredClone(g,z)};this._deferred.then(()=>{for(const A of this._listeners)A.call(this,f)})}addEventListener(g,z){this._listeners.push(z)}removeEventListener(g,z){const f=this._listeners.indexOf(z);this._listeners.splice(f,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const ue=document?.currentScript?.src;ue&&(PDFWorkerUtil.fallbackWorkerSrc=ue.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ue,g){let z;try{if(z=new URL(ue),!z.origin||"null"===z.origin)return!1}catch{return!1}const f=new URL(g,z);return z.origin===f.origin},PDFWorkerUtil.createCDNWrapper=function(ue){return URL.createObjectURL(new Blob([`importScripts("${ue}");`]))};class PDFWorker{constructor({name:ue=null,port:g=null,verbosity:z=(0,_util.getVerbosityLevel)()}={}){if(g&&_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).has(g))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=ue,this.destroyed=!1,this.verbosity=z,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,g)return _classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).set(g,this),void this._initializeFromPort(g);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ue){this._port=ue,this._messageHandler=new _message_handler.MessageHandler("main","worker",ue),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ue}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ue)||(ue=PDFWorkerUtil.createCDNWrapper(new URL(ue,window.location).href));const g=new Worker(ue),z=new _message_handler.MessageHandler("main","worker",g),f=()=>{g.removeEventListener("error",A),z.destroy(),g.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},A=()=>{this._webWorker||f()};g.addEventListener("error",A),z.on("test",$=>{g.removeEventListener("error",A),this.destroyed?f():$?(this._messageHandler=z,this._port=g,this._webWorker=g,this._readyCapability.resolve(),z.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),z.destroy(),g.terminate())}),z.on("ready",$=>{if(g.removeEventListener("error",A),this.destroyed)f();else try{j()}catch{this._setupFakeWorker()}});const j=()=>{const $=new Uint8Array;z.send("test",$,[$.buffer])};return void j()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(ue=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const g=new LoopbackPort;this._port=g;const z="fake"+PDFWorkerUtil.fakeWorkerId++,f=new _message_handler.MessageHandler(z+"_worker",z,g);ue.setup(f,g);const A=new _message_handler.MessageHandler(z,z+"_worker",g);this._messageHandler=A,this._readyCapability.resolve(),A.send("configure",{verbosity:this.verbosity})}).catch(ue=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ue.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ue){if(!ue?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).has(ue.port)?_classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).get(ue.port):new PDFWorker(ue)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this,_ref2;const loader=function loader(){return(_ref2=_ref2||_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler})).apply(this,arguments)};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(g,z,f,A){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=g,this.loadingTask=z,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:z.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:A.ownerDocument,styleElement:A.styleElement}),this._params=A,A.useWorkerFetch||(this.CMapReaderFactory=new A.CMapReaderFactory({baseUrl:A.cMapUrl,isCompressed:A.cMapPacked}),this.StandardFontDataFactory=new A.StandardFontDataFactory({baseUrl:A.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=f,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(g,z=_util.AnnotationMode.ENABLE,f=null,A=!1){let j=_util.RenderingIntentFlag.DISPLAY,$=null;switch(g){case"any":j=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":j=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${g}`)}switch(z){case _util.AnnotationMode.DISABLE:j+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:j+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:j+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,$=(j&_util.RenderingIntentFlag.PRINT&&f instanceof _annotation_storage.PrintAnnotationStorage?f:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${z}`)}return A&&(j+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:j,cacheKey:`${j}_${_annotation_storage.AnnotationStorage.getHash($)}`,annotationStorageMap:$}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const g=[];for(const f of _classPrivateFieldGet(this,_pageCache).values())g.push(f._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const z=this.messageHandler.sendWithPromise("Terminate",null);return g.push(z),Promise.all(g).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:g,loadingTask:z}=this;g.on("GetReader",(f,A)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=j=>{this._lastProgress={loaded:j.loaded,total:j.total}},A.onPull=()=>{this._fullReader.read().then(function({value:j,done:$}){$?A.close():((0,_util.assert)((0,_util.isArrayBuffer)(j),"GetReader - expected an ArrayBuffer."),A.enqueue(new Uint8Array(j),1,[j]))}).catch(j=>{A.error(j)})},A.onCancel=j=>{this._fullReader.cancel(j),A.ready.catch($=>{if(!this.destroyed)throw $})}}),g.on("ReaderHeadersReady",f=>{const A=(0,_util.createPromiseCapability)(),j=this._fullReader;return j.headersReady.then(()=>{(!j.isStreamingSupported||!j.isRangeSupported)&&(this._lastProgress&&z.onProgress?.(this._lastProgress),j.onProgress=$=>{z.onProgress?.({loaded:$.loaded,total:$.total})}),A.resolve({isStreamingSupported:j.isStreamingSupported,isRangeSupported:j.isRangeSupported,contentLength:j.contentLength})},A.reject),A.promise}),g.on("GetRangeReader",(f,A)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const j=this._networkStream.getRangeReader(f.begin,f.end);j?(A.onPull=()=>{j.read().then(function({value:$,done:le}){le?A.close():((0,_util.assert)((0,_util.isArrayBuffer)($),"GetRangeReader - expected an ArrayBuffer."),A.enqueue(new Uint8Array($),1,[$]))}).catch($=>{A.error($)})},A.onCancel=$=>{j.cancel($),A.ready.catch(le=>{if(!this.destroyed)throw le})}):A.close()}),g.on("GetDoc",({pdfInfo:f})=>{this._numPages=f.numPages,this._htmlForXfa=f.htmlForXfa,delete f.htmlForXfa,z._capability.resolve(new PDFDocumentProxy(f,this))}),g.on("DocException",function(f){let A;switch(f.name){case"PasswordException":A=new _util.PasswordException(f.message,f.code);break;case"InvalidPDFException":A=new _util.InvalidPDFException(f.message);break;case"MissingPDFException":A=new _util.MissingPDFException(f.message);break;case"UnexpectedResponseException":A=new _util.UnexpectedResponseException(f.message,f.status);break;case"UnknownErrorException":A=new _util.UnknownErrorException(f.message,f.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}z._capability.reject(A)}),g.on("PasswordRequest",f=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),z.onPassword){const A=j=>{j instanceof Error?this._passwordCapability.reject(j):this._passwordCapability.resolve({password:j})};try{z.onPassword(A,f.code)}catch(j){this._passwordCapability.reject(j)}}else this._passwordCapability.reject(new _util.PasswordException(f.message,f.code));return this._passwordCapability.promise}),g.on("DataLoaded",f=>{z.onProgress?.({loaded:f.length,total:f.length}),this.downloadInfoCapability.resolve(f)}),g.on("StartRenderPage",f=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(f.pageIndex)._startRenderPage(f.transparency,f.cacheKey)}),g.on("commonobj",([f,A,j])=>{if(!this.destroyed&&!this.commonObjs.has(f))switch(A){case"Font":const $=this._params;if("error"in j){const B=j.error;(0,_util.warn)(`Error during font loading: ${B}`),this.commonObjs.resolve(f,B);break}let le=null;$.pdfBug&&globalThis.FontInspector?.enabled&&(le={registerFont(B,Y){globalThis.FontInspector.fontAdded(B,Y)}});const V=new _font_loader.FontFaceObject(j,{isEvalSupported:$.isEvalSupported,disableFontFace:$.disableFontFace,ignoreErrors:$.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:le});this.fontLoader.bind(V).catch(B=>g.sendWithPromise("FontFallback",{id:f})).finally(()=>{!$.fontExtraProperties&&V.data&&(V.data=null),this.commonObjs.resolve(f,V)});break;case"FontPath":case"Image":this.commonObjs.resolve(f,j);break;default:throw new Error(`Got unknown common object type ${A}`)}}),g.on("obj",([f,A,j,$])=>{if(this.destroyed)return;const le=_classPrivateFieldGet(this,_pageCache).get(A);if(!le.objs.has(f))switch(j){case"Image":le.objs.resolve(f,$);const V=8e6;if($){let B;if($.bitmap){const{bitmap:Y,width:ne,height:X}=$;B=ne*X*4,le._bitmaps.add(Y)}else B=$.data?.length||0;B>V&&(le.cleanupAfterRender=!0)}break;case"Pattern":le.objs.resolve(f,$);break;default:throw new Error(`Got unknown object type ${j}`)}}),g.on("DocProgress",f=>{this.destroyed||z.onProgress?.({loaded:f.loaded,total:f.total})}),g.on("DocStats",f=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(f.streamTypes),fontTypes:Object.freeze(f.fontTypes)}))}),g.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),g.on("FetchBuiltInCMap",f=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(f):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),g.on("FetchStandardFontData",f=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(f):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:g}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(g)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(g){if(!Number.isInteger(g)||g<=0||g>this._numPages)return Promise.reject(new Error("Invalid page request."));const z=g-1,f=_classPrivateFieldGet(this,_pagePromises).get(z);if(f)return f;const A=this.messageHandler.sendWithPromise("GetPage",{pageIndex:z}).then(j=>{if(this.destroyed)throw new Error("Transport destroyed");const $=new PDFPageProxy(z,j,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(z,$),$});return _classPrivateFieldGet(this,_pagePromises).set(z,A),A}getPageIndex(g){return"object"!=typeof g||null===g||!Number.isInteger(g.num)||g.num<0||!Number.isInteger(g.gen)||g.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:g.num,gen:g.gen})}getAnnotations(g,z){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:g,intent:z})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(g){return"string"!=typeof g?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:g})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(g){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:g})}getStructTree(g){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:g})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(g=>new _optional_content_config.OptionalContentConfig(g))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(g=>({info:g[0],metadata:g[1]?new _metadata.Metadata(g[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(g=!1){var z=this;return _asyncToGenerator(function*(){if(yield z.messageHandler.sendWithPromise("Cleanup",null),!z.destroyed){for(const f of _classPrivateFieldGet(z,_pageCache).values())if(!f.cleanup())throw new Error(`startCleanup: Page ${f.pageNumber} is currently rendering.`);z.commonObjs.clear(),g||z.fontLoader.clear(),_classPrivateFieldSet(z,_metadataPromise,null),z._getFieldObjectsPromise=null,z._hasJSActionsPromise=null}})()}get loadingParams(){const g=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:g.disableAutoFetch,enableXfa:g.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(g,z=null){if(z){const A=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,g);return A.capability.promise.then(()=>z(A.data)),null}const f=_classPrivateFieldGet(this,_objs)[g];if(!f?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${g}.`);return f.data}has(g){return _classPrivateFieldGet(this,_objs)[g]?.capability.settled||!1}resolve(g,z=null){const f=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,g);f.data=z,f.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(ue){return _classPrivateFieldGet(this,_objs)[ue]||(_classPrivateFieldGet(this,_objs)[ue]={capability:(0,_util.createPromiseCapability)(),data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(g){_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,g),this.onContinue=null}get promise(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}cancel(){_classPrivateFieldGet(this,_internalRenderTask).cancel()}get separateAnnots(){const{separateAnnots:g}=_classPrivateFieldGet(this,_internalRenderTask).operatorList;if(!g)return!1;const{annotationCanvasMap:z}=_classPrivateFieldGet(this,_internalRenderTask);return g.form||g.canvas&&z?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:g,params:z,objs:f,commonObjs:A,annotationCanvasMap:j,operatorList:$,pageIndex:le,canvasFactory:V,useRequestAnimationFrame:B=!1,pdfBug:Y=!1,pageColors:ne=null}){this.callback=g,this.params=z,this.objs=f,this.commonObjs=A,this.annotationCanvasMap=j,this.operatorListIdx=null,this.operatorList=$,this._pageIndex=le,this.canvasFactory=V,this._pdfBug=Y,this.pageColors=ne,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===B&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=z.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:g=!1,optionalContentConfig:z}){if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:f,viewport:A,transform:j,imageLayer:$,background:le}=this.params;this.gfx=new _canvas.CanvasGraphics(f,this.commonObjs,this.objs,this.canvasFactory,$,z,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:j,viewport:A,transparency:g,background:le}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(g=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(g||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var g=this;return _asyncToGenerator(function*(){g.cancelled||(g.operatorListIdx=g.gfx.executeOperatorList(g.operatorList,g.operatorListIdx,g._continueBound,g.stepper),g.operatorListIdx===g.operatorList.argsArray.length&&(g.running=!1,g.operatorList.lastChunk&&(g.gfx.endDrawing(),g._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(g._canvas),g.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PrintAnnotationStorage=g.AnnotationStorage=void 0;var f=z(1),A=z(6),j=z(10),$=new WeakSet;class le{constructor(){_classPrivateMethodInitSpec(this,$),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(X,N){const k=this._storage.get(X);return void 0===k?N:Object.assign(N,k)}getRawValue(X){return this._storage.get(X)}remove(X){if(this._storage.delete(X),0===this._storage.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const N of this._storage.values())if(N instanceof A.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(X,N){const k=this._storage.get(X);let p=!1;if(void 0!==k)for(const[E,T]of Object.entries(N))k[E]!==T&&(p=!0,k[E]=T);else p=!0,this._storage.set(X,N);p&&_classPrivateMethodGet(this,$,V).call(this),N instanceof A.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(N.constructor._type)}has(X){return this._storage.has(X)}getAll(){return this._storage.size>0?(0,f.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new Y(this)}get serializable(){if(0===this._storage.size)return null;const X=new Map;for(const[N,k]of this._storage){const p=k instanceof A.AnnotationEditor?k.serialize():k;p&&X.set(N,p)}return X}static getHash(X){if(!X)return"";const N=new j.MurmurHash3_64;for(const[k,p]of X)N.update(`${k}:${JSON.stringify(p)}`);return N.hexdigest()}}function V(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}g.AnnotationStorage=le;var B=new WeakMap;class Y extends le{constructor(X){super(),_classPrivateFieldInitSpec(this,B,{writable:!0,value:null}),_classPrivateFieldSet(this,B,structuredClone(X.serializable))}get print(){(0,f.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _classPrivateFieldGet(this,B)}}g.PrintAnnotationStorage=Y},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.AnnotationEditor=void 0;var f=z(7),A=z(1),j=new WeakMap,$=new WeakMap,le=new WeakMap,V=new WeakMap,B=new WeakMap,Y=new WeakMap;class ne{constructor(N){_classPrivateFieldInitSpec(this,j,{writable:!0,value:this.focusin.bind(this)}),_classPrivateFieldInitSpec(this,$,{writable:!0,value:this.focusout.bind(this)}),_classPrivateFieldInitSpec(this,le,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,V,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,B,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:ne._zIndex++}),this.constructor===ne&&(0,A.unreachable)("Cannot initialize AnnotationEditor."),this.parent=N.parent,this.id=N.id,this.width=this.height=null,this.pageIndex=N.parent.pageIndex,this.name=N.name,this.div=null;const[k,p]=this.parent.viewportBaseDimensions;this.x=N.x/k,this.y=N.y/p,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,A.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_classPrivateFieldGet(this,Y)}focusin(N){_classPrivateFieldGet(this,le)?_classPrivateFieldSet(this,le,!1):this.parent.setSelected(this)}focusout(N){!this.isAttachedToDOM||N.relatedTarget?.closest(`#${this.id}`)||(N.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(N){const k=this.parent.div.getBoundingClientRect();this.startX=N.clientX-k.x,this.startY=N.clientY-k.y,N.dataTransfer.setData("text/plain",this.id),N.dataTransfer.effectAllowed="move"}setAt(N,k,p,E){const[T,I]=this.parent.viewportBaseDimensions;[p,E]=this.screenToPageTranslation(p,E),this.x=(N+p)/T,this.y=(k+E)/I,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(N,k){const[p,E]=this.parent.viewportBaseDimensions;[N,k]=this.screenToPageTranslation(N,k),this.x+=N/p,this.y+=k/E,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(N,k){const{rotation:p}=this.parent.viewport;switch(p){case 90:return[k,-N];case 180:return[-N,-k];case 270:return[-k,N];default:return[N,k]}}setDims(N,k){const[p,E]=this.parent.viewportBaseDimensions;this.div.style.width=100*N/p+"%",this.div.style.height=100*k/E+"%"}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_classPrivateFieldGet(this,j)),this.div.addEventListener("focusout",_classPrivateFieldGet(this,$));const[N,k]=this.getInitialTranslation();return this.translate(N,k),(0,f.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(N){const k=f.KeyboardManager.platform.isMac;0!==N.button||N.ctrlKey&&k?N.preventDefault():(N.ctrlKey&&!k||N.shiftKey||N.metaKey&&k?this.parent.toggleSelected(this):this.parent.setSelected(this),_classPrivateFieldSet(this,le,!0))}getRect(N,k){const[p,E]=this.parent.viewportBaseDimensions,[T,I]=this.parent.pageDimensions,L=T*N/p,m=I*k/E,d=this.x*T,u=this.y*I,v=this.width*T,D=this.height*I;switch(this.rotation){case 0:return[d+L,I-u-m-D,d+L+v,I-u-m];case 90:return[d+m,I-u+L,d+m+D,I-u+L+v];case 180:return[d-L-v,I-u+m,d-L,I-u+m+D];case 270:return[d-m-D,I-u-L-v,d-m,I-u-L];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(N,k){const[p,E,T,I]=N,L=T-p,m=I-E;switch(this.rotation){case 0:return[p,k-I,L,m];case 90:return[p,k-E,m,L];case 180:return[T,k-E,L,m];case 270:return[T,k-I,m,L];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_classPrivateFieldSet(this,B,!0)}disableEditMode(){_classPrivateFieldSet(this,B,!1)}isInEditMode(){return _classPrivateFieldGet(this,B)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",_classPrivateFieldGet(this,j))}serialize(){(0,A.unreachable)("An editor must be serializable")}static deserialize(N,k){const p=new this.prototype.constructor({parent:k,id:k.getNextId()});p.rotation=N.rotation;const[E,T]=k.pageDimensions,[I,L,m,d]=p.getRectInCurrentCoords(N.rect,T);return p.x=I/E,p.y=L/T,p.width=m/E,p.height=d/T,p}remove(){this.div.removeEventListener("focusin",_classPrivateFieldGet(this,j)),this.div.removeEventListener("focusout",_classPrivateFieldGet(this,$)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(N,k){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return _classPrivateFieldGet(this,V)}set isEditing(N){_classPrivateFieldSet(this,V,N),N?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}_defineProperty(ne,"_colorManager",new f.ColorManager),_defineProperty(ne,"_zIndex",1),g.AnnotationEditor=ne},(ue,g,z)=>{var f;Object.defineProperty(g,"__esModule",{value:!0}),g.KeyboardManager=g.CommandManager=g.ColorManager=g.AnnotationEditorUIManager=void 0,g.bindEvents=function $(ke,me,Ee){for(const Ge of Ee)me.addEventListener(Ge,ke[Ge].bind(ke))},g.opacityToHex=function le(ke){return Math.round(Math.min(255,Math.max(1,255*ke))).toString(16).padStart(2,"0")};var A=z(1),j=z(8),V=new WeakMap;class B{constructor(){_classPrivateFieldInitSpec(this,V,{writable:!0,value:0})}getId(){var me,Ee;return`${A.AnnotationEditorPrefix}${_classPrivateFieldSet(this,V,(me=_classPrivateFieldGet(this,V),Ee=me++,me)),Ee}`}}var Y=new WeakMap,ne=new WeakMap,X=new WeakMap,N=new WeakMap;class k{constructor(me=128){_classPrivateFieldInitSpec(this,Y,{writable:!0,value:[]}),_classPrivateFieldInitSpec(this,ne,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,X,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:-1}),_classPrivateFieldSet(this,X,me)}add({cmd:me,undo:Ee,mustExec:Ge,type:ot=NaN,overwriteIfSameType:Ze=!1,keepUndo:Ae=!1}){if(Ge&&me(),_classPrivateFieldGet(this,ne))return;const Ue={cmd:me,undo:Ee,type:ot};if(-1===_classPrivateFieldGet(this,N))return _classPrivateFieldGet(this,Y).length>0&&(_classPrivateFieldGet(this,Y).length=0),_classPrivateFieldSet(this,N,0),void _classPrivateFieldGet(this,Y).push(Ue);if(Ze&&_classPrivateFieldGet(this,Y)[_classPrivateFieldGet(this,N)].type===ot)return Ae&&(Ue.undo=_classPrivateFieldGet(this,Y)[_classPrivateFieldGet(this,N)].undo),void(_classPrivateFieldGet(this,Y)[_classPrivateFieldGet(this,N)]=Ue);const Qe=_classPrivateFieldGet(this,N)+1;Qe===_classPrivateFieldGet(this,X)?_classPrivateFieldGet(this,Y).splice(0,1):(_classPrivateFieldSet(this,N,Qe),Qe<_classPrivateFieldGet(this,Y).length&&_classPrivateFieldGet(this,Y).splice(Qe)),_classPrivateFieldGet(this,Y).push(Ue)}undo(){-1!==_classPrivateFieldGet(this,N)&&(_classPrivateFieldSet(this,ne,!0),_classPrivateFieldGet(this,Y)[_classPrivateFieldGet(this,N)].undo(),_classPrivateFieldSet(this,ne,!1),_classPrivateFieldSet(this,N,_classPrivateFieldGet(this,N)-1))}redo(){_classPrivateFieldGet(this,N)<_classPrivateFieldGet(this,Y).length-1&&(_classPrivateFieldSet(this,N,_classPrivateFieldGet(this,N)+1),_classPrivateFieldSet(this,ne,!0),_classPrivateFieldGet(this,Y)[_classPrivateFieldGet(this,N)].cmd(),_classPrivateFieldSet(this,ne,!1))}hasSomethingToUndo(){return-1!==_classPrivateFieldGet(this,N)}hasSomethingToRedo(){return _classPrivateFieldGet(this,N)<_classPrivateFieldGet(this,Y).length-1}destroy(){_classPrivateFieldSet(this,Y,null)}}g.CommandManager=k;var p=new WeakSet;class E{constructor(me){_classPrivateMethodInitSpec(this,p),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const Ee=E.platform.isMac;for(const[Ge,ot]of me)for(const Ze of Ge){const Ae=Ze.startsWith("mac+");Ee&&Ae?(this.callbacks.set(Ze.slice(4),ot),this.allKeys.add(Ze.split("+").at(-1))):!Ee&&!Ae&&(this.callbacks.set(Ze,ot),this.allKeys.add(Ze.split("+").at(-1)))}}static get platform(){const me=typeof navigator<"u"?navigator.platform:"";return(0,A.shadow)(this,"platform",{isWin:me.includes("Win"),isMac:me.includes("Mac")})}exec(me,Ee){if(!this.allKeys.has(Ee.key))return;const Ge=this.callbacks.get(_classPrivateMethodGet(this,p,T).call(this,Ee));Ge&&(Ge.bind(me)(),Ee.stopPropagation(),Ee.preventDefault())}}function T(ke){ke.altKey&&this.buffer.push("alt"),ke.ctrlKey&&this.buffer.push("ctrl"),ke.metaKey&&this.buffer.push("meta"),ke.shiftKey&&this.buffer.push("shift"),this.buffer.push(ke.key);const me=this.buffer.join("+");return this.buffer.length=0,me}g.KeyboardManager=E;var I=new WeakMap;class L{constructor(){_classPrivateFieldInitSpec(this,I,{writable:!0,value:null})}copy(me){me&&(Array.isArray(me)?_classPrivateFieldSet(this,I,me.map(Ee=>Ee.serialize())):_classPrivateFieldSet(this,I,[me.serialize()]),_classPrivateFieldSet(this,I,_classPrivateFieldGet(this,I).filter(Ee=>!!Ee)),0===_classPrivateFieldGet(this,I).length&&_classPrivateFieldSet(this,I,null))}paste(){return _classPrivateFieldGet(this,I)}isEmpty(){return null===_classPrivateFieldGet(this,I)}destroy(){_classPrivateFieldSet(this,I,null)}}class m{get _colors(){const me=new Map([["CanvasText",null],["Canvas",null]]);return(0,j.getColorValues)(me),(0,A.shadow)(this,"_colors",me)}convert(me){const Ee=(0,j.getRGB)(me);if(!window.matchMedia("(forced-colors: active)").matches)return Ee;for(const[Ge,ot]of this._colors)if(ot.every((Ze,Ae)=>Ze===Ee[Ae]))return m._colorsMapping.get(Ge);return Ee}getHexCode(me){const Ee=this._colors.get(me);return Ee?A.Util.makeHexColor(...Ee):me}}_defineProperty(m,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),g.ColorManager=m;var d=new WeakMap,u=new WeakMap,v=new WeakMap,D=new WeakMap,R=new WeakMap,M=new WeakMap,_=new WeakMap,P=new WeakMap,q=new WeakMap,W=new WeakMap,ee=new WeakMap,Q=new WeakMap,Z=new WeakMap,re=new WeakMap,de=new WeakMap,ye=new WeakMap,J=new WeakMap,C=new WeakSet,y=new WeakSet,O=new WeakSet,G=new WeakSet,x=new WeakSet,h=new WeakSet,w=new WeakSet,S=new WeakSet,U=new WeakSet;class H{constructor(me,Ee){_classPrivateMethodInitSpec(this,U),_classPrivateMethodInitSpec(this,S),_classPrivateMethodInitSpec(this,w),_classPrivateMethodInitSpec(this,h),_classPrivateMethodInitSpec(this,x),_classPrivateMethodInitSpec(this,G),_classPrivateMethodInitSpec(this,O),_classPrivateMethodInitSpec(this,y),_classPrivateMethodInitSpec(this,C),_classPrivateFieldInitSpec(this,d,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,D,{writable:!0,value:new L}),_classPrivateFieldInitSpec(this,R,{writable:!0,value:new k}),_classPrivateFieldInitSpec(this,M,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,_,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,P,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,q,{writable:!0,value:new B}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,ee,{writable:!0,value:A.AnnotationEditorType.NONE}),_classPrivateFieldInitSpec(this,Q,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,Z,{writable:!0,value:this.keydown.bind(this)}),_classPrivateFieldInitSpec(this,re,{writable:!0,value:this.onEditingAction.bind(this)}),_classPrivateFieldInitSpec(this,de,{writable:!0,value:this.onPageChanging.bind(this)}),_classPrivateFieldInitSpec(this,ye,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),_classPrivateFieldInitSpec(this,J,{writable:!0,value:null}),_classPrivateFieldSet(this,J,me),_classPrivateFieldSet(this,P,Ee),_classPrivateFieldGet(this,P)._on("editingaction",_classPrivateFieldGet(this,re)),_classPrivateFieldGet(this,P)._on("pagechanging",_classPrivateFieldGet(this,de))}destroy(){_classPrivateMethodGet(this,y,ae).call(this),_classPrivateFieldGet(this,P)._off("editingaction",_classPrivateFieldGet(this,re)),_classPrivateFieldGet(this,P)._off("pagechanging",_classPrivateFieldGet(this,de));for(const me of _classPrivateFieldGet(this,v).values())me.destroy();_classPrivateFieldGet(this,v).clear(),_classPrivateFieldGet(this,u).clear(),_classPrivateFieldSet(this,d,null),_classPrivateFieldGet(this,Q).clear(),_classPrivateFieldGet(this,D).destroy(),_classPrivateFieldGet(this,R).destroy()}onPageChanging({pageNumber:me}){_classPrivateFieldSet(this,M,me-1)}focusMainContainer(){_classPrivateFieldGet(this,J).focus()}keydown(me){this.getActive()?.shouldGetKeyboardEvents()||H._keyboardManager.exec(this,me)}onEditingAction(me){["undo","redo","cut","copy","paste","delete","selectAll"].includes(me.name)&&this[me.name]()}setEditingState(me){me?(_classPrivateMethodGet(this,C,ie).call(this),_classPrivateMethodGet(this,O,be).call(this,{isEditing:_classPrivateFieldGet(this,ee)!==A.AnnotationEditorType.NONE,isEmpty:_classPrivateMethodGet(this,S,Ie).call(this),hasSomethingToUndo:_classPrivateFieldGet(this,R).hasSomethingToUndo(),hasSomethingToRedo:_classPrivateFieldGet(this,R).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:_classPrivateFieldGet(this,D).isEmpty()})):(_classPrivateMethodGet(this,y,ae).call(this),_classPrivateMethodGet(this,O,be).call(this,{isEditing:!1}))}registerEditorTypes(me){_classPrivateFieldSet(this,_,me);for(const Ee of _classPrivateFieldGet(this,_))_classPrivateMethodGet(this,G,pe).call(this,Ee.defaultPropertiesToUpdate)}getId(){return _classPrivateFieldGet(this,q).getId()}addLayer(me){_classPrivateFieldGet(this,v).set(me.pageIndex,me),_classPrivateFieldGet(this,W)?me.enable():me.disable()}removeLayer(me){_classPrivateFieldGet(this,v).delete(me.pageIndex)}updateMode(me){if(_classPrivateFieldSet(this,ee,me),me===A.AnnotationEditorType.NONE)this.setEditingState(!1),_classPrivateMethodGet(this,h,xe).call(this);else{this.setEditingState(!0),_classPrivateMethodGet(this,x,we).call(this);for(const Ee of _classPrivateFieldGet(this,v).values())Ee.updateMode(me)}}updateToolbar(me){me!==_classPrivateFieldGet(this,ee)&&_classPrivateFieldGet(this,P).dispatch("switchannotationeditormode",{source:this,mode:me})}updateParams(me,Ee){for(const Ge of _classPrivateFieldGet(this,Q))Ge.updateParams(me,Ee);for(const Ge of _classPrivateFieldGet(this,_))Ge.updateDefaultParams(me,Ee)}getEditors(me){const Ee=[];for(const Ge of _classPrivateFieldGet(this,u).values())Ge.pageIndex===me&&Ee.push(Ge);return Ee}getEditor(me){return _classPrivateFieldGet(this,u).get(me)}addEditor(me){_classPrivateFieldGet(this,u).set(me.id,me)}removeEditor(me){_classPrivateFieldGet(this,u).delete(me.id),this.unselect(me)}setActiveEditor(me){_classPrivateFieldGet(this,d)!==me&&(_classPrivateFieldSet(this,d,me),me&&_classPrivateMethodGet(this,G,pe).call(this,me.propertiesToUpdate))}toggleSelected(me){if(_classPrivateFieldGet(this,Q).has(me))return _classPrivateFieldGet(this,Q).delete(me),me.unselect(),void _classPrivateMethodGet(this,O,be).call(this,{hasSelectedEditor:this.hasSelection});_classPrivateFieldGet(this,Q).add(me),me.select(),_classPrivateMethodGet(this,G,pe).call(this,me.propertiesToUpdate),_classPrivateMethodGet(this,O,be).call(this,{hasSelectedEditor:!0})}setSelected(me){for(const Ee of _classPrivateFieldGet(this,Q))Ee!==me&&Ee.unselect();_classPrivateFieldGet(this,Q).clear(),_classPrivateFieldGet(this,Q).add(me),me.select(),_classPrivateMethodGet(this,G,pe).call(this,me.propertiesToUpdate),_classPrivateMethodGet(this,O,be).call(this,{hasSelectedEditor:!0})}isSelected(me){return _classPrivateFieldGet(this,Q).has(me)}unselect(me){me.unselect(),_classPrivateFieldGet(this,Q).delete(me),_classPrivateMethodGet(this,O,be).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==_classPrivateFieldGet(this,Q).size}undo(){_classPrivateFieldGet(this,R).undo(),_classPrivateMethodGet(this,O,be).call(this,{hasSomethingToUndo:_classPrivateFieldGet(this,R).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_classPrivateMethodGet(this,S,Ie).call(this)})}redo(){_classPrivateFieldGet(this,R).redo(),_classPrivateMethodGet(this,O,be).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_classPrivateFieldGet(this,R).hasSomethingToRedo(),isEmpty:_classPrivateMethodGet(this,S,Ie).call(this)})}addCommands(me){_classPrivateFieldGet(this,R).add(me),_classPrivateMethodGet(this,O,be).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_classPrivateMethodGet(this,S,Ie).call(this)})}delete(){if(_classPrivateFieldGet(this,d)&&_classPrivateFieldGet(this,d).commitOrRemove(),!this.hasSelection)return;const me=[..._classPrivateFieldGet(this,Q)];this.addCommands({cmd:()=>{for(const ot of me)ot.remove()},undo:()=>{for(const ot of me)_classPrivateMethodGet(this,w,Se).call(this,ot)},mustExec:!0})}copy(){if(_classPrivateFieldGet(this,d)&&_classPrivateFieldGet(this,d).commitOrRemove(),this.hasSelection){const me=[];for(const Ee of _classPrivateFieldGet(this,Q))Ee.isEmpty()||me.push(Ee);if(0===me.length)return;_classPrivateFieldGet(this,D).copy(me),_classPrivateMethodGet(this,O,be).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(_classPrivateFieldGet(this,D).isEmpty())return;this.unselectAll();const me=_classPrivateFieldGet(this,v).get(_classPrivateFieldGet(this,M)),Ee=_classPrivateFieldGet(this,D).paste().map(Ze=>me.deserialize(Ze));this.addCommands({cmd:()=>{for(const Ze of Ee)_classPrivateMethodGet(this,w,Se).call(this,Ze);_classPrivateMethodGet(this,U,Oe).call(this,Ee)},undo:()=>{for(const Ze of Ee)Ze.remove()},mustExec:!0})}selectAll(){for(const me of _classPrivateFieldGet(this,Q))me.commit();_classPrivateMethodGet(this,U,Oe).call(this,_classPrivateFieldGet(this,u).values())}unselectAll(){if(_classPrivateFieldGet(this,d))_classPrivateFieldGet(this,d).commitOrRemove();else if(0!==_classPrivateMethodGet(this,U,Oe).size){for(const me of _classPrivateFieldGet(this,Q))me.unselect();_classPrivateFieldGet(this,Q).clear(),_classPrivateMethodGet(this,O,be).call(this,{hasSelectedEditor:!1})}}isActive(me){return _classPrivateFieldGet(this,d)===me}getActive(){return _classPrivateFieldGet(this,d)}getMode(){return _classPrivateFieldGet(this,ee)}}function ie(){_classPrivateFieldGet(this,J).addEventListener("keydown",_classPrivateFieldGet(this,Z))}function ae(){_classPrivateFieldGet(this,J).removeEventListener("keydown",_classPrivateFieldGet(this,Z))}function be(ke){Object.entries(ke).some(([Ee,Ge])=>_classPrivateFieldGet(this,ye)[Ee]!==Ge)&&_classPrivateFieldGet(this,P).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_classPrivateFieldGet(this,ye),ke)})}function pe(ke){_classPrivateFieldGet(this,P).dispatch("annotationeditorparamschanged",{source:this,details:ke})}function we(){if(!_classPrivateFieldGet(this,W)){_classPrivateFieldSet(this,W,!0);for(const ke of _classPrivateFieldGet(this,v).values())ke.enable()}}function xe(){if(this.unselectAll(),_classPrivateFieldGet(this,W)){_classPrivateFieldSet(this,W,!1);for(const ke of _classPrivateFieldGet(this,v).values())ke.disable()}}function Se(ke){const me=_classPrivateFieldGet(this,v).get(ke.pageIndex);me?me.addOrRebuild(ke):this.addEditor(ke)}function Ie(){if(0===_classPrivateFieldGet(this,u).size)return!0;if(1===_classPrivateFieldGet(this,u).size)for(const ke of _classPrivateFieldGet(this,u).values())return ke.isEmpty();return!1}function Oe(ke){_classPrivateFieldGet(this,Q).clear();for(const me of ke)me.isEmpty()||(_classPrivateFieldGet(this,Q).add(me),me.select());_classPrivateMethodGet(this,O,be).call(this,{hasSelectedEditor:!0})}_defineProperty(H,"_keyboardManager",new E([[["ctrl+a","mac+meta+a"],(f=H).prototype.selectAll],[["ctrl+c","mac+meta+c"],f.prototype.copy],[["ctrl+v","mac+meta+v"],f.prototype.paste],[["ctrl+x","mac+meta+x"],f.prototype.cut],[["ctrl+z","mac+meta+z"],f.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],f.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],f.prototype.delete],[["Escape","mac+Escape"],f.prototype.unselectAll]])),g.AnnotationEditorUIManager=H},(ue,g,z)=>{var f,A;Object.defineProperty(g,"__esModule",{value:!0}),g.StatTimer=g.RenderingCancelledException=g.PixelsPerInch=g.PageViewport=g.PDFDateString=g.DOMStandardFontDataFactory=g.DOMSVGFactory=g.DOMCanvasFactory=g.DOMCMapReaderFactory=g.AnnotationPrefix=void 0,g.deprecated=function D(Q){console.log("Deprecated API usage: "+Q)},g.getColorValues=function q(Q){const Z=document.createElement("span");Z.style.visibility="hidden",document.body.append(Z);for(const re of Q.keys()){Z.style.color=re;const de=window.getComputedStyle(Z).color;Q.set(re,P(de))}Z.remove()},g.getCurrentTransform=function W(Q){const{a:Z,b:re,c:de,d:ye,e:J,f:C}=Q.getTransform();return[Z,re,de,ye,J,C]},g.getCurrentTransformInverse=function ee(Q){const{a:Z,b:re,c:de,d:ye,e:J,f:C}=Q.getTransform().invertSelf();return[Z,re,de,ye,J,C]},g.getFilenameFromUrl=function L(Q){const Z=Q.indexOf("#"),re=Q.indexOf("?"),de=Math.min(Z>0?Z:Q.length,re>0?re:Q.length);return Q.substring(Q.lastIndexOf("/",de)+1,de)},g.getPdfFilenameFromUrl=function m(Q,Z="document.pdf"){if("string"!=typeof Q)return Z;if(T(Q))return(0,$.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Z;const de=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ye=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(Q);let J=de.exec(ye[1])||de.exec(ye[2])||de.exec(ye[3]);if(J&&(J=J[0],J.includes("%")))try{J=de.exec(decodeURIComponent(J))[0]}catch{}return J||Z},g.getRGB=P,g.getXfaPageViewport=function _(Q,{scale:Z=1,rotation:re=0}){const{width:de,height:ye}=Q.attributes.style,J=[0,0,parseInt(de),parseInt(ye)];return new p({viewBox:J,scale:Z,rotation:re})},g.isDataScheme=T,g.isPdfFile=function I(Q){return"string"==typeof Q&&/\.pdf$/i.test(Q)},g.isValidFetchUrl=u,g.loadScript=function v(Q,Z=!1){return new Promise((re,de)=>{const ye=document.createElement("script");ye.src=Q,ye.onload=function(J){Z&&ye.remove(),re(J)},ye.onerror=function(){de(new Error(`Cannot load script at: ${ye.src}`))},(document.head||document.documentElement).append(ye)})};var j=z(9),$=z(1);g.AnnotationPrefix="pdfjs_internal_id_";class B{}function ne(Q){return(A=A||_asyncToGenerator(function*(Z,re=!1){if(u(Z,document.baseURI)){const de=yield fetch(Z);if(!de.ok)throw new Error(de.statusText);return re?new Uint8Array(yield de.arrayBuffer()):(0,$.stringToBytes)(yield de.text())}return new Promise((de,ye)=>{const J=new XMLHttpRequest;J.open("GET",Z,!0),re&&(J.responseType="arraybuffer"),J.onreadystatechange=()=>{if(J.readyState===XMLHttpRequest.DONE){if(200===J.status||0===J.status){let C;if(re&&J.response?C=new Uint8Array(J.response):!re&&J.responseText&&(C=(0,$.stringToBytes)(J.responseText)),C)return void de(C)}ye(new Error(J.statusText))}},J.send(null)})})).apply(this,arguments)}f=B,_defineProperty(B,"CSS",96),_defineProperty(B,"PDF",72),_defineProperty(B,"PDF_TO_CSS_UNITS",f.CSS/f.PDF),g.PixelsPerInch=B,g.DOMCanvasFactory=class Y extends j.BaseCanvasFactory{constructor({ownerDocument:Z=globalThis.document}={}){super(),this._document=Z}_createCanvas(Z,re){const de=this._document.createElement("canvas");return de.width=Z,de.height=re,de}},g.DOMCMapReaderFactory=class X extends j.BaseCMapReaderFactory{_fetchData(Z,re){return ne(Z,this.isCompressed).then(de=>({cMapData:de,compressionType:re}))}},g.DOMStandardFontDataFactory=class N extends j.BaseStandardFontDataFactory{_fetchData(Z){return ne(Z,!0)}},g.DOMSVGFactory=class k extends j.BaseSVGFactory{_createSVG(Z){return document.createElementNS("http://www.w3.org/2000/svg",Z)}};class p{constructor({viewBox:Z,scale:re,rotation:de,offsetX:ye=0,offsetY:J=0,dontFlip:C=!1}){this.viewBox=Z,this.scale=re,this.rotation=de,this.offsetX=ye,this.offsetY=J;const y=(Z[2]+Z[0])/2,O=(Z[3]+Z[1])/2;let G,x,h,w,S,U,H,ie;switch((de%=360)<0&&(de+=360),de){case 180:G=-1,x=0,h=0,w=1;break;case 90:G=0,x=1,h=1,w=0;break;case 270:G=0,x=-1,h=-1,w=0;break;case 0:G=1,x=0,h=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}C&&(h=-h,w=-w),0===G?(S=Math.abs(O-Z[1])*re+ye,U=Math.abs(y-Z[0])*re+J,H=Math.abs(Z[3]-Z[1])*re,ie=Math.abs(Z[2]-Z[0])*re):(S=Math.abs(y-Z[0])*re+ye,U=Math.abs(O-Z[1])*re+J,H=Math.abs(Z[2]-Z[0])*re,ie=Math.abs(Z[3]-Z[1])*re),this.transform=[G*re,x*re,h*re,w*re,S-G*re*y-h*re*O,U-x*re*y-w*re*O],this.width=H,this.height=ie}clone({scale:Z=this.scale,rotation:re=this.rotation,offsetX:de=this.offsetX,offsetY:ye=this.offsetY,dontFlip:J=!1}={}){return new p({viewBox:this.viewBox.slice(),scale:Z,rotation:re,offsetX:de,offsetY:ye,dontFlip:J})}convertToViewportPoint(Z,re){return $.Util.applyTransform([Z,re],this.transform)}convertToViewportRectangle(Z){const re=$.Util.applyTransform([Z[0],Z[1]],this.transform),de=$.Util.applyTransform([Z[2],Z[3]],this.transform);return[re[0],re[1],de[0],de[1]]}convertToPdfPoint(Z,re){return $.Util.applyInverseTransform([Z,re],this.transform)}}function T(Q){const Z=Q.length;let re=0;for(;re<Z&&""===Q[re].trim();)re++;return"data:"===Q.substring(re,re+5).toLowerCase()}function u(Q,Z){try{const{protocol:re}=Z?new URL(Q,Z):new URL(Q);return"http:"===re||"https:"===re}catch{return!1}}let R;function P(Q){if(Q.startsWith("#")){const Z=parseInt(Q.slice(1),16);return[(16711680&Z)>>16,(65280&Z)>>8,255&Z]}return Q.startsWith("rgb(")?Q.slice(4,-1).split(",").map(Z=>parseInt(Z)):Q.startsWith("rgba(")?Q.slice(5,-1).split(",").map(Z=>parseInt(Z)).slice(0,3):((0,$.warn)(`Not a valid color format: "${Q}"`),[0,0,0])}g.PageViewport=p,g.RenderingCancelledException=class E extends $.BaseException{constructor(Z,re){super(Z,"RenderingCancelledException"),this.type=re}},g.StatTimer=class d{constructor(){this.started=Object.create(null),this.times=[]}time(Z){Z in this.started&&(0,$.warn)(`Timer is already running for ${Z}`),this.started[Z]=Date.now()}timeEnd(Z){Z in this.started||(0,$.warn)(`Timer has not been started for ${Z}`),this.times.push({name:Z,start:this.started[Z],end:Date.now()}),delete this.started[Z]}toString(){const Z=[];let re=0;for(const de of this.times){const ye=de.name;ye.length>re&&(re=ye.length)}for(const de of this.times){const ye=de.end-de.start;Z.push(`${de.name.padEnd(re)} ${ye}ms\n`)}return Z.join("")}},g.PDFDateString=class M{static toDateObject(Z){if(!Z||"string"!=typeof Z)return null;R||(R=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const re=R.exec(Z);if(!re)return null;const de=parseInt(re[1],10);let ye=parseInt(re[2],10);ye=ye>=1&&ye<=12?ye-1:0;let J=parseInt(re[3],10);J=J>=1&&J<=31?J:1;let C=parseInt(re[4],10);C=C>=0&&C<=23?C:0;let y=parseInt(re[5],10);y=y>=0&&y<=59?y:0;let O=parseInt(re[6],10);O=O>=0&&O<=59?O:0;const G=re[7]||"Z";let x=parseInt(re[8],10);x=x>=0&&x<=23?x:0;let h=parseInt(re[9],10)||0;return h=h>=0&&h<=59?h:0,"-"===G?(C+=x,y+=h):"+"===G&&(C-=x,y-=h),new Date(Date.UTC(de,ye,J,C,y,O))}}},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.BaseStandardFontDataFactory=g.BaseSVGFactory=g.BaseCanvasFactory=g.BaseCMapReaderFactory=void 0;var f=z(1);class A{constructor(){this.constructor===A&&(0,f.unreachable)("Cannot initialize BaseCanvasFactory.")}create(B,Y){if(B<=0||Y<=0)throw new Error("Invalid canvas size");const ne=this._createCanvas(B,Y);return{canvas:ne,context:ne.getContext("2d")}}reset(B,Y,ne){if(!B.canvas)throw new Error("Canvas is not specified");if(Y<=0||ne<=0)throw new Error("Invalid canvas size");B.canvas.width=Y,B.canvas.height=ne}destroy(B){if(!B.canvas)throw new Error("Canvas is not specified");B.canvas.width=0,B.canvas.height=0,B.canvas=null,B.context=null}_createCanvas(B,Y){(0,f.unreachable)("Abstract method `_createCanvas` called.")}}g.BaseCanvasFactory=A;class j{constructor({baseUrl:B=null,isCompressed:Y=!1}){this.constructor===j&&(0,f.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=B,this.isCompressed=Y}fetch({name:B}){var Y=this;return _asyncToGenerator(function*(){if(!Y.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!B)throw new Error("CMap name must be specified.");const ne=Y.baseUrl+B+(Y.isCompressed?".bcmap":"");return Y._fetchData(ne,Y.isCompressed?f.CMapCompressionType.BINARY:f.CMapCompressionType.NONE).catch(N=>{throw new Error(`Unable to load ${Y.isCompressed?"binary ":""}CMap at: ${ne}`)})})()}_fetchData(B,Y){(0,f.unreachable)("Abstract method `_fetchData` called.")}}g.BaseCMapReaderFactory=j;class ${constructor({baseUrl:B=null}){this.constructor===$&&(0,f.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=B}fetch({filename:B}){var Y=this;return _asyncToGenerator(function*(){if(!Y.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!B)throw new Error("Font filename must be specified.");const ne=`${Y.baseUrl}${B}`;return Y._fetchData(ne).catch(X=>{throw new Error(`Unable to load font data at: ${ne}`)})})()}_fetchData(B){(0,f.unreachable)("Abstract method `_fetchData` called.")}}g.BaseStandardFontDataFactory=$;class le{constructor(){this.constructor===le&&(0,f.unreachable)("Cannot initialize BaseSVGFactory.")}create(B,Y,ne=!1){if(B<=0||Y<=0)throw new Error("Invalid SVG dimensions");const X=this._createSVG("svg:svg");return X.setAttribute("version","1.1"),ne||(X.setAttribute("width",`${B}px`),X.setAttribute("height",`${Y}px`)),X.setAttribute("preserveAspectRatio","none"),X.setAttribute("viewBox",`0 0 ${B} ${Y}`),X}createElement(B){if("string"!=typeof B)throw new Error("Invalid SVG element type");return this._createSVG(B)}_createSVG(B){(0,f.unreachable)("Abstract method `_createSVG` called.")}}g.BaseSVGFactory=le},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.MurmurHash3_64=void 0;var f=z(1);const A=3285377520,j=4294901760,$=65535;g.MurmurHash3_64=class le{constructor(B){this.h1=B?4294967295&B:A,this.h2=B?4294967295&B:A}update(B){let Y,ne;if("string"==typeof B){Y=new Uint8Array(2*B.length),ne=0;for(let v=0,D=B.length;v<D;v++){const R=B.charCodeAt(v);R<=255?Y[ne++]=R:(Y[ne++]=R>>>8,Y[ne++]=255&R)}}else{if(!(0,f.isArrayBuffer)(B))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");Y=B.slice(),ne=Y.byteLength}const X=ne>>2,N=ne-4*X,k=new Uint32Array(Y.buffer,0,X);let p=0,E=0,T=this.h1,I=this.h2;const L=3432918353,m=461845907,d=L&$,u=m&$;for(let v=0;v<X;v++)1&v?(p=k[v],p=p*L&j|p*d&$,p=p<<15|p>>>17,p=p*m&j|p*u&$,T^=p,T=T<<13|T>>>19,T=5*T+3864292196):(E=k[v],E=E*L&j|E*d&$,E=E<<15|E>>>17,E=E*m&j|E*u&$,I^=E,I=I<<13|I>>>19,I=5*I+3864292196);switch(p=0,N){case 3:p^=Y[4*X+2]<<16;case 2:p^=Y[4*X+1]<<8;case 1:p^=Y[4*X],p=p*L&j|p*d&$,p=p<<15|p>>>17,p=p*m&j|p*u&$,1&X?T^=p:I^=p}this.h1=T,this.h2=I}hexdigest(){let B=this.h1,Y=this.h2;B^=Y>>>1,B=3981806797*B&j|36045*B&$,Y=4283543511*Y&j|(2950163797*(Y<<16|B>>>16)&j)>>>16,B^=Y>>>1,B=444984403*B&j|60499*B&$,Y=3301882366*Y&j|(3120437893*(Y<<16|B>>>16)&j)>>>16,B^=Y>>>1;const ne=(B>>>0).toString(16),X=(Y>>>0).toString(16);return ne.padStart(8,"0")+X.padStart(8,"0")}}},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.FontLoader=g.FontFaceObject=void 0;var f=z(1);class A{constructor({docId:V,onUnsupportedFeature:B,ownerDocument:Y=globalThis.document,styleElement:ne=null}){this.constructor===A&&(0,f.unreachable)("Cannot initialize BaseFontLoader."),this.docId=V,this._onUnsupportedFeature=B,this._document=Y,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(V){this.nativeFontFaces.push(V),this._document.fonts.add(V)}insertRule(V){let B=this.styleElement;B||(B=this.styleElement=this._document.createElement("style"),B.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(B));const Y=B.sheet;Y.insertRule(V,Y.cssRules.length)}clear(){for(const V of this.nativeFontFaces)this._document.fonts.delete(V);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(V){var B=this;return _asyncToGenerator(function*(){if(V.attached||V.missingFile)return;if(V.attached=!0,B.isFontLoadingAPISupported){const ne=V.createNativeFontFace();if(ne){B.addNativeFontFace(ne);try{yield ne.loaded}catch(X){throw B._onUnsupportedFeature({featureId:f.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,f.warn)(`Failed to load font '${ne.family}': '${X}'.`),V.disableFontFace=!0,X}}return}const Y=V.createFontFaceRule();if(Y){if(B.insertRule(Y),B.isSyncFontLoadingSupported)return;yield new Promise(ne=>{const X=B._queueLoadingCallback(ne);B._prepareFontLoadEvent([Y],[V],X)})}})()}_queueLoadingCallback(V){(0,f.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,f.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,f.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,f.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(V,B,Y){(0,f.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let j;g.FontLoader=j,g.FontLoader=j=class extends A{constructor(V){super(V),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let V=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(V=!0),(0,f.shadow)(this,"isSyncFontLoadingSupported",V)}_queueLoadingCallback(V){const Y=this.loadingContext,ne={id:"pdfjs-font-loading-"+Y.nextRequestId++,done:!1,complete:function B(){for((0,f.assert)(!ne.done,"completeRequest() cannot be called twice."),ne.done=!0;Y.requests.length>0&&Y.requests[0].done;){const X=Y.requests.shift();setTimeout(X.callback,0)}},callback:V};return Y.requests.push(ne),ne}get _loadTestFont(){return(0,f.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(V,B,Y){function ne(q,W){return q.charCodeAt(W)<<24|q.charCodeAt(W+1)<<16|q.charCodeAt(W+2)<<8|255&q.charCodeAt(W+3)}function X(q,W,ee,Q){return q.substring(0,W)+Q+q.substring(W+ee)}let N,k;const p=this._document.createElement("canvas");p.width=1,p.height=1;const E=p.getContext("2d");let T=0;const L=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=X(m,976,L.length,L);const v=1482184792;let D=ne(m,16);for(N=0,k=L.length-3;N<k;N+=4)D=D-v+ne(L,N)|0;N<L.length&&(D=D-v+ne(L+"XXX",N)|0),m=X(m,16,4,(0,f.string32)(D));const R=`url(data:font/opentype;base64,${btoa(m)});`;this.insertRule(`@font-face {font-family:"${L}";src:${R}}`);const _=[];for(const q of B)_.push(q.loadedName);_.push(L);const P=this._document.createElement("div");P.style.visibility="hidden",P.style.width=P.style.height="10px",P.style.position="absolute",P.style.top=P.style.left="0px";for(const q of _){const W=this._document.createElement("span");W.textContent="Hi",W.style.fontFamily=q,P.append(W)}this._document.body.append(P),function I(q,W){if(T++,T>30)return(0,f.warn)("Load test font never loaded."),void W();E.font="30px "+q,E.fillText(".",0,20),E.getImageData(0,0,1,1).data[3]>0?W():setTimeout(I.bind(null,q,W))}(L,()=>{P.remove(),Y.complete()})}},g.FontFaceObject=class ${constructor(V,{isEvalSupported:B=!0,disableFontFace:Y=!1,ignoreErrors:ne=!1,onUnsupportedFeature:X,fontRegistry:N=null}){this.compiledGlyphs=Object.create(null);for(const k in V)this[k]=V[k];this.isEvalSupported=!1!==B,this.disableFontFace=!0===Y,this.ignoreErrors=!0===ne,this._onUnsupportedFeature=X,this.fontRegistry=N}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let V;if(this.cssFontInfo){const B={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(B.style=`oblique ${this.cssFontInfo.italicAngle}deg`),V=new FontFace(this.cssFontInfo.fontFamily,this.data,B)}else V=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),V}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const V=(0,f.bytesToString)(this.data),B=`url(data:${this.mimetype};base64,${btoa(V)});`;let Y;if(this.cssFontInfo){let ne=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ne+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),Y=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ne}src:${B}}`}else Y=`@font-face {font-family:"${this.loadedName}";src:${B}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,B),Y}getPathGenerator(V,B){if(void 0!==this.compiledGlyphs[B])return this.compiledGlyphs[B];let Y;try{Y=V.get(this.loadedName+"_path_"+B)}catch(ne){if(!this.ignoreErrors)throw ne;return this._onUnsupportedFeature({featureId:f.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,f.warn)(`getPathGenerator - ignoring character: "${ne}".`),this.compiledGlyphs[B]=function(X,N){}}if(this.isEvalSupported&&f.FeatureTest.isEvalSupported){const ne=[];for(const X of Y){const N=void 0!==X.args?X.args.join(","):"";ne.push("c.",X.cmd,"(",N,");\n")}return this.compiledGlyphs[B]=new Function("c","size",ne.join(""))}return this.compiledGlyphs[B]=function(ne,X){for(const N of Y)"scale"===N.cmd&&(N.args=[X,-X]),ne[N.cmd].apply(ne,N.args)}}}},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.CanvasGraphics=void 0;var f=z(8),A=z(1),j=z(13),$=z(14),le=z(3);const Y=4096,N=le.isNodeJS&&typeof Path2D>"u"?-1:1e3,k=16;class E{constructor(C){this.canvasFactory=C,this.cache=Object.create(null)}getCanvas(C,y,O){let G;return void 0!==this.cache[C]?(G=this.cache[C],this.canvasFactory.reset(G,y,O)):(G=this.canvasFactory.create(y,O),this.cache[C]=G),G}delete(C){delete this.cache[C]}clear(){for(const C in this.cache)this.canvasFactory.destroy(this.cache[C]),delete this.cache[C]}}function T(J,C,y,O,G,x,h,w,S,U){const[H,ie,ae,be,pe,we]=(0,f.getCurrentTransform)(J);if(0===ie&&0===ae){const Oe=Math.round(h*H+pe),me=Math.round(w*be+we),Ge=Math.abs(Math.round((h+S)*H+pe)-Oe)||1,Ze=Math.abs(Math.round((w+U)*be+we)-me)||1;return J.setTransform(Math.sign(H),0,0,Math.sign(be),Oe,me),J.drawImage(C,y,O,G,x,0,0,Ge,Ze),J.setTransform(H,ie,ae,be,pe,we),[Ge,Ze]}if(0===H&&0===be){const Oe=Math.round(w*ae+pe),me=Math.round(h*ie+we),Ge=Math.abs(Math.round((w+U)*ae+pe)-Oe)||1,Ze=Math.abs(Math.round((h+S)*ie+we)-me)||1;return J.setTransform(0,Math.sign(ie),Math.sign(ae),0,Oe,me),J.drawImage(C,y,O,G,x,0,0,Ze,Ge),J.setTransform(H,ie,ae,be,pe,we),[Ze,Ge]}return J.drawImage(C,y,O,G,x,h,w,S,U),[Math.hypot(H,ie)*S,Math.hypot(ae,be)*U]}class L{constructor(C,y){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=A.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=A.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=A.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,C,y])}clone(){const C=Object.create(this);return C.clipBox=this.clipBox.slice(),C}setCurrentPoint(C,y){this.x=C,this.y=y}updatePathMinMax(C,y,O){[y,O]=A.Util.applyTransform([y,O],C),this.minX=Math.min(this.minX,y),this.minY=Math.min(this.minY,O),this.maxX=Math.max(this.maxX,y),this.maxY=Math.max(this.maxY,O)}updateRectMinMax(C,y){const O=A.Util.applyTransform(y,C),G=A.Util.applyTransform(y.slice(2),C);this.minX=Math.min(this.minX,O[0],G[0]),this.minY=Math.min(this.minY,O[1],G[1]),this.maxX=Math.max(this.maxX,O[0],G[0]),this.maxY=Math.max(this.maxY,O[1],G[1])}updateScalingPathMinMax(C,y){A.Util.scaleMinMax(C,y),this.minX=Math.min(this.minX,y[0]),this.maxX=Math.max(this.maxX,y[1]),this.minY=Math.min(this.minY,y[2]),this.maxY=Math.max(this.maxY,y[3])}updateCurvePathMinMax(C,y,O,G,x,h,w,S,U,H){const ie=A.Util.bezierBoundingBox(y,O,G,x,h,w,S,U);if(H)return H[0]=Math.min(H[0],ie[0],ie[2]),H[1]=Math.max(H[1],ie[0],ie[2]),H[2]=Math.min(H[2],ie[1],ie[3]),void(H[3]=Math.max(H[3],ie[1],ie[3]));this.updateRectMinMax(C,ie)}getPathBoundingBox(C=j.PathType.FILL,y=null){const O=[this.minX,this.minY,this.maxX,this.maxY];if(C===j.PathType.STROKE){y||(0,A.unreachable)("Stroke bounding box must include transform.");const G=A.Util.singularValueDecompose2dScale(y),x=G[0]*this.lineWidth/2,h=G[1]*this.lineWidth/2;O[0]-=x,O[1]-=h,O[2]+=x,O[3]+=h}return O}updateClipFromPath(){const C=A.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(C||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(C){this.clipBox=C,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(C=j.PathType.FILL,y=null){return A.Util.intersect(this.clipBox,this.getPathBoundingBox(C,y))}}function m(J,C,y=null){if(typeof ImageData<"u"&&C instanceof ImageData)return void J.putImageData(C,0,0);const O=C.height,G=C.width,x=O%k,h=(O-x)/k,w=0===x?h:h+1,S=J.createImageData(G,k);let H,U=0;const ie=C.data,ae=S.data;let be,pe,we,xe,Se,Ie,Oe,ke;if(y)switch(y.length){case 1:Se=y[0],Ie=y[0],Oe=y[0],ke=y[0];break;case 4:Se=y[0],Ie=y[1],Oe=y[2],ke=y[3]}if(C.kind===A.ImageKind.GRAYSCALE_1BPP){const me=ie.byteLength,Ee=new Uint32Array(ae.buffer,0,ae.byteLength>>2),Ge=Ee.length,ot=G+7>>3;let Ze=4294967295,Ae=A.FeatureTest.isLittleEndian?4278190080:255;for(ke&&255===ke[0]&&0===ke[255]&&([Ze,Ae]=[Ae,Ze]),be=0;be<w;be++){for(we=be<h?k:x,H=0,pe=0;pe<we;pe++){const Ue=me-U;let Qe=0;const We=Ue>ot?G:8*Ue-7,$e=-8&We;let K=0,fe=0;for(;Qe<$e;Qe+=8)fe=ie[U++],Ee[H++]=128&fe?Ze:Ae,Ee[H++]=64&fe?Ze:Ae,Ee[H++]=32&fe?Ze:Ae,Ee[H++]=16&fe?Ze:Ae,Ee[H++]=8&fe?Ze:Ae,Ee[H++]=4&fe?Ze:Ae,Ee[H++]=2&fe?Ze:Ae,Ee[H++]=1&fe?Ze:Ae;for(;Qe<We;Qe++)0===K&&(fe=ie[U++],K=128),Ee[H++]=fe&K?Ze:Ae,K>>=1}for(;H<Ge;)Ee[H++]=0;J.putImageData(S,0,be*k)}}else if(C.kind===A.ImageKind.RGBA_32BPP){const me=!!(Se||Ie||Oe);for(pe=0,xe=G*k*4,be=0;be<h;be++){if(ae.set(ie.subarray(U,U+xe)),U+=xe,me)for(let Ee=0;Ee<xe;Ee+=4)Se&&(ae[Ee+0]=Se[ae[Ee+0]]),Ie&&(ae[Ee+1]=Ie[ae[Ee+1]]),Oe&&(ae[Ee+2]=Oe[ae[Ee+2]]);J.putImageData(S,0,pe),pe+=k}if(be<w){if(xe=G*x*4,ae.set(ie.subarray(U,U+xe)),me)for(let Ee=0;Ee<xe;Ee+=4)Se&&(ae[Ee+0]=Se[ae[Ee+0]]),Ie&&(ae[Ee+1]=Ie[ae[Ee+1]]),Oe&&(ae[Ee+2]=Oe[ae[Ee+2]]);J.putImageData(S,0,pe)}}else{if(C.kind!==A.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${C.kind}`);{const me=!!(Se||Ie||Oe);for(we=k,xe=G*we,be=0;be<w;be++){for(be>=h&&(we=x,xe=G*we),H=0,pe=xe;pe--;)ae[H++]=ie[U++],ae[H++]=ie[U++],ae[H++]=ie[U++],ae[H++]=255;if(me)for(let Ee=0;Ee<H;Ee+=4)Se&&(ae[Ee+0]=Se[ae[Ee+0]]),Ie&&(ae[Ee+1]=Ie[ae[Ee+1]]),Oe&&(ae[Ee+2]=Oe[ae[Ee+2]]);J.putImageData(S,0,be*k)}}}}function d(J,C){if(C.bitmap)return void J.drawImage(C.bitmap,0,0);const y=C.height,O=C.width,G=y%k,x=(y-G)/k,h=0===G?x:x+1,w=J.createImageData(O,k);let S=0;const U=C.data,H=w.data;for(let ie=0;ie<h;ie++){const ae=ie<x?k:G;({srcPos:S}=(0,$.applyMaskImageData)({src:U,srcPos:S,dest:H,width:O,height:ae})),J.putImageData(w,0,ie*k)}}function u(J,C){const y=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let O=0,G=y.length;O<G;O++){const x=y[O];void 0!==J[x]&&(C[x]=J[x])}void 0!==J.setLineDash&&(C.setLineDash(J.getLineDash()),C.lineDashOffset=J.lineDashOffset)}function v(J,C){J.strokeStyle=J.fillStyle=C||"#000000",J.fillRule="nonzero",J.globalAlpha=1,J.lineWidth=1,J.lineCap="butt",J.lineJoin="miter",J.miterLimit=10,J.globalCompositeOperation="source-over",J.font="10px sans-serif",void 0!==J.setLineDash&&(J.setLineDash([]),J.lineDashOffset=0)}function D(J,C,y,O){const G=J.length;for(let x=3;x<G;x+=4){const h=J[x];if(0===h)J[x-3]=C,J[x-2]=y,J[x-1]=O;else if(h<255){const w=255-h;J[x-3]=J[x-3]*h+C*w>>8,J[x-2]=J[x-2]*h+y*w>>8,J[x-1]=J[x-1]*h+O*w>>8}}}function R(J,C,y){const O=J.length;for(let x=3;x<O;x+=4)C[x]=C[x]*(y?y[J[x]]:J[x])*.00392156862745098|0}function M(J,C,y){const O=J.length;for(let G=3;G<O;G+=4){const x=77*J[G-3]+152*J[G-2]+28*J[G-1];C[G]=y?C[G]*y[x>>8]>>8:C[G]*x>>16}}function q(J,C){const y=A.Util.singularValueDecompose2dScale(J);y[0]=Math.fround(y[0]),y[1]=Math.fround(y[1]);const O=Math.fround((globalThis.devicePixelRatio||1)*f.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==C?C:y[0]<=O||y[1]<=O}const W=["butt","round","square"],ee=["miter","round","bevel"],Q={},Z={};var re=new WeakSet;class de{constructor(C,y,O,G,x,h,w,S){_classPrivateMethodInitSpec(this,re),this.ctx=C,this.current=new L(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=y,this.objs=O,this.canvasFactory=G,this.imageLayer=x,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=h,this.cachedCanvases=new E(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=w,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=S?.background||null,this.foregroundColor=S?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(C,y=null){return"string"==typeof C?C.startsWith("g_")?this.commonObjs.get(C):this.objs.get(C):y}beginDrawing({transform:C,viewport:y,transparency:O=!1,background:G=null}){const x=this.ctx.canvas.width,h=this.ctx.canvas.height,w=G||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const S=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const U=this.backgroundColor=this.ctx.fillStyle;let H=!0,ie=w;if(this.ctx.fillStyle=w,ie=this.ctx.fillStyle,H="string"==typeof ie&&/^#[0-9A-Fa-f]{6}$/.test(ie),"#000000"===S&&"#ffffff"===U||S===U||!H)this.foregroundColor=this.backgroundColor=null;else{const[ae,be,pe]=(0,f.getRGB)(ie),we=Se=>(Se/=255)<=.03928?Se/12.92:((Se+.055)/1.055)**2.4,xe=Math.round(.2126*we(ae)+.7152*we(be)+.0722*we(pe));this.selectColor=(Se,Ie,Oe)=>{const ke=.2126*we(Se)+.7152*we(Ie)+.0722*we(Oe);return Math.round(ke)===xe?U:S}}}if(this.ctx.fillStyle=this.backgroundColor||w,this.ctx.fillRect(0,0,x,h),this.ctx.restore(),O){const S=this.cachedCanvases.getCanvas("transparent",x,h);this.compositeCtx=this.ctx,this.transparentCanvas=S.canvas,this.ctx=S.context,this.ctx.save(),this.ctx.transform(...(0,f.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),v(this.ctx,this.foregroundColor),C&&(this.ctx.transform(...C),this.outputScaleX=C[0],this.outputScaleY=C[0]),this.ctx.transform(...y.transform),this.viewportScale=y.scale,this.baseTransform=(0,f.getCurrentTransform)(this.ctx),this.imageLayer&&((0,f.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(C,y,O,G){const x=C.argsArray,h=C.fnArray;let w=y||0;const S=x.length;if(S===w)return w;const U=S-w>10&&"function"==typeof O,H=U?Date.now()+15:0;let ie=0;const ae=this.commonObjs,be=this.objs;let pe;for(;;){if(void 0!==G&&w===G.nextBreakPoint)return G.breakIt(w,O),w;if(pe=h[w],pe!==A.OPS.dependency)this[pe].apply(this,x[w]);else for(const we of x[w]){const xe=we.startsWith("g_")?ae:be;if(!xe.has(we))return xe.get(we,O),w}if(w++,w===S)return w;if(U&&++ie>10){if(Date.now()>H)return O(),w;ie=0}}}endDrawing(){_classPrivateMethodGet(this,re,ye).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const C of this._cachedBitmapsMap.values()){for(const y of C.values())typeof HTMLCanvasElement<"u"&&y instanceof HTMLCanvasElement&&(y.width=y.height=0);C.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(C,y){const O=C.width,G=C.height;let H,ie,x=Math.max(Math.hypot(y[0],y[1]),1),h=Math.max(Math.hypot(y[2],y[3]),1),w=O,S=G,U="prescale1";for(;x>2&&w>1||h>2&&S>1;){let ae=w,be=S;x>2&&w>1&&(ae=Math.ceil(w/2),x/=w/ae),h>2&&S>1&&(be=Math.ceil(S/2),h/=S/be),H=this.cachedCanvases.getCanvas(U,ae,be),ie=H.context,ie.clearRect(0,0,ae,be),ie.drawImage(C,0,0,w,S,0,0,ae,be),C=H.canvas,w=ae,S=be,U="prescale1"===U?"prescale2":"prescale1"}return{img:C,paintWidth:w,paintHeight:S}}_createMaskCanvas(C){const y=this.ctx,{width:O,height:G}=C,x=this.current.fillColor,h=this.current.patternFill,w=(0,f.getCurrentTransform)(y);let S,U,H,ie;if((C.bitmap||C.data)&&C.count>1){const Ge=C.bitmap||C.data.buffer,ot=w.slice(0,4);U=JSON.stringify(h?ot:[ot,x]),S=this._cachedBitmapsMap.get(Ge),S||(S=new Map,this._cachedBitmapsMap.set(Ge,S));const Ze=S.get(U);if(Ze&&!h)return{canvas:Ze,offsetX:Math.round(Math.min(w[0],w[2])+w[4]),offsetY:Math.round(Math.min(w[1],w[3])+w[5])};H=Ze}H||(ie=this.cachedCanvases.getCanvas("maskCanvas",O,G),d(ie.context,C));let ae=A.Util.transform(w,[1/O,0,0,-1/G,0,0]);ae=A.Util.transform(ae,[1,0,0,1,0,-G]);const be=A.Util.applyTransform([0,0],ae),pe=A.Util.applyTransform([O,G],ae),we=A.Util.normalizeRect([be[0],be[1],pe[0],pe[1]]),xe=Math.round(we[2]-we[0])||1,Se=Math.round(we[3]-we[1])||1,Ie=this.cachedCanvases.getCanvas("fillCanvas",xe,Se),Oe=Ie.context,ke=Math.min(be[0],pe[0]),me=Math.min(be[1],pe[1]);Oe.translate(-ke,-me),Oe.transform(...ae),H||(H=this._scaleImage(ie.canvas,(0,f.getCurrentTransformInverse)(Oe)),H=H.img,S&&h&&S.set(U,H)),Oe.imageSmoothingEnabled=q((0,f.getCurrentTransform)(Oe),C.interpolate),T(Oe,H,0,0,H.width,H.height,0,0,O,G),Oe.globalCompositeOperation="source-in";const Ee=A.Util.transform((0,f.getCurrentTransformInverse)(Oe),[1,0,0,1,-ke,-me]);return Oe.fillStyle=h?x.getPattern(y,this,Ee,j.PathType.FILL):x,Oe.fillRect(0,0,O,G),S&&!h&&(this.cachedCanvases.delete("fillCanvas"),S.set(U,Ie.canvas)),{canvas:Ie.canvas,offsetX:Math.round(ke),offsetY:Math.round(me)}}setLineWidth(C){C!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=C,this.ctx.lineWidth=C}setLineCap(C){this.ctx.lineCap=W[C]}setLineJoin(C){this.ctx.lineJoin=ee[C]}setMiterLimit(C){this.ctx.miterLimit=C}setDash(C,y){const O=this.ctx;void 0!==O.setLineDash&&(O.setLineDash(C),O.lineDashOffset=y)}setRenderingIntent(C){}setFlatness(C){}setGState(C){for(let y=0,O=C.length;y<O;y++){const G=C[y],h=G[1];switch(G[0]){case"LW":this.setLineWidth(h);break;case"LC":this.setLineCap(h);break;case"LJ":this.setLineJoin(h);break;case"ML":this.setMiterLimit(h);break;case"D":this.setDash(h[0],h[1]);break;case"RI":this.setRenderingIntent(h);break;case"FL":this.setFlatness(h);break;case"Font":this.setFont(h[0],h[1]);break;case"CA":this.current.strokeAlpha=G[1];break;case"ca":this.current.fillAlpha=G[1],this.ctx.globalAlpha=G[1];break;case"BM":this.ctx.globalCompositeOperation=h;break;case"SMask":this.current.activeSMask=h?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=h}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const C=this.inSMaskMode;this.current.activeSMask&&!C?this.beginSMaskMode():!this.current.activeSMask&&C&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const G=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=G.context;const x=this.ctx;x.setTransform(...(0,f.getCurrentTransform)(this.suspendedCtx)),u(this.suspendedCtx,x),function p(J,C){if(J._removeMirroring)throw new Error("Context is already forwarding operations.");J.__originalSave=J.save,J.__originalRestore=J.restore,J.__originalRotate=J.rotate,J.__originalScale=J.scale,J.__originalTranslate=J.translate,J.__originalTransform=J.transform,J.__originalSetTransform=J.setTransform,J.__originalResetTransform=J.resetTransform,J.__originalClip=J.clip,J.__originalMoveTo=J.moveTo,J.__originalLineTo=J.lineTo,J.__originalBezierCurveTo=J.bezierCurveTo,J.__originalRect=J.rect,J.__originalClosePath=J.closePath,J.__originalBeginPath=J.beginPath,J._removeMirroring=()=>{J.save=J.__originalSave,J.restore=J.__originalRestore,J.rotate=J.__originalRotate,J.scale=J.__originalScale,J.translate=J.__originalTranslate,J.transform=J.__originalTransform,J.setTransform=J.__originalSetTransform,J.resetTransform=J.__originalResetTransform,J.clip=J.__originalClip,J.moveTo=J.__originalMoveTo,J.lineTo=J.__originalLineTo,J.bezierCurveTo=J.__originalBezierCurveTo,J.rect=J.__originalRect,J.closePath=J.__originalClosePath,J.beginPath=J.__originalBeginPath,delete J._removeMirroring},J.save=function(){C.save(),this.__originalSave()},J.restore=function(){C.restore(),this.__originalRestore()},J.translate=function(O,G){C.translate(O,G),this.__originalTranslate(O,G)},J.scale=function(O,G){C.scale(O,G),this.__originalScale(O,G)},J.transform=function(O,G,x,h,w,S){C.transform(O,G,x,h,w,S),this.__originalTransform(O,G,x,h,w,S)},J.setTransform=function(O,G,x,h,w,S){C.setTransform(O,G,x,h,w,S),this.__originalSetTransform(O,G,x,h,w,S)},J.resetTransform=function(){C.resetTransform(),this.__originalResetTransform()},J.rotate=function(O){C.rotate(O),this.__originalRotate(O)},J.clip=function(O){C.clip(O),this.__originalClip(O)},J.moveTo=function(y,O){C.moveTo(y,O),this.__originalMoveTo(y,O)},J.lineTo=function(y,O){C.lineTo(y,O),this.__originalLineTo(y,O)},J.bezierCurveTo=function(y,O,G,x,h,w){C.bezierCurveTo(y,O,G,x,h,w),this.__originalBezierCurveTo(y,O,G,x,h,w)},J.rect=function(y,O,G,x){C.rect(y,O,G,x),this.__originalRect(y,O,G,x)},J.closePath=function(){C.closePath(),this.__originalClosePath()},J.beginPath=function(){C.beginPath(),this.__originalBeginPath()}}(x,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),u(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(C){this.current.activeSMask&&(C?(C[0]=Math.floor(C[0]),C[1]=Math.floor(C[1]),C[2]=Math.ceil(C[2]),C[3]=Math.ceil(C[3])):C=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function P(J,C,y,O){const G=O[0],x=O[1],h=O[2]-G,w=O[3]-x;0===h||0===w||(function _(J,C,y,O,G,x,h,w,S,U,H){const ie=!!x,ae=ie?x[0]:0,be=ie?x[1]:0,pe=ie?x[2]:0;let we;we="Luminosity"===G?M:R;const Se=Math.min(O,Math.ceil(1048576/y));for(let Ie=0;Ie<O;Ie+=Se){const Oe=Math.min(Se,O-Ie),ke=J.getImageData(w-U,Ie+(S-H),y,Oe),me=C.getImageData(w,Ie+S,y,Oe);ie&&D(ke.data,ae,be,pe),we(ke.data,me.data,h),C.putImageData(me,w,Ie+S)}}(C.context,y,h,w,C.subtype,C.backdrop,C.transferMap,G,x,C.offsetX,C.offsetY),J.save(),J.globalAlpha=1,J.globalCompositeOperation="source-over",J.setTransform(1,0,0,1,0,0),J.drawImage(y.canvas,0,0),J.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,C),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(u(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const C=this.current;this.stateStack.push(C),this.current=C.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),u(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(C,y,O,G,x,h){this.ctx.transform(C,y,O,G,x,h),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(C,y,O){const G=this.ctx,x=this.current;let S,U,h=x.x,w=x.y;const H=(0,f.getCurrentTransform)(G),ie=0===H[0]&&0===H[3]||0===H[1]&&0===H[2],ae=ie?O.slice(0):null;for(let be=0,pe=0,we=C.length;be<we;be++)switch(0|C[be]){case A.OPS.rectangle:h=y[pe++],w=y[pe++];const xe=y[pe++],Se=y[pe++],Ie=h+xe,Oe=w+Se;G.moveTo(h,w),0===xe||0===Se?G.lineTo(Ie,Oe):(G.lineTo(Ie,w),G.lineTo(Ie,Oe),G.lineTo(h,Oe)),ie||x.updateRectMinMax(H,[h,w,Ie,Oe]),G.closePath();break;case A.OPS.moveTo:h=y[pe++],w=y[pe++],G.moveTo(h,w),ie||x.updatePathMinMax(H,h,w);break;case A.OPS.lineTo:h=y[pe++],w=y[pe++],G.lineTo(h,w),ie||x.updatePathMinMax(H,h,w);break;case A.OPS.curveTo:S=h,U=w,h=y[pe+4],w=y[pe+5],G.bezierCurveTo(y[pe],y[pe+1],y[pe+2],y[pe+3],h,w),x.updateCurvePathMinMax(H,S,U,y[pe],y[pe+1],y[pe+2],y[pe+3],h,w,ae),pe+=6;break;case A.OPS.curveTo2:S=h,U=w,G.bezierCurveTo(h,w,y[pe],y[pe+1],y[pe+2],y[pe+3]),x.updateCurvePathMinMax(H,S,U,h,w,y[pe],y[pe+1],y[pe+2],y[pe+3],ae),h=y[pe+2],w=y[pe+3],pe+=4;break;case A.OPS.curveTo3:S=h,U=w,h=y[pe+2],w=y[pe+3],G.bezierCurveTo(y[pe],y[pe+1],h,w,h,w),x.updateCurvePathMinMax(H,S,U,y[pe],y[pe+1],h,w,h,w,ae),pe+=4;break;case A.OPS.closePath:G.closePath()}ie&&x.updateScalingPathMinMax(H,ae),x.setCurrentPoint(h,w)}closePath(){this.ctx.closePath()}stroke(C){C=!(typeof C<"u")||C;const y=this.ctx,O=this.current.strokeColor;y.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof O&&O?.getPattern?(y.save(),y.strokeStyle=O.getPattern(y,this,(0,f.getCurrentTransformInverse)(y),j.PathType.STROKE),this.rescaleAndStroke(!1),y.restore()):this.rescaleAndStroke(!0)),C&&this.consumePath(this.current.getClippedPathBoundingBox()),y.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(C){C=!(typeof C<"u")||C;const y=this.ctx,O=this.current.fillColor;let x=!1;this.current.patternFill&&(y.save(),y.fillStyle=O.getPattern(y,this,(0,f.getCurrentTransformInverse)(y),j.PathType.FILL),x=!0);const h=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==h&&(this.pendingEOFill?(y.fill("evenodd"),this.pendingEOFill=!1):y.fill()),x&&y.restore(),C&&this.consumePath(h)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Q}eoClip(){this.pendingClip=Z}beginText(){this.current.textMatrix=A.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const C=this.pendingTextPaths,y=this.ctx;if(void 0!==C){y.save(),y.beginPath();for(const O of C)y.setTransform(...O.transform),y.translate(O.x,O.y),O.addToPath(y,O.fontSize);y.restore(),y.clip(),y.beginPath(),delete this.pendingTextPaths}else y.beginPath()}setCharSpacing(C){this.current.charSpacing=C}setWordSpacing(C){this.current.wordSpacing=C}setHScale(C){this.current.textHScale=C/100}setLeading(C){this.current.leading=-C}setFont(C,y){const O=this.commonObjs.get(C),G=this.current;if(!O)throw new Error(`Can't find font for ${C}`);if(G.fontMatrix=O.fontMatrix||A.FONT_IDENTITY_MATRIX,(0===G.fontMatrix[0]||0===G.fontMatrix[3])&&(0,A.warn)("Invalid font matrix for font "+C),y<0?(y=-y,G.fontDirection=-1):G.fontDirection=1,this.current.font=O,this.current.fontSize=y,O.isType3Font)return;let h="normal";O.black?h="900":O.bold&&(h="bold");const w=O.italic?"italic":"normal",S=`"${O.loadedName||"sans-serif"}", ${O.fallbackName}`;let U=y;y<16?U=16:y>100&&(U=100),this.current.fontSizeScale=y/U,this.ctx.font=`${w} ${h} ${U}px ${S}`}setTextRenderingMode(C){this.current.textRenderingMode=C}setTextRise(C){this.current.textRise=C}moveText(C,y){this.current.x=this.current.lineX+=C,this.current.y=this.current.lineY+=y}setLeadingMoveText(C,y){this.setLeading(-y),this.moveText(C,y)}setTextMatrix(C,y,O,G,x,h){this.current.textMatrix=[C,y,O,G,x,h],this.current.textMatrixScale=Math.hypot(C,y),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(C,y,O,G){const x=this.ctx,h=this.current,w=h.font,S=h.textRenderingMode,U=h.fontSize/h.fontSizeScale,H=S&A.TextRenderingMode.FILL_STROKE_MASK,ie=!!(S&A.TextRenderingMode.ADD_TO_PATH_FLAG),ae=h.patternFill&&!w.missingFile;let be;(w.disableFontFace||ie||ae)&&(be=w.getPathGenerator(this.commonObjs,C)),w.disableFontFace||ae?(x.save(),x.translate(y,O),x.beginPath(),be(x,U),G&&x.setTransform(...G),(H===A.TextRenderingMode.FILL||H===A.TextRenderingMode.FILL_STROKE)&&x.fill(),(H===A.TextRenderingMode.STROKE||H===A.TextRenderingMode.FILL_STROKE)&&x.stroke(),x.restore()):((H===A.TextRenderingMode.FILL||H===A.TextRenderingMode.FILL_STROKE)&&x.fillText(C,y,O),(H===A.TextRenderingMode.STROKE||H===A.TextRenderingMode.FILL_STROKE)&&x.strokeText(C,y,O)),ie&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,f.getCurrentTransform)(x),x:y,y:O,fontSize:U,addToPath:be})}get isFontSubpixelAAEnabled(){const{context:C}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);C.scale(1.5,1),C.fillText("I",0,10);const y=C.getImageData(0,0,10,10).data;let O=!1;for(let G=3;G<y.length;G+=4)if(y[G]>0&&y[G]<255){O=!0;break}return(0,A.shadow)(this,"isFontSubpixelAAEnabled",O)}showText(C){const y=this.current,O=y.font;if(O.isType3Font)return this.showType3Text(C);const G=y.fontSize;if(0===G)return;const x=this.ctx,h=y.fontSizeScale,w=y.charSpacing,S=y.wordSpacing,U=y.fontDirection,H=y.textHScale*U,ie=C.length,ae=O.vertical,be=ae?1:-1,pe=O.defaultVMetrics,we=G*y.fontMatrix[0],xe=y.textRenderingMode===A.TextRenderingMode.FILL&&!O.disableFontFace&&!y.patternFill;let Se;if(x.save(),x.transform(...y.textMatrix),x.translate(y.x,y.y+y.textRise),x.scale(H,U>0?-1:1),y.patternFill){x.save();const Ee=y.fillColor.getPattern(x,this,(0,f.getCurrentTransformInverse)(x),j.PathType.FILL);Se=(0,f.getCurrentTransform)(x),x.restore(),x.fillStyle=Ee}let Ie=y.lineWidth;const Oe=y.textMatrixScale;if(0===Oe||0===Ie){const Ee=y.textRenderingMode&A.TextRenderingMode.FILL_STROKE_MASK;(Ee===A.TextRenderingMode.STROKE||Ee===A.TextRenderingMode.FILL_STROKE)&&(Ie=this.getSinglePixelWidth())}else Ie/=Oe;1!==h&&(x.scale(h,h),Ie/=h),x.lineWidth=Ie;let me,ke=0;for(me=0;me<ie;++me){const Ee=C[me];if("number"==typeof Ee){ke+=be*Ee*G/1e3;continue}let Ge=!1;const ot=(Ee.isSpace?S:0)+w,Ze=Ee.fontChar,Ae=Ee.accent;let Ue,Qe,$e,We=Ee.width;if(ae){const K=Ee.vmetric||pe,fe=-(Ee.vmetric?K[1]:.5*We)*we;We=K?-K[0]:We,Ue=fe/h,Qe=(ke+K[2]*we)/h}else Ue=ke/h,Qe=0;if(O.remeasure&&We>0){const K=1e3*x.measureText(Ze).width/G*h;if(We<K&&this.isFontSubpixelAAEnabled){const fe=We/K;Ge=!0,x.save(),x.scale(fe,1),Ue/=fe}else We!==K&&(Ue+=(We-K)/2e3*G/h)}this.contentVisible&&(Ee.isInFont||O.missingFile)&&(xe&&!Ae?x.fillText(Ze,Ue,Qe):(this.paintChar(Ze,Ue,Qe,Se),Ae&&this.paintChar(Ae.fontChar,Ue+G*Ae.offset.x/h,Qe-G*Ae.offset.y/h,Se))),$e=ae?We*we-ot*U:We*we+ot*U,ke+=$e,Ge&&x.restore()}ae?y.y-=ke:y.x+=ke*H,x.restore(),this.compose()}showType3Text(C){const y=this.ctx,O=this.current,G=O.font,x=O.fontSize,h=O.fontDirection,w=G.vertical?1:-1,S=O.charSpacing,U=O.wordSpacing,H=O.textHScale*h,ie=O.fontMatrix||A.FONT_IDENTITY_MATRIX,ae=C.length;let pe,we,xe,Se;if(O.textRenderingMode!==A.TextRenderingMode.INVISIBLE&&0!==x){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,y.save(),y.transform(...O.textMatrix),y.translate(O.x,O.y),y.scale(H,h),pe=0;pe<ae;++pe){if(we=C[pe],"number"==typeof we){Se=w*we*x/1e3,this.ctx.translate(Se,0),O.x+=Se*H;continue}const Ie=(we.isSpace?U:0)+S,Oe=G.charProcOperatorList[we.operatorListId];Oe?(this.contentVisible&&(this.processingType3=we,this.save(),y.scale(x,x),y.transform(...ie),this.executeOperatorList(Oe),this.restore()),xe=A.Util.applyTransform([we.width,0],ie)[0]*x+Ie,y.translate(xe,0),O.x+=xe*H):(0,A.warn)(`Type3 character "${we.operatorListId}" is not available.`)}y.restore(),this.processingType3=null}}setCharWidth(C,y){}setCharWidthAndBounds(C,y,O,G,x,h){this.ctx.rect(O,G,x-O,h-G),this.ctx.clip(),this.endPath()}getColorN_Pattern(C){let y;if("TilingPattern"===C[0]){const O=C[1],G=this.baseTransform||(0,f.getCurrentTransform)(this.ctx);y=new j.TilingPattern(C,O,this.ctx,{createCanvasGraphics:h=>new de(h,this.commonObjs,this.objs,this.canvasFactory)},G)}else y=this._getPattern(C[1],C[2]);return y}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(C,y,O){const G=this.selectColor?.(C,y,O)||A.Util.makeHexColor(C,y,O);this.ctx.strokeStyle=G,this.current.strokeColor=G}setFillRGBColor(C,y,O){const G=this.selectColor?.(C,y,O)||A.Util.makeHexColor(C,y,O);this.ctx.fillStyle=G,this.current.fillColor=G,this.current.patternFill=!1}_getPattern(C,y=null){let O;return this.cachedPatterns.has(C)?O=this.cachedPatterns.get(C):(O=(0,j.getShadingPattern)(this.objs.get(C)),this.cachedPatterns.set(C,O)),y&&(O.matrix=y),O}shadingFill(C){if(!this.contentVisible)return;const y=this.ctx;this.save();const O=this._getPattern(C);y.fillStyle=O.getPattern(y,this,(0,f.getCurrentTransformInverse)(y),j.PathType.SHADING);const G=(0,f.getCurrentTransformInverse)(y);if(G){const x=y.canvas,h=x.width,w=x.height,S=A.Util.applyTransform([0,0],G),U=A.Util.applyTransform([0,w],G),H=A.Util.applyTransform([h,0],G),ie=A.Util.applyTransform([h,w],G),ae=Math.min(S[0],U[0],H[0],ie[0]),be=Math.min(S[1],U[1],H[1],ie[1]),pe=Math.max(S[0],U[0],H[0],ie[0]),we=Math.max(S[1],U[1],H[1],ie[1]);this.ctx.fillRect(ae,be,pe-ae,we-be)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,A.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,A.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(C,y){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(C)&&6===C.length&&this.transform(...C),this.baseTransform=(0,f.getCurrentTransform)(this.ctx),y)&&(this.ctx.rect(y[0],y[1],y[2]-y[0],y[3]-y[1]),this.current.updateRectMinMax((0,f.getCurrentTransform)(this.ctx),y),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(C){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const y=this.ctx;C.isolated||(0,A.info)("TODO: Support non-isolated groups."),C.knockout&&(0,A.warn)("Knockout groups not supported.");const O=(0,f.getCurrentTransform)(y);if(C.matrix&&y.transform(...C.matrix),!C.bbox)throw new Error("Bounding box is required.");let G=A.Util.getAxialAlignedBoundingBox(C.bbox,(0,f.getCurrentTransform)(y));G=A.Util.intersect(G,[0,0,y.canvas.width,y.canvas.height])||[0,0,0,0];const h=Math.floor(G[0]),w=Math.floor(G[1]);let S=Math.max(Math.ceil(G[2])-h,1),U=Math.max(Math.ceil(G[3])-w,1),H=1,ie=1;S>Y&&(H=S/Y,S=Y),U>Y&&(ie=U/Y,U=Y),this.current.startNewPathAndClipBox([0,0,S,U]);let ae="groupAt"+this.groupLevel;C.smask&&(ae+="_smask_"+this.smaskCounter++%2);const be=this.cachedCanvases.getCanvas(ae,S,U),pe=be.context;pe.scale(1/H,1/ie),pe.translate(-h,-w),pe.transform(...O),C.smask?this.smaskStack.push({canvas:be.canvas,context:pe,offsetX:h,offsetY:w,scaleX:H,scaleY:ie,subtype:C.smask.subtype,backdrop:C.smask.backdrop,transferMap:C.smask.transferMap||null,startTransformInverse:null}):(y.setTransform(1,0,0,1,0,0),y.translate(h,w),y.scale(H,ie),y.save()),u(y,pe),this.ctx=pe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(y),this.groupLevel++}endGroup(C){if(!this.contentVisible)return;this.groupLevel--;const y=this.ctx,O=this.groupStack.pop();if(this.ctx=O,this.ctx.imageSmoothingEnabled=!1,C.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const G=(0,f.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...G);const x=A.Util.getAxialAlignedBoundingBox([0,0,y.canvas.width,y.canvas.height],G);this.ctx.drawImage(y.canvas,0,0),this.ctx.restore(),this.compose(x)}}beginAnnotation(C,y,O,G,x){if(_classPrivateMethodGet(this,re,ye).call(this),v(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(y)&&4===y.length){const h=y[2]-y[0],w=y[3]-y[1];if(x&&this.annotationCanvasMap){(O=O.slice())[4]-=y[0],O[5]-=y[1],(y=y.slice())[0]=y[1]=0,y[2]=h,y[3]=w;const[S,U]=A.Util.singularValueDecompose2dScale((0,f.getCurrentTransform)(this.ctx)),{viewportScale:H}=this,ie=Math.ceil(h*this.outputScaleX*H),ae=Math.ceil(w*this.outputScaleY*H);this.annotationCanvas=this.canvasFactory.create(ie,ae);const{canvas:be,context:pe}=this.annotationCanvas;this.annotationCanvasMap.set(C,be),this.annotationCanvas.savedCtx=this.ctx,this.ctx=pe,this.ctx.setTransform(S,0,0,-U,0,w*U),v(this.ctx,this.foregroundColor)}else v(this.ctx,this.foregroundColor),this.ctx.rect(y[0],y[1],h,w),this.ctx.clip(),this.endPath()}this.current=new L(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...O),this.transform(...G)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(C){if(!this.contentVisible)return;const y=C.count;(C=this.getObject(C.data,C)).count=y;const O=this.ctx,G=this.processingType3;if(G&&(void 0===G.compiled&&(G.compiled=function I(J){const{width:C,height:y}=J;if(C>N||y>N)return null;const G=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),x=C+1;let w,S,U,h=new Uint8Array(x*(y+1));const H=C+7&-8;let ie=new Uint8Array(H*y),ae=0;for(const Se of J.data){let Ie=128;for(;Ie>0;)ie[ae++]=Se&Ie?0:255,Ie>>=1}let be=0;for(ae=0,0!==ie[ae]&&(h[0]=1,++be),S=1;S<C;S++)ie[ae]!==ie[ae+1]&&(h[S]=ie[ae]?2:1,++be),ae++;for(0!==ie[ae]&&(h[S]=2,++be),w=1;w<y;w++){ae=w*H,U=w*x,ie[ae-H]!==ie[ae]&&(h[U]=ie[ae]?1:8,++be);let Se=(ie[ae]?4:0)+(ie[ae-H]?8:0);for(S=1;S<C;S++)Se=(Se>>2)+(ie[ae+1]?4:0)+(ie[ae-H+1]?8:0),G[Se]&&(h[U+S]=G[Se],++be),ae++;if(ie[ae-H]!==ie[ae]&&(h[U+S]=ie[ae]?2:4,++be),be>1e3)return null}for(ae=H*(y-1),U=w*x,0!==ie[ae]&&(h[U]=8,++be),S=1;S<C;S++)ie[ae]!==ie[ae+1]&&(h[U+S]=ie[ae]?4:8,++be),ae++;if(0!==ie[ae]&&(h[U+S]=4,++be),be>1e3)return null;const pe=new Int32Array([0,x,-1,0,-x,0,0,0,1]),we=new Path2D;for(w=0;be&&w<=y;w++){let Se=w*x;const Ie=Se+C;for(;Se<Ie&&!h[Se];)Se++;if(Se===Ie)continue;we.moveTo(Se%x,w);const Oe=Se;let ke=h[Se];do{const me=pe[ke];do{Se+=me}while(!h[Se]);const Ee=h[Se];5!==Ee&&10!==Ee?(ke=Ee,h[Se]=0):(ke=Ee&51*ke>>4,h[Se]&=ke>>2|ke<<2),we.lineTo(Se%x,Se/x|0),h[Se]||--be}while(Oe!==Se);--w}return ie=null,h=null,function(Se){Se.save(),Se.scale(1/C,-1/y),Se.translate(0,-y),Se.fill(we),Se.beginPath(),Se.restore()}}(C)),G.compiled))return void G.compiled(O);const x=this._createMaskCanvas(C),h=x.canvas;O.save(),O.setTransform(1,0,0,1,0,0),O.drawImage(h,x.offsetX,x.offsetY),O.restore(),this.compose()}paintImageMaskXObjectRepeat(C,y,O=0,G=0,x,h){if(!this.contentVisible)return;C=this.getObject(C.data,C);const w=this.ctx;w.save();const S=(0,f.getCurrentTransform)(w);w.transform(y,O,G,x,0,0);const U=this._createMaskCanvas(C);w.setTransform(1,0,0,1,0,0);for(let H=0,ie=h.length;H<ie;H+=2){const ae=A.Util.transform(S,[y,O,G,x,h[H],h[H+1]]),[be,pe]=A.Util.applyTransform([0,0],ae);w.drawImage(U.canvas,be,pe)}w.restore(),this.compose()}paintImageMaskXObjectGroup(C){if(!this.contentVisible)return;const y=this.ctx,O=this.current.fillColor,G=this.current.patternFill;for(const x of C){const{data:h,width:w,height:S,transform:U}=x,H=this.cachedCanvases.getCanvas("maskCanvas",w,S),ie=H.context;ie.save(),d(ie,this.getObject(h,x)),ie.globalCompositeOperation="source-in",ie.fillStyle=G?O.getPattern(ie,this,(0,f.getCurrentTransformInverse)(y),j.PathType.FILL):O,ie.fillRect(0,0,w,S),ie.restore(),y.save(),y.transform(...U),y.scale(1,-1),T(y,H.canvas,0,0,w,S,0,-1,1,1),y.restore()}this.compose()}paintImageXObject(C){if(!this.contentVisible)return;const y=this.getObject(C);y?this.paintInlineImageXObject(y):(0,A.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(C,y,O,G){if(!this.contentVisible)return;const x=this.getObject(C);if(!x)return void(0,A.warn)("Dependent image isn't ready yet");const h=x.width,w=x.height,S=[];for(let U=0,H=G.length;U<H;U+=2)S.push({transform:[y,0,0,O,G[U],G[U+1]],x:0,y:0,w:h,h:w});this.paintInlineImageXObjectGroup(x,S)}paintInlineImageXObject(C){if(!this.contentVisible)return;const y=C.width,O=C.height,G=this.ctx;let x;if(this.save(),G.scale(1/y,-1/O),"function"==typeof HTMLElement&&C instanceof HTMLElement||!C.data)x=C;else{const U=this.cachedCanvases.getCanvas("inlineImage",y,O);m(U.context,C,this.current.transferMaps),x=U.canvas}const h=this._scaleImage(x,(0,f.getCurrentTransformInverse)(G));G.imageSmoothingEnabled=q((0,f.getCurrentTransform)(G),C.interpolate);const[w,S]=T(G,h.img,0,0,h.paintWidth,h.paintHeight,0,-O,y,O);if(this.imageLayer){const[U,H]=A.Util.applyTransform([0,-O],(0,f.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:C,left:U,top:H,width:w,height:S})}this.compose(),this.restore()}paintInlineImageXObjectGroup(C,y){if(!this.contentVisible)return;const O=this.ctx,G=C.width,x=C.height,h=this.cachedCanvases.getCanvas("inlineImage",G,x);m(h.context,C,this.current.transferMaps);for(const S of y){if(O.save(),O.transform(...S.transform),O.scale(1,-1),T(O,h.canvas,S.x,S.y,S.w,S.h,0,-1,1,1),this.imageLayer){const[U,H]=A.Util.applyTransform([S.x,S.y],(0,f.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:C,left:U,top:H,width:G,height:x})}O.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(C){}markPointProps(C,y){}beginMarkedContent(C){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(C,y){this.markedContentStack.push("OC"===C?{visible:this.optionalContentConfig.isVisible(y)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(C){const y=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(C);const O=this.ctx;this.pendingClip&&(y||(this.pendingClip===Z?O.clip("evenodd"):O.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),O.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const C=(0,f.getCurrentTransform)(this.ctx);if(0===C[1]&&0===C[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(C[0]),Math.abs(C[3]));else{const y=Math.abs(C[0]*C[3]-C[2]*C[1]),O=Math.hypot(C[0],C[2]),G=Math.hypot(C[1],C[3]);this._cachedGetSinglePixelWidth=Math.max(O,G)/y}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:C}=this.current,y=(0,f.getCurrentTransform)(this.ctx);let O,G;if(0===y[1]&&0===y[2]){const x=Math.abs(y[0]),h=Math.abs(y[3]);if(0===C)O=1/x,G=1/h;else{const w=x*C,S=h*C;O=w<1?1/w:1,G=S<1?1/S:1}}else{const x=Math.abs(y[0]*y[3]-y[2]*y[1]),h=Math.hypot(y[0],y[1]),w=Math.hypot(y[2],y[3]);if(0===C)O=w/x,G=h/x;else{const S=C*x;O=w>S?w/S:1,G=h>S?h/S:1}}this._cachedScaleForStroking=[O,G]}return this._cachedScaleForStroking}rescaleAndStroke(C){const{ctx:y}=this,{lineWidth:O}=this.current,[G,x]=this.getScaleForStroking();if(y.lineWidth=O||1,1===G&&1===x)return void y.stroke();let h,w,S;C&&(h=(0,f.getCurrentTransform)(y),w=y.getLineDash().slice(),S=y.lineDashOffset),y.scale(G,x);const U=Math.max(G,x);y.setLineDash(y.getLineDash().map(H=>H/U)),y.lineDashOffset/=U,y.stroke(),C&&(y.setTransform(...h),y.setLineDash(w),y.lineDashOffset=S)}isContentVisible(){for(let C=this.markedContentStack.length-1;C>=0;C--)if(!this.markedContentStack[C].visible)return!1;return!0}}function ye(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}g.CanvasGraphics=de;for(const J in A.OPS)void 0!==de.prototype[J]&&(de.prototype[A.OPS[J]]=de.prototype[J])},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TilingPattern=g.PathType=void 0,g.getShadingPattern=function k(T){switch(T[0]){case"RadialAxial":return new B(T);case"Mesh":return new X(T);case"Dummy":return new N}throw new Error(`Unknown IR type: ${T[0]}`)};var f=z(1),A=z(8),j=z(3);const $={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function le(T,I){if(!I||j.isNodeJS)return;const L=I[2]-I[0],m=I[3]-I[1],d=new Path2D;d.rect(I[0],I[1],L,m),T.clip(d)}g.PathType=$;class V{constructor(){this.constructor===V&&(0,f.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,f.unreachable)("Abstract method `getPattern` called.")}}class B extends V{constructor(I){super(),this._type=I[1],this._bbox=I[2],this._colorStops=I[3],this._p0=I[4],this._p1=I[5],this._r0=I[6],this._r1=I[7],this.matrix=null}_createGradient(I){let L;"axial"===this._type?L=I.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(L=I.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const m of this._colorStops)L.addColorStop(m[0],m[1]);return L}getPattern(I,L,m,d){let u;if(d===$.STROKE||d===$.FILL){const v=L.current.getClippedPathBoundingBox(d,(0,A.getCurrentTransform)(I))||[0,0,0,0],D=Math.ceil(v[2]-v[0])||1,R=Math.ceil(v[3]-v[1])||1,M=L.cachedCanvases.getCanvas("pattern",D,R,!0),_=M.context;_.clearRect(0,0,_.canvas.width,_.canvas.height),_.beginPath(),_.rect(0,0,_.canvas.width,_.canvas.height),_.translate(-v[0],-v[1]),m=f.Util.transform(m,[1,0,0,1,v[0],v[1]]),_.transform(...L.baseTransform),this.matrix&&_.transform(...this.matrix),le(_,this._bbox),_.fillStyle=this._createGradient(_),_.fill(),u=I.createPattern(M.canvas,"no-repeat");const P=new DOMMatrix(m);try{u.setTransform(P)}catch(q){(0,f.warn)(`RadialAxialShadingPattern.getPattern: "${q?.message}".`)}}else le(I,this._bbox),u=this._createGradient(I);return u}}function Y(T,I,L,m,d,u,v,D){const R=I.coords,M=I.colors,_=T.data,P=4*T.width;let q;R[L+1]>R[m+1]&&(q=L,L=m,m=q,q=u,u=v,v=q),R[m+1]>R[d+1]&&(q=m,m=d,d=q,q=v,v=D,D=q),R[L+1]>R[m+1]&&(q=L,L=m,m=q,q=u,u=v,v=q);const W=(R[L]+I.offsetX)*I.scaleX,ee=(R[L+1]+I.offsetY)*I.scaleY,Q=(R[m]+I.offsetX)*I.scaleX,Z=(R[m+1]+I.offsetY)*I.scaleY,re=(R[d]+I.offsetX)*I.scaleX,de=(R[d+1]+I.offsetY)*I.scaleY;if(ee>=de)return;const ye=M[u],J=M[u+1],C=M[u+2],y=M[v],O=M[v+1],G=M[v+2],x=M[D],h=M[D+1],w=M[D+2],S=Math.round(ee),U=Math.round(de);let H,ie,ae,be,pe,we,xe,Se;for(let Ie=S;Ie<=U;Ie++){if(Ie<Z){let Ge;Ge=Ie<ee?0:(ee-Ie)/(ee-Z),H=W-(W-Q)*Ge,ie=ye-(ye-y)*Ge,ae=J-(J-O)*Ge,be=C-(C-G)*Ge}else{let Ge;Ge=Ie>de?1:Z===de?0:(Z-Ie)/(Z-de),H=Q-(Q-re)*Ge,ie=y-(y-x)*Ge,ae=O-(O-h)*Ge,be=G-(G-w)*Ge}let Oe;Oe=Ie<ee?0:Ie>de?1:(ee-Ie)/(ee-de),pe=W-(W-re)*Oe,we=ye-(ye-x)*Oe,xe=J-(J-h)*Oe,Se=C-(C-w)*Oe;const ke=Math.round(Math.min(H,pe)),me=Math.round(Math.max(H,pe));let Ee=P*Ie+4*ke;for(let Ge=ke;Ge<=me;Ge++)Oe=(H-Ge)/(H-pe),Oe<0?Oe=0:Oe>1&&(Oe=1),_[Ee++]=ie-(ie-we)*Oe|0,_[Ee++]=ae-(ae-xe)*Oe|0,_[Ee++]=be-(be-Se)*Oe|0,_[Ee++]=255}}function ne(T,I,L){const m=I.coords,d=I.colors;let u,v;switch(I.type){case"lattice":const D=I.verticesPerRow,R=Math.floor(m.length/D)-1,M=D-1;for(u=0;u<R;u++){let _=u*D;for(let P=0;P<M;P++,_++)Y(T,L,m[_],m[_+1],m[_+D],d[_],d[_+1],d[_+D]),Y(T,L,m[_+D+1],m[_+1],m[_+D],d[_+D+1],d[_+1],d[_+D])}break;case"triangles":for(u=0,v=m.length;u<v;u+=3)Y(T,L,m[u],m[u+1],m[u+2],d[u],d[u+1],d[u+2]);break;default:throw new Error("illegal figure")}}class X extends V{constructor(I){super(),this._coords=I[2],this._colors=I[3],this._figures=I[4],this._bounds=I[5],this._bbox=I[7],this._background=I[8],this.matrix=null}_createMeshCanvas(I,L,m){const D=Math.floor(this._bounds[0]),R=Math.floor(this._bounds[1]),M=Math.ceil(this._bounds[2])-D,_=Math.ceil(this._bounds[3])-R,P=Math.min(Math.ceil(Math.abs(M*I[0]*1.1)),3e3),q=Math.min(Math.ceil(Math.abs(_*I[1]*1.1)),3e3),W=M/P,ee=_/q,Q={coords:this._coords,colors:this._colors,offsetX:-D,offsetY:-R,scaleX:1/W,scaleY:1/ee},de=m.getCanvas("mesh",P+4,q+4,!1),ye=de.context,J=ye.createImageData(P,q);if(L){const y=J.data;for(let O=0,G=y.length;O<G;O+=4)y[O]=L[0],y[O+1]=L[1],y[O+2]=L[2],y[O+3]=255}for(const y of this._figures)ne(J,y,Q);return ye.putImageData(J,2,2),{canvas:de.canvas,offsetX:D-2*W,offsetY:R-2*ee,scaleX:W,scaleY:ee}}getPattern(I,L,m,d){let u;if(le(I,this._bbox),d===$.SHADING)u=f.Util.singularValueDecompose2dScale((0,A.getCurrentTransform)(I));else if(u=f.Util.singularValueDecompose2dScale(L.baseTransform),this.matrix){const D=f.Util.singularValueDecompose2dScale(this.matrix);u=[u[0]*D[0],u[1]*D[1]]}const v=this._createMeshCanvas(u,d===$.SHADING?null:this._background,L.cachedCanvases);return d!==$.SHADING&&(I.setTransform(...L.baseTransform),this.matrix&&I.transform(...this.matrix)),I.translate(v.offsetX,v.offsetY),I.scale(v.scaleX,v.scaleY),I.createPattern(v.canvas,"no-repeat")}}class N extends V{getPattern(){return"hotpink"}}class E{static get MAX_PATTERN_SIZE(){return(0,f.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(I,L,m,d,u){this.operatorList=I[2],this.matrix=I[3]||[1,0,0,1,0,0],this.bbox=I[4],this.xstep=I[5],this.ystep=I[6],this.paintType=I[7],this.tilingType=I[8],this.color=L,this.ctx=m,this.canvasGraphicsFactory=d,this.baseTransform=u}createPatternCanvas(I){const L=this.operatorList,m=this.bbox,d=this.xstep,u=this.ystep,v=this.paintType,R=this.color,M=this.canvasGraphicsFactory;(0,f.info)("TilingType: "+this.tilingType);const _=m[0],P=m[1],q=m[2],W=m[3],ee=f.Util.singularValueDecompose2dScale(this.matrix),Q=f.Util.singularValueDecompose2dScale(this.baseTransform),Z=[ee[0]*Q[0],ee[1]*Q[1]],re=this.getSizeAndScale(d,this.ctx.canvas.width,Z[0]),de=this.getSizeAndScale(u,this.ctx.canvas.height,Z[1]),ye=I.cachedCanvases.getCanvas("pattern",re.size,de.size,!0),J=ye.context,C=M.createCanvasGraphics(J);C.groupLevel=I.groupLevel,this.setFillAndStrokeStyleToContext(C,v,R);let y=_,O=P,G=q,x=W;return _<0&&(y=0,G+=Math.abs(_)),P<0&&(O=0,x+=Math.abs(P)),J.translate(-re.scale*y,-de.scale*O),C.transform(re.scale,0,0,de.scale,0,0),J.save(),this.clipBbox(C,y,O,G,x),C.baseTransform=(0,A.getCurrentTransform)(C.ctx),C.executeOperatorList(L),C.endDrawing(),{canvas:ye.canvas,scaleX:re.scale,scaleY:de.scale,offsetX:y,offsetY:O}}getSizeAndScale(I,L,m){I=Math.abs(I);const d=Math.max(E.MAX_PATTERN_SIZE,L);let u=Math.ceil(I*m);return u>=d?u=d:m=u/I,{scale:m,size:u}}clipBbox(I,L,m,d,u){I.ctx.rect(L,m,d-L,u-m),I.current.updateRectMinMax((0,A.getCurrentTransform)(I.ctx),[L,m,d,u]),I.clip(),I.endPath()}setFillAndStrokeStyleToContext(I,L,m){const d=I.ctx,u=I.current;switch(L){case 1:const v=this.ctx;d.fillStyle=v.fillStyle,d.strokeStyle=v.strokeStyle,u.fillColor=v.fillStyle,u.strokeColor=v.strokeStyle;break;case 2:const D=f.Util.makeHexColor(m[0],m[1],m[2]);d.fillStyle=D,d.strokeStyle=D,u.fillColor=D,u.strokeColor=D;break;default:throw new f.FormatError(`Unsupported paint type: ${L}`)}}getPattern(I,L,m,d){let u=m;d!==$.SHADING&&(u=f.Util.transform(u,L.baseTransform),this.matrix&&(u=f.Util.transform(u,this.matrix)));const v=this.createPatternCanvas(L);let D=new DOMMatrix(u);D=D.translate(v.offsetX,v.offsetY),D=D.scale(1/v.scaleX,1/v.scaleY);const R=I.createPattern(v.canvas,"repeat");try{R.setTransform(D)}catch(M){(0,f.warn)(`TilingPattern.getPattern: "${M?.message}".`)}return R}}g.TilingPattern=E},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.applyMaskImageData=function A({src:j,srcPos:$=0,dest:le,destPos:V=0,width:B,height:Y,inverseDecode:ne=!1}){const X=f.FeatureTest.isLittleEndian?4278190080:255,[N,k]=ne?[0,X]:[X,0],p=B>>3,E=7&B,T=j.length;le=new Uint32Array(le.buffer);for(let I=0;I<Y;I++){for(const m=$+p;$<m;$++){const d=$<T?j[$]:255;le[V++]=128&d?k:N,le[V++]=64&d?k:N,le[V++]=32&d?k:N,le[V++]=16&d?k:N,le[V++]=8&d?k:N,le[V++]=4&d?k:N,le[V++]=2&d?k:N,le[V++]=1&d?k:N}if(0===E)continue;const L=$<T?j[$++]:255;for(let m=0;m<E;m++)le[V++]=L&1<<7-m?k:N}return{srcPos:$,destPos:V}};var f=z(1)},(ue,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.GlobalWorkerOptions=void 0;const z=Object.create(null);g.GlobalWorkerOptions=z,z.workerPort=void 0===z.workerPort?null:z.workerPort,z.workerSrc=void 0===z.workerSrc?"":z.workerSrc},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.MessageHandler=void 0;var f=z(1);function $(V){switch(V instanceof Error||"object"==typeof V&&null!==V||(0,f.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),V.name){case"AbortException":return new f.AbortException(V.message);case"MissingPDFException":return new f.MissingPDFException(V.message);case"PasswordException":return new f.PasswordException(V.message,V.code);case"UnexpectedResponseException":return new f.UnexpectedResponseException(V.message,V.status);case"UnknownErrorException":return new f.UnknownErrorException(V.message,V.details);default:return new f.UnknownErrorException(V.message,V.toString())}}g.MessageHandler=class le{constructor(B,Y,ne){this.sourceName=B,this.targetName=Y,this.comObj=ne,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=X=>{const N=X.data;if(N.targetName!==this.sourceName)return;if(N.stream)return void this._processStreamMessage(N);if(N.callback){const p=N.callbackId,E=this.callbackCapabilities[p];if(!E)throw new Error(`Cannot resolve callback ${p}`);if(delete this.callbackCapabilities[p],1===N.callback)E.resolve(N.data);else{if(2!==N.callback)throw new Error("Unexpected callback case");E.reject($(N.reason))}return}const k=this.actionHandler[N.action];if(!k)throw new Error(`Unknown action from worker: ${N.action}`);if(N.callbackId){const p=this.sourceName,E=N.sourceName;new Promise(function(T){T(k(N.data))}).then(function(T){ne.postMessage({sourceName:p,targetName:E,callback:1,callbackId:N.callbackId,data:T})},function(T){ne.postMessage({sourceName:p,targetName:E,callback:2,callbackId:N.callbackId,reason:$(T)})})}else N.streamId?this._createStreamSink(N):k(N.data)},ne.addEventListener("message",this._onComObjOnMessage)}on(B,Y){const ne=this.actionHandler;if(ne[B])throw new Error(`There is already an actionName called "${B}"`);ne[B]=Y}send(B,Y,ne){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:B,data:Y},ne)}sendWithPromise(B,Y,ne){const X=this.callbackId++,N=(0,f.createPromiseCapability)();this.callbackCapabilities[X]=N;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:B,callbackId:X,data:Y},ne)}catch(k){N.reject(k)}return N.promise}sendWithStream(B,Y,ne,X){const N=this.streamId++,k=this.sourceName,p=this.targetName,E=this.comObj;return new ReadableStream({start:T=>{const I=(0,f.createPromiseCapability)();return this.streamControllers[N]={controller:T,startCall:I,pullCall:null,cancelCall:null,isClosed:!1},E.postMessage({sourceName:k,targetName:p,action:B,streamId:N,data:Y,desiredSize:T.desiredSize},X),I.promise},pull:T=>{const I=(0,f.createPromiseCapability)();return this.streamControllers[N].pullCall=I,E.postMessage({sourceName:k,targetName:p,stream:6,streamId:N,desiredSize:T.desiredSize}),I.promise},cancel:T=>{(0,f.assert)(T instanceof Error,"cancel must have a valid reason");const I=(0,f.createPromiseCapability)();return this.streamControllers[N].cancelCall=I,this.streamControllers[N].isClosed=!0,E.postMessage({sourceName:k,targetName:p,stream:1,streamId:N,reason:$(T)}),I.promise}},ne)}_createStreamSink(B){const Y=B.streamId,ne=this.sourceName,X=B.sourceName,N=this.comObj,k=this,p=this.actionHandler[B.action],E={enqueue(T,I=1,L){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=I,m>0&&this.desiredSize<=0&&(this.sinkCapability=(0,f.createPromiseCapability)(),this.ready=this.sinkCapability.promise),N.postMessage({sourceName:ne,targetName:X,stream:4,streamId:Y,chunk:T},L)},close(){this.isCancelled||(this.isCancelled=!0,N.postMessage({sourceName:ne,targetName:X,stream:3,streamId:Y}),delete k.streamSinks[Y])},error(T){(0,f.assert)(T instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,N.postMessage({sourceName:ne,targetName:X,stream:5,streamId:Y,reason:$(T)}))},sinkCapability:(0,f.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:B.desiredSize,ready:null};E.sinkCapability.resolve(),E.ready=E.sinkCapability.promise,this.streamSinks[Y]=E,new Promise(function(T){T(p(B.data,E))}).then(function(){N.postMessage({sourceName:ne,targetName:X,stream:8,streamId:Y,success:!0})},function(T){N.postMessage({sourceName:ne,targetName:X,stream:8,streamId:Y,reason:$(T)})})}_processStreamMessage(B){const Y=B.streamId,ne=this.sourceName,X=B.sourceName,N=this.comObj,k=this.streamControllers[Y],p=this.streamSinks[Y];switch(B.stream){case 8:B.success?k.startCall.resolve():k.startCall.reject($(B.reason));break;case 7:B.success?k.pullCall.resolve():k.pullCall.reject($(B.reason));break;case 6:if(!p){N.postMessage({sourceName:ne,targetName:X,stream:7,streamId:Y,success:!0});break}p.desiredSize<=0&&B.desiredSize>0&&p.sinkCapability.resolve(),p.desiredSize=B.desiredSize,new Promise(function(E){E(p.onPull&&p.onPull())}).then(function(){N.postMessage({sourceName:ne,targetName:X,stream:7,streamId:Y,success:!0})},function(E){N.postMessage({sourceName:ne,targetName:X,stream:7,streamId:Y,reason:$(E)})});break;case 4:if((0,f.assert)(k,"enqueue should have stream controller"),k.isClosed)break;k.controller.enqueue(B.chunk);break;case 3:if((0,f.assert)(k,"close should have stream controller"),k.isClosed)break;k.isClosed=!0,k.controller.close(),this._deleteStreamController(k,Y);break;case 5:(0,f.assert)(k,"error should have stream controller"),k.controller.error($(B.reason)),this._deleteStreamController(k,Y);break;case 2:B.success?k.cancelCall.resolve():k.cancelCall.reject($(B.reason)),this._deleteStreamController(k,Y);break;case 1:if(!p)break;new Promise(function(E){E(p.onCancel&&p.onCancel($(B.reason)))}).then(function(){N.postMessage({sourceName:ne,targetName:X,stream:2,streamId:Y,success:!0})},function(E){N.postMessage({sourceName:ne,targetName:X,stream:2,streamId:Y,reason:$(E)})}),p.sinkCapability.reject($(B.reason)),p.isCancelled=!0,delete this.streamSinks[Y];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(B,Y){var ne=this;return _asyncToGenerator(function*(){yield Promise.allSettled([B.startCall&&B.startCall.promise,B.pullCall&&B.pullCall.promise,B.cancelCall&&B.cancelCall.promise]),delete ne.streamControllers[Y]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.Metadata=void 0;var f=z(1),A=new WeakMap,j=new WeakMap;g.Metadata=class ${constructor({parsedData:V,rawData:B}){_classPrivateFieldInitSpec(this,A,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,j,{writable:!0,value:void 0}),_classPrivateFieldSet(this,A,V),_classPrivateFieldSet(this,j,B)}getRaw(){return _classPrivateFieldGet(this,j)}get(V){return _classPrivateFieldGet(this,A).get(V)??null}getAll(){return(0,f.objectFromMap)(_classPrivateFieldGet(this,A))}has(V){return _classPrivateFieldGet(this,A).has(V)}}},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.OptionalContentConfig=void 0;var f=z(1);const A=Symbol("INTERNAL");var j=new WeakMap;class ${constructor(p,E){_classPrivateFieldInitSpec(this,j,{writable:!0,value:!0}),this.name=p,this.intent=E}get visible(){return _classPrivateFieldGet(this,j)}_setVisible(p,E){p!==A&&(0,f.unreachable)("Internal method `_setVisible` called."),_classPrivateFieldSet(this,j,E)}}var le=new WeakMap,V=new WeakMap,B=new WeakMap,Y=new WeakMap,ne=new WeakSet;function N(k){const p=k.length;if(p<2)return!0;const E=k[0];for(let T=1;T<p;T++){const I=k[T];let L;if(Array.isArray(I))L=_classPrivateMethodGet(this,ne,N).call(this,I);else{if(!_classPrivateFieldGet(this,V).has(I))return(0,f.warn)(`Optional content group not found: ${I}`),!0;L=_classPrivateFieldGet(this,V).get(I).visible}switch(E){case"And":if(!L)return!1;break;case"Or":if(L)return!0;break;case"Not":return!L;default:return!0}}return"And"===E}g.OptionalContentConfig=class X{constructor(p){if(_classPrivateMethodInitSpec(this,ne),_classPrivateFieldInitSpec(this,le,{writable:!0,value:!0}),_classPrivateFieldInitSpec(this,V,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,B,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:null}),this.name=null,this.creator=null,null!==p){this.name=p.name,this.creator=p.creator,_classPrivateFieldSet(this,Y,p.order);for(const E of p.groups)_classPrivateFieldGet(this,V).set(E.id,new $(E.name,E.intent));if("OFF"===p.baseState)for(const E of _classPrivateFieldGet(this,V).values())E._setVisible(A,!1);for(const E of p.on)_classPrivateFieldGet(this,V).get(E)._setVisible(A,!0);for(const E of p.off)_classPrivateFieldGet(this,V).get(E)._setVisible(A,!1);_classPrivateFieldSet(this,B,new Map);for(const[E,T]of _classPrivateFieldGet(this,V))_classPrivateFieldGet(this,B).set(E,T.visible)}}isVisible(p){if(0===_classPrivateFieldGet(this,V).size)return!0;if(!p)return(0,f.warn)("Optional content group not defined."),!0;if("OCG"===p.type)return _classPrivateFieldGet(this,V).has(p.id)?_classPrivateFieldGet(this,V).get(p.id).visible:((0,f.warn)(`Optional content group not found: ${p.id}`),!0);if("OCMD"===p.type){if(p.expression)return _classPrivateMethodGet(this,ne,N).call(this,p.expression);if(!p.policy||"AnyOn"===p.policy){for(const E of p.ids){if(!_classPrivateFieldGet(this,V).has(E))return(0,f.warn)(`Optional content group not found: ${E}`),!0;if(_classPrivateFieldGet(this,V).get(E).visible)return!0}return!1}if("AllOn"===p.policy){for(const E of p.ids){if(!_classPrivateFieldGet(this,V).has(E))return(0,f.warn)(`Optional content group not found: ${E}`),!0;if(!_classPrivateFieldGet(this,V).get(E).visible)return!1}return!0}if("AnyOff"===p.policy){for(const E of p.ids){if(!_classPrivateFieldGet(this,V).has(E))return(0,f.warn)(`Optional content group not found: ${E}`),!0;if(!_classPrivateFieldGet(this,V).get(E).visible)return!0}return!1}if("AllOff"===p.policy){for(const E of p.ids){if(!_classPrivateFieldGet(this,V).has(E))return(0,f.warn)(`Optional content group not found: ${E}`),!0;if(_classPrivateFieldGet(this,V).get(E).visible)return!1}return!0}return(0,f.warn)(`Unknown optional content policy ${p.policy}.`),!0}return(0,f.warn)(`Unknown group type ${p.type}.`),!0}setVisibility(p,E=!0){_classPrivateFieldGet(this,V).has(p)?(_classPrivateFieldGet(this,V).get(p)._setVisible(A,!!E),_classPrivateFieldSet(this,le,null)):(0,f.warn)(`Optional content group not found: ${p}`)}get hasInitialVisibility(){if(null!==_classPrivateFieldGet(this,le))return _classPrivateFieldGet(this,le);for(const[p,E]of _classPrivateFieldGet(this,V)){const T=_classPrivateFieldGet(this,B).get(p);if(E.visible!==T)return _classPrivateFieldSet(this,le,!1)}return _classPrivateFieldSet(this,le,!0)}getOrder(){return _classPrivateFieldGet(this,V).size?_classPrivateFieldGet(this,Y)?_classPrivateFieldGet(this,Y).slice():[..._classPrivateFieldGet(this,V).keys()]:null}getGroups(){return _classPrivateFieldGet(this,V).size>0?(0,f.objectFromMap)(_classPrivateFieldGet(this,V)):null}getGroup(p){return _classPrivateFieldGet(this,V).get(p)||null}}},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFDataTransportStream=void 0;var f=z(1),A=z(8);g.PDFDataTransportStream=class j{constructor(B,Y){(0,f.assert)(Y,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=B.progressiveDone||!1,this._contentDispositionFilename=B.contentDispositionFilename||null;const ne=B.initialData;if(ne?.length>0){const X=new Uint8Array(ne).buffer;this._queuedChunks.push(X)}this._pdfDataRangeTransport=Y,this._isStreamingSupported=!B.disableStream,this._isRangeSupported=!B.disableRange,this._contentLength=B.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((X,N)=>{this._onReceiveData({begin:X,chunk:N})}),this._pdfDataRangeTransport.addProgressListener((X,N)=>{this._onProgress({loaded:X,total:N})}),this._pdfDataRangeTransport.addProgressiveReadListener(X=>{this._onReceiveData({chunk:X})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(B){const Y=new Uint8Array(B.chunk).buffer;if(void 0===B.begin)this._fullRequestReader?this._fullRequestReader._enqueue(Y):this._queuedChunks.push(Y);else{const ne=this._rangeReaders.some(function(X){return X._begin===B.begin&&(X._enqueue(Y),!0)});(0,f.assert)(ne,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(B){if(void 0===B.total){const Y=this._rangeReaders[0];Y?.onProgress&&Y.onProgress({loaded:B.loaded})}else{const Y=this._fullRequestReader;Y?.onProgress&&Y.onProgress({loaded:B.loaded,total:B.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(B){const Y=this._rangeReaders.indexOf(B);Y>=0&&this._rangeReaders.splice(Y,1)}getFullReader(){(0,f.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const B=this._queuedChunks;return this._queuedChunks=null,new $(this,B,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(B,Y){if(Y<=this._progressiveDataLength)return null;const ne=new le(this,B,Y);return this._pdfDataRangeTransport.requestDataRange(B,Y),this._rangeReaders.push(ne),ne}cancelAllRequests(B){this._fullRequestReader&&this._fullRequestReader.cancel(B);for(const Y of this._rangeReaders.slice(0))Y.cancel(B);this._pdfDataRangeTransport.abort()}};class ${constructor(B,Y,ne=!1,X=null){this._stream=B,this._done=ne||!1,this._filename=(0,A.isPdfFile)(X)?X:null,this._queuedChunks=Y||[],this._loaded=0;for(const N of this._queuedChunks)this._loaded+=N.byteLength;this._requests=[],this._headersReady=Promise.resolve(),B._fullRequestReader=this,this.onProgress=null}_enqueue(B){this._done||(this._requests.length>0?this._requests.shift().resolve({value:B,done:!1}):this._queuedChunks.push(B),this._loaded+=B.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var B=this;return _asyncToGenerator(function*(){if(B._queuedChunks.length>0)return{value:B._queuedChunks.shift(),done:!1};if(B._done)return{value:void 0,done:!0};const Y=(0,f.createPromiseCapability)();return B._requests.push(Y),Y.promise})()}cancel(B){this._done=!0;for(const Y of this._requests)Y.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class le{constructor(B,Y,ne){this._stream=B,this._begin=Y,this._end=ne,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(B){if(!this._done){if(0===this._requests.length)this._queuedChunk=B;else{this._requests.shift().resolve({value:B,done:!1});for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var B=this;return _asyncToGenerator(function*(){if(B._queuedChunk){const ne=B._queuedChunk;return B._queuedChunk=null,{value:ne,done:!1}}if(B._done)return{value:void 0,done:!0};const Y=(0,f.createPromiseCapability)();return B._requests.push(Y),Y.promise})()}cancel(B){this._done=!0;for(const Y of this._requests)Y.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(ue,g)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.XfaText=void 0;class z{static textContent(A){const j=[],$={items:j,styles:Object.create(null)};return function le(V){if(!V)return;let B=null;const Y=V.name;if("#text"===Y)B=V.value;else{if(!z.shouldBuildText(Y))return;V?.attributes?.textContent?B=V.attributes.textContent:V.value&&(B=V.value)}if(null!==B&&j.push({str:B}),V.children)for(const ne of V.children)le(ne)}(A),$}static shouldBuildText(A){return!("textarea"===A||"input"===A||"option"===A||"select"===A)}}g.XfaText=z},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.NodeStandardFontDataFactory=g.NodeCanvasFactory=g.NodeCMapReaderFactory=void 0;var f=z(9);const A=function(V){return new Promise((B,Y)=>{__webpack_require__(172).readFile(V,(X,N)=>{!X&&N?B(new Uint8Array(N)):Y(new Error(X))})})};g.NodeCanvasFactory=class j extends f.BaseCanvasFactory{_createCanvas(B,Y){return __webpack_require__(414).createCanvas(B,Y)}},g.NodeCMapReaderFactory=class $ extends f.BaseCMapReaderFactory{_fetchData(B,Y){return A(B).then(ne=>({cMapData:ne,compressionType:Y}))}},g.NodeStandardFontDataFactory=class le extends f.BaseStandardFontDataFactory{_fetchData(B){return A(B)}}},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.AnnotationEditorLayer=void 0;var f=z(7),A=z(1),j=z(23),$=z(24);g.AnnotationEditorLayer=(()=>{var V=new WeakMap,B=new WeakMap,Y=new WeakMap,ne=new WeakMap,X=new WeakMap,N=new WeakMap,k=new WeakMap,p=new WeakMap,E=new WeakSet,T=new WeakSet,I=new WeakSet,L=new WeakSet;class m{constructor(M){_classPrivateMethodInitSpec(this,L),_classPrivateMethodInitSpec(this,I),_classPrivateMethodInitSpec(this,T),_classPrivateMethodInitSpec(this,E),_classPrivateFieldInitSpec(this,V,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,B,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:this.pointerup.bind(this)}),_classPrivateFieldInitSpec(this,ne,{writable:!0,value:this.pointerdown.bind(this)}),_classPrivateFieldInitSpec(this,X,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,k,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:void 0}),m._initialized||(m._initialized=!0,j.FreeTextEditor.initialize(M.l10n),$.InkEditor.initialize(M.l10n),M.uiManager.registerEditorTypes([j.FreeTextEditor,$.InkEditor])),_classPrivateFieldSet(this,p,M.uiManager),this.annotationStorage=M.annotationStorage,this.pageIndex=M.pageIndex,this.div=M.div,_classPrivateFieldSet(this,V,M.accessibilityManager),_classPrivateFieldGet(this,p).addLayer(this)}updateToolbar(M){_classPrivateFieldGet(this,p).updateToolbar(M)}updateMode(M=_classPrivateFieldGet(this,p).getMode()){_classPrivateMethodGet(this,L,D).call(this),M===A.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),_classPrivateFieldGet(this,p).unselectAll()}addInkEditorIfNeeded(M){if(M||_classPrivateFieldGet(this,p).getMode()===A.AnnotationEditorType.INK){if(!M)for(const P of _classPrivateFieldGet(this,X).values())if(P.isEmpty())return void P.setInBackground();_classPrivateMethodGet(this,I,v).call(this,{offsetX:0,offsetY:0}).setInBackground()}}setEditingState(M){_classPrivateFieldGet(this,p).setEditingState(M)}addCommands(M){_classPrivateFieldGet(this,p).addCommands(M)}enable(){this.div.style.pointerEvents="auto";for(const M of _classPrivateFieldGet(this,X).values())M.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const M of _classPrivateFieldGet(this,X).values())M.disableEditing()}setActiveEditor(M){_classPrivateFieldGet(this,p).getActive()!==M&&_classPrivateFieldGet(this,p).setActiveEditor(M)}enableClick(){this.div.addEventListener("pointerdown",_classPrivateFieldGet(this,ne)),this.div.addEventListener("pointerup",_classPrivateFieldGet(this,Y))}disableClick(){this.div.removeEventListener("pointerdown",_classPrivateFieldGet(this,ne)),this.div.removeEventListener("pointerup",_classPrivateFieldGet(this,Y))}attach(M){_classPrivateFieldGet(this,X).set(M.id,M)}detach(M){_classPrivateFieldGet(this,X).delete(M.id),_classPrivateFieldGet(this,V)?.removePointerInTextLayer(M.contentDiv)}remove(M){_classPrivateFieldGet(this,p).removeEditor(M),this.detach(M),this.annotationStorage.remove(M.id),M.div.style.display="none",setTimeout(()=>{M.div.style.display="",M.div.remove(),M.isAttachedToDOM=!1,document.activeElement===document.body&&_classPrivateFieldGet(this,p).focusMainContainer()},0),_classPrivateFieldGet(this,k)||this.addInkEditorIfNeeded(!1)}add(M){if(_classPrivateMethodGet(this,E,d).call(this,M),_classPrivateFieldGet(this,p).addEditor(M),this.attach(M),!M.isAttachedToDOM){const _=M.render();this.div.append(_),M.isAttachedToDOM=!0}this.moveEditorInDOM(M),M.onceAdded(),this.addToAnnotationStorage(M)}moveEditorInDOM(M){_classPrivateFieldGet(this,V)?.moveElementInDOM(this.div,M.div,M.contentDiv,!0)}addToAnnotationStorage(M){!M.isEmpty()&&!this.annotationStorage.has(M.id)&&this.annotationStorage.setValue(M.id,M)}addOrRebuild(M){M.needsToBeRebuilt()?M.rebuild():this.add(M)}addANewEditor(M){this.addCommands({cmd:()=>{this.addOrRebuild(M)},undo:()=>{M.remove()},mustExec:!0})}addUndoableEditor(M){this.addCommands({cmd:()=>{this.addOrRebuild(M)},undo:()=>{M.remove()},mustExec:!1})}getNextId(){return _classPrivateFieldGet(this,p).getId()}deserialize(M){switch(M.annotationType){case A.AnnotationEditorType.FREETEXT:return j.FreeTextEditor.deserialize(M,this);case A.AnnotationEditorType.INK:return $.InkEditor.deserialize(M,this)}return null}setSelected(M){_classPrivateFieldGet(this,p).setSelected(M)}toggleSelected(M){_classPrivateFieldGet(this,p).toggleSelected(M)}isSelected(M){return _classPrivateFieldGet(this,p).isSelected(M)}unselect(M){_classPrivateFieldGet(this,p).unselect(M)}pointerup(M){if(!(0!==M.button||M.ctrlKey&&f.KeyboardManager.platform.isMac)&&M.target===this.div&&_classPrivateFieldGet(this,N)){if(_classPrivateFieldSet(this,N,!1),!_classPrivateFieldGet(this,B))return void _classPrivateFieldSet(this,B,!0);_classPrivateMethodGet(this,I,v).call(this,M)}}pointerdown(M){if(0!==M.button||M.ctrlKey&&f.KeyboardManager.platform.isMac||M.target!==this.div)return;_classPrivateFieldSet(this,N,!0);const P=_classPrivateFieldGet(this,p).getActive();_classPrivateFieldSet(this,B,!P||P.isEmpty())}drop(M){const _=M.dataTransfer.getData("text/plain"),P=_classPrivateFieldGet(this,p).getEditor(_);if(!P)return;M.preventDefault(),M.dataTransfer.dropEffect="move",_classPrivateMethodGet(this,E,d).call(this,P);const q=this.div.getBoundingClientRect();P.translate(M.clientX-q.x-P.startX,M.clientY-q.y-P.startY),this.moveEditorInDOM(P),P.div.focus()}dragover(M){M.preventDefault()}destroy(){_classPrivateFieldGet(this,p).getActive()?.parent===this&&_classPrivateFieldGet(this,p).setActiveEditor(null);for(const M of _classPrivateFieldGet(this,X).values())_classPrivateFieldGet(this,V)?.removePointerInTextLayer(M.contentDiv),M.isAttachedToDOM=!1,M.div.remove(),M.parent=null;this.div=null,_classPrivateFieldGet(this,X).clear(),_classPrivateFieldGet(this,p).removeLayer(this)}render(M){this.viewport=M.viewport,(0,f.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const _ of _classPrivateFieldGet(this,p).getEditors(this.pageIndex))this.add(_);this.updateMode()}update(M){this.viewport=M.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[M,_,P,q]=this.viewport.viewBox;return[P-M,q-_]}get viewportBaseDimensions(){const{width:M,height:_,rotation:P}=this.viewport;return P%180==0?[M,_]:[_,M]}setDimensions(){const{width:M,height:_,rotation:P}=this.viewport,q=P%180!=0,W=Math.floor(M)+"px",ee=Math.floor(_)+"px";this.div.style.width=q?ee:W,this.div.style.height=q?W:ee,this.div.setAttribute("data-main-rotation",P)}}function d(R){R.parent!==this&&(this.attach(R),R.pageIndex=this.pageIndex,R.parent?.detach(R),R.parent=this,R.div&&R.isAttachedToDOM&&(R.div.remove(),this.div.append(R.div)))}function u(R){switch(_classPrivateFieldGet(this,p).getMode()){case A.AnnotationEditorType.FREETEXT:return new j.FreeTextEditor(R);case A.AnnotationEditorType.INK:return new $.InkEditor(R)}return null}function v(R){const M=this.getNextId(),_=_classPrivateMethodGet(this,T,u).call(this,{parent:this,id:M,x:R.offsetX,y:R.offsetY});return _&&this.add(_),_}function D(){_classPrivateFieldSet(this,k,!0);for(const R of _classPrivateFieldGet(this,X).values())R.isEmpty()&&R.remove();_classPrivateFieldSet(this,k,!1)}return _defineProperty(m,"_initialized",!1),m})()},(ue,g,z)=>{var f;Object.defineProperty(g,"__esModule",{value:!0}),g.FreeTextEditor=void 0;var A=z(1),j=z(7),$=z(6),le=new WeakMap,V=new WeakMap,B=new WeakMap,Y=new WeakMap,ne=new WeakMap,X=new WeakMap,N=new WeakMap,k=new WeakSet,p=new WeakSet,E=new WeakSet,T=new WeakSet;class I extends $.AnnotationEditor{constructor(D){super({...D,name:"freeTextEditor"}),_classPrivateMethodInitSpec(this,T),_classPrivateMethodInitSpec(this,E),_classPrivateMethodInitSpec(this,p),_classPrivateMethodInitSpec(this,k),_classPrivateFieldInitSpec(this,le,{writable:!0,value:this.editorDivBlur.bind(this)}),_classPrivateFieldInitSpec(this,V,{writable:!0,value:this.editorDivFocus.bind(this)}),_classPrivateFieldInitSpec(this,B,{writable:!0,value:this.editorDivKeydown.bind(this)}),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,ne,{writable:!0,value:""}),_classPrivateFieldInitSpec(this,X,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:void 0}),_classPrivateFieldSet(this,Y,D.color||I._defaultColor||$.AnnotationEditor._defaultLineColor),_classPrivateFieldSet(this,N,D.fontSize||I._defaultFontSize)}static initialize(D){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(M=>[M,D.get(M)]));const R=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(R.getPropertyValue("--freetext-padding"))}static updateDefaultParams(D,R){switch(D){case A.AnnotationEditorParamsType.FREETEXT_SIZE:I._defaultFontSize=R;break;case A.AnnotationEditorParamsType.FREETEXT_COLOR:I._defaultColor=R}}updateParams(D,R){switch(D){case A.AnnotationEditorParamsType.FREETEXT_SIZE:_classPrivateMethodGet(this,k,L).call(this,R);break;case A.AnnotationEditorParamsType.FREETEXT_COLOR:_classPrivateMethodGet(this,p,m).call(this,R)}}static get defaultPropertiesToUpdate(){return[[A.AnnotationEditorParamsType.FREETEXT_SIZE,I._defaultFontSize],[A.AnnotationEditorParamsType.FREETEXT_COLOR,I._defaultColor||$.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[A.AnnotationEditorParamsType.FREETEXT_SIZE,_classPrivateFieldGet(this,N)],[A.AnnotationEditorParamsType.FREETEXT_COLOR,_classPrivateFieldGet(this,Y)]]}getInitialTranslation(){return[-I._internalPadding*this.parent.scaleFactor,-(I._internalPadding+_classPrivateFieldGet(this,N))*this.parent.scaleFactor]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(A.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",_classPrivateFieldGet(this,B)),this.editorDiv.addEventListener("focus",_classPrivateFieldGet(this,V)),this.editorDiv.addEventListener("blur",_classPrivateFieldGet(this,le)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",_classPrivateFieldGet(this,B)),this.editorDiv.removeEventListener("focus",_classPrivateFieldGet(this,V)),this.editorDiv.removeEventListener("blur",_classPrivateFieldGet(this,le)),this.div.focus(),this.isEditing=!1)}focusin(D){super.focusin(D),D.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),_classPrivateFieldGet(this,X)||(_classPrivateFieldSet(this,X,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),_classPrivateFieldSet(this,ne,_classPrivateMethodGet(this,E,d).call(this).trimEnd()),_classPrivateMethodGet(this,T,u).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(D){this.enableEditMode(),this.editorDiv.focus()}keydown(D){D.target===this.div&&"Enter"===D.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(D){I._keyboardManager.exec(this,D)}editorDivFocus(D){this.isEditing=!0}editorDivBlur(D){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let D,R;this.width&&(D=this.x,R=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),I._l10nPromise.get("editor_free_text_aria_label").then(_=>this.editorDiv?.setAttribute("aria-label",_)),I._l10nPromise.get("free_text_default_content").then(_=>this.editorDiv?.setAttribute("default-content",_)),this.editorDiv.contentEditable=!0;const{style:M}=this.editorDiv;if(M.fontSize=`calc(${_classPrivateFieldGet(this,N)}px * var(--scale-factor))`,M.color=_classPrivateFieldGet(this,Y),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,j.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[_,P]=this.parent.viewportBaseDimensions;this.setAt(D*_,R*P,this.width*_,this.height*P);for(const q of _classPrivateFieldGet(this,ne).split("\n")){const W=document.createElement("div");W.append(q?document.createTextNode(q):document.createElement("br")),this.editorDiv.append(W)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(D,R){const M=super.deserialize(D,R);return _classPrivateFieldSet(M,N,D.fontSize),_classPrivateFieldSet(M,Y,A.Util.makeHexColor(...D.color)),_classPrivateFieldSet(M,ne,D.value),M}serialize(){if(this.isEmpty())return null;const D=I._internalPadding*this.parent.scaleFactor,R=this.getRect(D,D),M=$.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:A.AnnotationEditorType.FREETEXT,color:M,fontSize:_classPrivateFieldGet(this,N),value:_classPrivateFieldGet(this,ne),pageIndex:this.parent.pageIndex,rect:R,rotation:this.rotation}}}function L(v){const D=M=>{this.editorDiv.style.fontSize=`calc(${M}px * var(--scale-factor))`,this.translate(0,-(M-_classPrivateFieldGet(this,N))*this.parent.scaleFactor),_classPrivateFieldSet(this,N,M),_classPrivateMethodGet(this,T,u).call(this)},R=_classPrivateFieldGet(this,N);this.parent.addCommands({cmd:()=>{D(v)},undo:()=>{D(R)},mustExec:!0,type:A.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function m(v){const D=_classPrivateFieldGet(this,Y);this.parent.addCommands({cmd:()=>{_classPrivateFieldSet(this,Y,v),this.editorDiv.style.color=v},undo:()=>{_classPrivateFieldSet(this,Y,D),this.editorDiv.style.color=D},mustExec:!0,type:A.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function d(){const v=this.editorDiv.getElementsByTagName("div");if(0===v.length)return this.editorDiv.innerText;const D=[];for(let R=0,M=v.length;R<M;R++){const P=v[R].firstChild;D.push("#text"===P?.nodeName?P.data:"")}return D.join("\n")}function u(){const[v,D]=this.parent.viewportBaseDimensions,R=this.div.getBoundingClientRect();this.width=R.width/v,this.height=R.height/D}f=I,_defineProperty(I,"_freeTextDefaultContent",""),_defineProperty(I,"_l10nPromise",void 0),_defineProperty(I,"_internalPadding",0),_defineProperty(I,"_defaultColor",null),_defineProperty(I,"_defaultFontSize",10),_defineProperty(I,"_keyboardManager",new j.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],f.prototype.commitOrRemove]])),_defineProperty(I,"_type","freetext"),g.FreeTextEditor=I},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.InkEditor=void 0,Object.defineProperty(g,"fitCurve",{enumerable:!0,get:function(){return j.fitCurve}});var f=z(1),A=z(6),j=z(25),$=z(7);g.InkEditor=(()=>{var B,Y=new WeakMap,ne=new WeakMap,X=new WeakMap,N=new WeakMap,k=new WeakMap,p=new WeakMap,E=new WeakMap,T=new WeakMap,I=new WeakMap,L=new WeakMap,m=new WeakMap,d=new WeakMap,u=new WeakMap,v=new WeakMap,D=new WeakSet,R=new WeakSet,M=new WeakSet,_=new WeakSet,P=new WeakSet,q=new WeakSet,W=new WeakSet,ee=new WeakSet,Q=new WeakSet,Z=new WeakSet,re=new WeakSet,de=new WeakSet,ye=new WeakSet,J=new WeakSet,C=new WeakSet,y=new WeakSet,O=new WeakSet,G=new WeakSet,x=new WeakSet,h=new WeakSet,w=new WeakSet,S=new WeakSet;class U extends A.AnnotationEditor{constructor(ge){super({...ge,name:"inkEditor"}),_classPrivateMethodInitSpec(this,S),_classPrivateMethodInitSpec(this,w),_classPrivateMethodInitSpec(this,h),_classPrivateMethodInitSpec(this,x),_classPrivateMethodInitSpec(this,G),_classPrivateMethodInitSpec(this,O),_classPrivateMethodInitSpec(this,y),_classPrivateMethodInitSpec(this,C),_classPrivateMethodInitSpec(this,J),_classPrivateMethodInitSpec(this,ye),_classPrivateMethodInitSpec(this,de),_classPrivateMethodInitSpec(this,re),_classPrivateMethodInitSpec(this,Z),_classPrivateMethodInitSpec(this,Q),_classPrivateMethodInitSpec(this,ee),_classPrivateMethodInitSpec(this,W),_classPrivateMethodInitSpec(this,q),_classPrivateMethodInitSpec(this,P),_classPrivateMethodInitSpec(this,_),_classPrivateMethodInitSpec(this,M),_classPrivateMethodInitSpec(this,R),_classPrivateMethodInitSpec(this,D),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,ne,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,X,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:this.canvasPointermove.bind(this)}),_classPrivateFieldInitSpec(this,k,{writable:!0,value:this.canvasPointerleave.bind(this)}),_classPrivateFieldInitSpec(this,p,{writable:!0,value:this.canvasPointerup.bind(this)}),_classPrivateFieldInitSpec(this,E,{writable:!0,value:this.canvasPointerdown.bind(this)}),_classPrivateFieldInitSpec(this,T,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,I,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,L,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,m,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,d,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,u,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:null}),this.color=ge.color||null,this.thickness=ge.thickness||null,this.opacity=ge.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(ge){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(Ce=>[Ce,ge.get(Ce)]))}static updateDefaultParams(ge,Ce){switch(ge){case f.AnnotationEditorParamsType.INK_THICKNESS:U._defaultThickness=Ce;break;case f.AnnotationEditorParamsType.INK_COLOR:U._defaultColor=Ce;break;case f.AnnotationEditorParamsType.INK_OPACITY:U._defaultOpacity=Ce/100}}updateParams(ge,Ce){switch(ge){case f.AnnotationEditorParamsType.INK_THICKNESS:_classPrivateMethodGet(this,D,H).call(this,Ce);break;case f.AnnotationEditorParamsType.INK_COLOR:_classPrivateMethodGet(this,R,ie).call(this,Ce);break;case f.AnnotationEditorParamsType.INK_OPACITY:_classPrivateMethodGet(this,M,ae).call(this,Ce)}}static get defaultPropertiesToUpdate(){return[[f.AnnotationEditorParamsType.INK_THICKNESS,U._defaultThickness],[f.AnnotationEditorParamsType.INK_COLOR,U._defaultColor||A.AnnotationEditor._defaultLineColor],[f.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*U._defaultOpacity)]]}get propertiesToUpdate(){return[[f.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||U._defaultThickness],[f.AnnotationEditorParamsType.INK_COLOR,this.color||U._defaultColor||A.AnnotationEditor._defaultLineColor],[f.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??U._defaultOpacity))]]}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(_classPrivateMethodGet(this,re,ke).call(this),_classPrivateMethodGet(this,de,me).call(this)),this.isAttachedToDOM||(this.parent.add(this),_classPrivateMethodGet(this,ye,Ee).call(this)),_classPrivateMethodGet(this,w,K).call(this))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_classPrivateFieldGet(this,m).disconnect(),_classPrivateFieldSet(this,m,null),super.remove())}enableEditMode(){_classPrivateFieldGet(this,T)||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(this,E)),this.canvas.addEventListener("pointerup",_classPrivateFieldGet(this,p)))}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(this,E)),this.canvas.removeEventListener("pointerup",_classPrivateFieldGet(this,p)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){_classPrivateFieldGet(this,T)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_classPrivateFieldSet(this,T,!0),this.div.classList.add("disabled"),_classPrivateMethodGet(this,w,K).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(ge){super.focusin(ge),this.enableEditMode()}canvasPointerdown(ge){0!==ge.button||!this.isInEditMode()||_classPrivateFieldGet(this,T)||(this.setInForeground(),"mouse"!==ge.type&&this.div.focus(),ge.stopPropagation(),this.canvas.addEventListener("pointerleave",_classPrivateFieldGet(this,k)),this.canvas.addEventListener("pointermove",_classPrivateFieldGet(this,N)),_classPrivateMethodGet(this,q,we).call(this,ge.offsetX,ge.offsetY))}canvasPointermove(ge){ge.stopPropagation(),_classPrivateMethodGet(this,W,xe).call(this,ge.offsetX,ge.offsetY)}canvasPointerup(ge){0===ge.button&&this.isInEditMode()&&0!==this.currentPath.length&&(ge.stopPropagation(),_classPrivateMethodGet(this,Z,Oe).call(this,ge),this.setInBackground())}canvasPointerleave(ge){_classPrivateMethodGet(this,Z,Oe).call(this,ge),this.setInBackground()}render(){if(this.div)return this.div;let ge,Ce;this.width&&(ge=this.x,Ce=this.y),super.render(),U._l10nPromise.get("editor_ink_aria_label").then(Fe=>this.div?.setAttribute("aria-label",Fe));const[Te,he,se,ce]=_classPrivateMethodGet(this,_,be).call(this);if(this.setAt(Te,he,0,0),this.setDims(se,ce),_classPrivateMethodGet(this,re,ke).call(this),this.width){const[Fe,Ve]=this.parent.viewportBaseDimensions;this.setAt(ge*Fe,Ce*Ve,this.width*Fe,this.height*Ve),_classPrivateFieldSet(this,I,!0),_classPrivateMethodGet(this,ye,Ee).call(this),this.setDims(this.width*Fe,this.height*Ve),_classPrivateMethodGet(this,Q,Ie).call(this),_classPrivateMethodGet(this,S,fe).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _classPrivateMethodGet(this,de,me).call(this),this.div}setDimensions(ge,Ce){const Te=Math.round(ge),he=Math.round(Ce);if(_classPrivateFieldGet(this,d)===Te&&_classPrivateFieldGet(this,u)===he)return;_classPrivateFieldSet(this,d,Te),_classPrivateFieldSet(this,u,he),this.canvas.style.visibility="hidden",_classPrivateFieldGet(this,Y)&&Math.abs(_classPrivateFieldGet(this,Y)-ge/Ce)>.01&&(Ce=Math.ceil(ge/_classPrivateFieldGet(this,Y)),this.setDims(ge,Ce));const[se,ce]=this.parent.viewportBaseDimensions;this.width=ge/se,this.height=Ce/ce,_classPrivateFieldGet(this,T)&&_classPrivateMethodGet(this,J,Ge).call(this,ge,Ce),_classPrivateMethodGet(this,ye,Ee).call(this),_classPrivateMethodGet(this,Q,Ie).call(this),this.canvas.style.visibility="visible"}static deserialize(ge,Ce){const Te=super.deserialize(ge,Ce);Te.thickness=ge.thickness,Te.color=f.Util.makeHexColor(...ge.color),Te.opacity=ge.opacity;const[he,se]=Ce.pageDimensions,ce=Te.width*he,Fe=Te.height*se,Ve=Ce.scaleFactor,De=ge.thickness/2;_classPrivateFieldSet(Te,Y,ce/Fe),_classPrivateFieldSet(Te,T,!0),_classPrivateFieldSet(Te,d,Math.round(ce)),_classPrivateFieldSet(Te,u,Math.round(Fe));for(const{bezier:Le}of ge.paths){const Ne=[];Te.paths.push(Ne);let ze=Ve*(Le[0]-De),Ke=Ve*(Fe-Le[1]-De);for(let et=2,Dt=Le.length;et<Dt;et+=6){const Ct=Ve*(Le[et+4]-De),Vt=Ve*(Fe-Le[et+5]-De);Ne.push([[ze,Ke],[Ve*(Le[et]-De),Ve*(Fe-Le[et+1]-De)],[Ve*(Le[et+2]-De),Ve*(Fe-Le[et+3]-De)],[Ct,Vt]]),ze=Ct,Ke=Vt}const nt=_classStaticPrivateMethodGet(this,U,Ze).call(this,Ne);Te.bezierPath2D.push(nt)}const Pe=_classPrivateMethodGet(Te,x,We).call(Te);return _classPrivateFieldSet(Te,X,Math.max(16,Pe[2]-Pe[0])),_classPrivateFieldSet(Te,ne,Math.max(16,Pe[3]-Pe[1])),_classPrivateMethodGet(Te,J,Ge).call(Te,ce,Fe),Te}serialize(){if(this.isEmpty())return null;const ge=this.getRect(0,0),Ce=this.rotation%180==0?ge[3]-ge[1]:ge[2]-ge[0],Te=A.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:f.AnnotationEditorType.INK,color:Te,thickness:this.thickness,opacity:this.opacity,paths:_classPrivateMethodGet(this,y,Ae).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,Ce),pageIndex:this.parent.pageIndex,rect:ge,rotation:this.rotation}}}function H(ve){const ge=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=ve,_classPrivateMethodGet(this,w,K).call(this)},undo:()=>{this.thickness=ge,_classPrivateMethodGet(this,w,K).call(this)},mustExec:!0,type:f.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function ie(ve){const ge=this.color;this.parent.addCommands({cmd:()=>{this.color=ve,_classPrivateMethodGet(this,Q,Ie).call(this)},undo:()=>{this.color=ge,_classPrivateMethodGet(this,Q,Ie).call(this)},mustExec:!0,type:f.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function ae(ve){ve/=100;const ge=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=ve,_classPrivateMethodGet(this,Q,Ie).call(this)},undo:()=>{this.opacity=ge,_classPrivateMethodGet(this,Q,Ie).call(this)},mustExec:!0,type:f.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function be(){const{width:ve,height:ge,rotation:Ce}=this.parent.viewport;switch(Ce){case 90:return[0,ve,ve,ge];case 180:return[ve,ge,ve,ge];case 270:return[ge,0,ve,ge];default:return[0,0,ve,ge]}}function pe(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,$.opacityToHex)(this.opacity)}`}function we(ve,ge){this.isEditing=!0,_classPrivateFieldGet(this,I)||(_classPrivateFieldSet(this,I,!0),_classPrivateMethodGet(this,ye,Ee).call(this),this.thickness||=B._defaultThickness,this.color||=B._defaultColor||A.AnnotationEditor._defaultLineColor,this.opacity??=B._defaultOpacity),this.currentPath.push([ve,ge]),_classPrivateFieldSet(this,L,null),_classPrivateMethodGet(this,P,pe).call(this),this.ctx.beginPath(),this.ctx.moveTo(ve,ge),_classPrivateFieldSet(this,v,()=>{_classPrivateFieldGet(this,v)&&(_classPrivateFieldGet(this,L)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):_classPrivateMethodGet(this,Q,Ie).call(this),this.ctx.lineTo(..._classPrivateFieldGet(this,L)),_classPrivateFieldSet(this,L,null),this.ctx.stroke()),window.requestAnimationFrame(_classPrivateFieldGet(this,v)))}),window.requestAnimationFrame(_classPrivateFieldGet(this,v))}function xe(ve,ge){const[Ce,Te]=this.currentPath.at(-1);ve===Ce&&ge===Te||(this.currentPath.push([ve,ge]),_classPrivateFieldSet(this,L,[ve,ge]))}function Se(ve,ge){this.ctx.closePath(),_classPrivateFieldSet(this,v,null),ve=Math.min(Math.max(ve,0),this.canvas.width),ge=Math.min(Math.max(ge,0),this.canvas.height);const[Ce,Te]=this.currentPath.at(-1);let he;if((ve!==Ce||ge!==Te)&&this.currentPath.push([ve,ge]),1!==this.currentPath.length)he=(0,j.fitCurve)(this.currentPath,30,null);else{const Ve=[ve,ge];he=[[Ve,Ve.slice(),Ve.slice(),Ve]]}const se=_classStaticPrivateMethodGet(B,B,Ze).call(B,he);this.currentPath.length=0,this.parent.addCommands({cmd:()=>{this.paths.push(he),this.bezierPath2D.push(se),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(_classPrivateMethodGet(this,re,ke).call(this),_classPrivateMethodGet(this,de,me).call(this)),_classPrivateMethodGet(this,w,K).call(this))},mustExec:!0})}function Ie(){if(this.isEmpty())return void _classPrivateMethodGet(this,C,ot).call(this);_classPrivateMethodGet(this,P,pe).call(this);const{canvas:ve,ctx:ge}=this;ge.setTransform(1,0,0,1,0,0),ge.clearRect(0,0,ve.width,ve.height),_classPrivateMethodGet(this,C,ot).call(this);for(const Ce of this.bezierPath2D)ge.stroke(Ce)}function Oe(ve){_classPrivateMethodGet(this,ee,Se).call(this,ve.offsetX,ve.offsetY),this.canvas.removeEventListener("pointerleave",_classPrivateFieldGet(this,k)),this.canvas.removeEventListener("pointermove",_classPrivateFieldGet(this,N)),this.parent.addToAnnotationStorage(this)}function ke(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",B._l10nPromise.get("editor_ink_canvas_aria_label").then(ve=>this.canvas?.setAttribute("aria-label",ve)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function me(){_classPrivateFieldSet(this,m,new ResizeObserver(ve=>{const ge=ve[0].contentRect;ge.width&&ge.height&&this.setDimensions(ge.width,ge.height)})),_classPrivateFieldGet(this,m).observe(this.div)}function Ee(){if(!_classPrivateFieldGet(this,I))return;const[ve,ge]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*ve),this.canvas.height=Math.ceil(this.height*ge),_classPrivateMethodGet(this,C,ot).call(this)}function Ge(ve,ge){const Ce=_classPrivateMethodGet(this,h,$e).call(this),Te=(ve-Ce)/_classPrivateFieldGet(this,X),he=(ge-Ce)/_classPrivateFieldGet(this,ne);this.scaleFactor=Math.min(Te,he)}function ot(){const ve=_classPrivateMethodGet(this,h,$e).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+ve,this.translationY*this.scaleFactor+ve)}function Ze(ve){const ge=new Path2D;for(let Ce=0,Te=ve.length;Ce<Te;Ce++){const[he,se,ce,Fe]=ve[Ce];0===Ce&&ge.moveTo(...he),ge.bezierCurveTo(se[0],se[1],ce[0],ce[1],Fe[0],Fe[1])}return ge}function Ae(ve,ge,Ce,Te){const se=[],ce=this.thickness/2;let Fe,Ve;for(const De of this.paths){Fe=[],Ve=[];for(let Pe=0,Le=De.length;Pe<Le;Pe++){const[Ne,ze,Ke,nt]=De[Pe],et=ve*(Ne[0]+ge)+ce,Dt=Te-ve*(Ne[1]+Ce)-ce,Xe=ve*(ze[0]+ge)+ce,yt=Te-ve*(ze[1]+Ce)-ce,Ut=ve*(Ke[0]+ge)+ce,Gt=Te-ve*(Ke[1]+Ce)-ce,Ct=ve*(nt[0]+ge)+ce,Vt=Te-ve*(nt[1]+Ce)-ce;0===Pe&&(Fe.push(et,Dt),Ve.push(et,Dt)),Fe.push(Xe,yt,Ut,Gt,Ct,Vt),_classPrivateMethodGet(this,O,Ue).call(this,et,Dt,Xe,yt,Ut,Gt,Ct,Vt,4,Ve)}se.push({bezier:Fe,points:Ve})}return se}function Ue(ve,ge,Ce,Te,he,se,ce,Fe,Ve,De){if(_classPrivateMethodGet(this,G,Qe).call(this,ve,ge,Ce,Te,he,se,ce,Fe))De.push(ce,Fe);else{for(let Pe=1;Pe<Ve-1;Pe++){const Le=Pe/Ve,Ne=1-Le;let ze=Le*ve+Ne*Ce,Ke=Le*ge+Ne*Te,nt=Le*Ce+Ne*he,et=Le*Te+Ne*se;ze=Le*ze+Ne*nt,Ke=Le*Ke+Ne*et,nt=Le*nt+Ne*(Le*he+Ne*ce),et=Le*et+Ne*(Le*se+Ne*Fe),ze=Le*ze+Ne*nt,Ke=Le*Ke+Ne*et,De.push(ze,Ke)}De.push(ce,Fe)}}function Qe(ve,ge,Ce,Te,he,se,ce,Fe){const Pe=(3*Te-2*ge-Fe)**2,Ne=(3*se-ge-2*Fe)**2;return Math.max((3*Ce-2*ve-ce)**2,(3*he-ve-2*ce)**2)+Math.max(Pe,Ne)<=10}function We(){let ve=1/0,ge=-1/0,Ce=1/0,Te=-1/0;for(const he of this.paths)for(const[se,ce,Fe,Ve]of he){const De=f.Util.bezierBoundingBox(...se,...ce,...Fe,...Ve);ve=Math.min(ve,De[0]),Ce=Math.min(Ce,De[1]),ge=Math.max(ge,De[2]),Te=Math.max(Te,De[3])}return[ve,Ce,ge,Te]}function $e(){return _classPrivateFieldGet(this,T)?Math.ceil(this.thickness*this.parent.scaleFactor):0}function K(ve=!1){if(this.isEmpty())return;if(!_classPrivateFieldGet(this,T))return void _classPrivateMethodGet(this,Q,Ie).call(this);const ge=_classPrivateMethodGet(this,x,We).call(this),Ce=_classPrivateMethodGet(this,h,$e).call(this);_classPrivateFieldSet(this,X,Math.max(16,ge[2]-ge[0])),_classPrivateFieldSet(this,ne,Math.max(16,ge[3]-ge[1]));const Te=Math.ceil(Ce+_classPrivateFieldGet(this,X)*this.scaleFactor),he=Math.ceil(Ce+_classPrivateFieldGet(this,ne)*this.scaleFactor),[se,ce]=this.parent.viewportBaseDimensions;this.width=Te/se,this.height=he/ce,_classPrivateFieldSet(this,Y,Te/he),_classPrivateMethodGet(this,S,fe).call(this);const Fe=this.translationX,Ve=this.translationY;this.translationX=-ge[0],this.translationY=-ge[1],_classPrivateMethodGet(this,ye,Ee).call(this),_classPrivateMethodGet(this,Q,Ie).call(this),_classPrivateFieldSet(this,d,Te),_classPrivateFieldSet(this,u,he),this.setDims(Te,he);const De=ve?Ce/this.scaleFactor/2:0;this.translate(Fe-this.translationX-De,Ve-this.translationY-De)}function fe(){const{style:ve}=this.div;_classPrivateFieldGet(this,Y)>=1?(ve.minHeight="16px",ve.minWidth=`${Math.round(16*_classPrivateFieldGet(this,Y))}px`):(ve.minWidth="16px",ve.minHeight=`${Math.round(16/_classPrivateFieldGet(this,Y))}px`)}return B=U,_defineProperty(U,"_defaultColor",null),_defineProperty(U,"_defaultOpacity",1),_defineProperty(U,"_defaultThickness",1),_defineProperty(U,"_l10nPromise",void 0),_defineProperty(U,"_type","ink"),U})()},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.fitCurve=void 0;const f=z(26);g.fitCurve=f},ue=>{function z(k,p,E,T,I){var m,d,u,v,D,R,M,_,P,q,W,ee,Q;if(2===k.length)return ee=X.vectorLen(X.subtract(k[0],k[1]))/3,[m=[k[0],X.addArrays(k[0],X.mulItems(p,ee)),X.addArrays(k[1],X.mulItems(E,ee)),k[1]]];if(d=function le(k){var E,T,I,p=[];return k.forEach((L,m)=>{E=m?T+X.vectorLen(X.subtract(L,I)):0,p.push(E),T=E,I=L}),p=p.map(L=>L/T)}(k),[m,v,R]=f(k,d,d,p,E,I),0===v||v<T)return[m];if(v<T*T)for(u=d,D=v,M=R,Q=0;Q<20;Q++){if(u=j(m,k,u),[m,v,R]=f(k,d,u,p,E,I),v<T)return[m];if(R===M){let Z=v/D;if(Z>.9999&&Z<1.0001)break}D=v,M=R}return W=[],(_=X.subtract(k[R-1],k[R+1])).every(Z=>0===Z)&&(_=X.subtract(k[R-1],k[R]),[_[0],_[1]]=[-_[1],_[0]]),P=X.normalize(_),q=X.mulItems(P,-1),(W=W.concat(z(k.slice(0,R+1),p,P,T,I))).concat(z(k.slice(R),q,E,T,I))}function f(k,p,E,T,I,L){var m,d,u;return m=function A(k,p,E,T){var I,L,m,d,u,v,M,_,P,q,W,ee,Q,Z,re,de=k[0],ye=k[k.length-1];for(I=[de,null,null,ye],L=X.zeros_Xx2x2(p.length),W=0,ee=p.length;W<ee;W++)(m=L[W])[0]=X.mulItems(E,3*(Z=p[W])*((re=1-Z)*re)),m[1]=X.mulItems(T,3*re*(Z*Z));for(d=[[0,0],[0,0]],u=[0,0],W=0,ee=k.length;W<ee;W++)Z=p[W],d[0][0]+=X.dot((m=L[W])[0],m[0]),d[0][1]+=X.dot(m[0],m[1]),d[1][0]+=X.dot(m[0],m[1]),d[1][1]+=X.dot(m[1],m[1]),Q=X.subtract(k[W],N.q([de,de,ye,ye],Z)),u[0]+=X.dot(m[0],Q),u[1]+=X.dot(m[1],Q);return M=0==(v=d[0][0]*d[1][1]-d[1][0]*d[0][1])?0:(u[0]*d[1][1]-u[1]*d[0][1])/v,_=0===v?0:(d[0][0]*u[1]-d[1][0]*u[0])/v,M<(P=1e-6*(q=X.vectorLen(X.subtract(de,ye))))||_<P?(I[1]=X.addArrays(de,X.mulItems(E,q/3)),I[2]=X.addArrays(ye,X.mulItems(T,q/3))):(I[1]=X.addArrays(de,X.mulItems(E,M)),I[2]=X.addArrays(ye,X.mulItems(T,_))),I}(k,E,T,I),[d,u]=function V(k,p,E){var T,I,L,m,d,u,v,D;I=0,L=Math.floor(k.length/2);const R=B(p,10);for(d=0,u=k.length;d<u;d++)v=k[d],D=Y(0,E[d],R,10),(T=(m=X.subtract(N.q(p,D),v))[0]*m[0]+m[1]*m[1])>I&&(I=T,L=d);return[I,L]}(k,m,p),L&&L({bez:m,points:k,params:p,maxErr:d,maxPoint:u}),[m,d,u]}function j(k,p,E){return E.map((T,I)=>function $(k,p,E){var T=X.subtract(N.q(k,E),p),I=N.qprime(k,E),L=X.mulMatrix(T,I),m=X.sum(X.squareItems(I))+2*X.mulMatrix(T,N.qprimeprime(k,E));return 0===m?E:E-L/m}(k,p[I],T))}var B=function(k,p){for(var E,T=[0],I=k[0],L=0,m=1;m<=p;m++)E=N.q(k,m/p),L+=X.vectorLen(X.subtract(E,I)),T.push(L),I=E;return T.map(d=>d/L)};function Y(k,p,E,T){if(p<0)return 0;if(p>1)return 1;for(var L,d,u,v=1;v<=T;v++)if(p<=E[v]){u=(p-(L=E[v-1]))/(E[v]-L)*(v/T-(d=(v-1)/T))+d;break}return u}function ne(k,p){return X.normalize(X.subtract(k,p))}class X{static zeros_Xx2x2(p){for(var E=[];p--;)E.push([0,0]);return E}static mulItems(p,E){return p.map(T=>T*E)}static mulMatrix(p,E){return p.reduce((T,I,L)=>T+I*E[L],0)}static subtract(p,E){return p.map((T,I)=>T-E[I])}static addArrays(p,E){return p.map((T,I)=>T+E[I])}static addItems(p,E){return p.map(T=>T+E)}static sum(p){return p.reduce((E,T)=>E+T)}static dot(p,E){return X.mulMatrix(p,E)}static vectorLen(p){return Math.hypot(...p)}static divItems(p,E){return p.map(T=>T/E)}static squareItems(p){return p.map(E=>E*E)}static normalize(p){return this.divItems(p,this.vectorLen(p))}}class N{static q(p,E){var T=1-E,I=X.mulItems(p[0],T*T*T),L=X.mulItems(p[1],3*T*T*E),m=X.mulItems(p[2],3*T*E*E),d=X.mulItems(p[3],E*E*E);return X.addArrays(X.addArrays(I,L),X.addArrays(m,d))}static qprime(p,E){var T=1-E,I=X.mulItems(X.subtract(p[1],p[0]),3*T*T),L=X.mulItems(X.subtract(p[2],p[1]),6*T*E),m=X.mulItems(X.subtract(p[3],p[2]),3*E*E);return X.addArrays(X.addArrays(I,L),m)}static qprimeprime(p,E){return X.addArrays(X.mulItems(X.addArrays(X.subtract(p[2],X.mulItems(p[1],2)),p[0]),6*(1-E)),X.mulItems(X.addArrays(X.subtract(p[3],X.mulItems(p[2],2)),p[1]),6*E))}}ue.exports=function g(k,p,E){if(!Array.isArray(k))throw new TypeError("First argument should be an array");if(k.forEach(m=>{if(!Array.isArray(m)||m.some(d=>"number"!=typeof d)||m.length!==k[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),(k=k.filter((m,d)=>0===d||!m.every((u,v)=>u===k[d-1][v]))).length<2)return[];const T=k.length,I=ne(k[1],k[0]),L=ne(k[T-2],k[T-1]);return z(k,I,L,p,E)},ue.exports.fitCubic=z,ue.exports.createTangent=ne},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.AnnotationLayer=void 0;var f=z(1),A=z(8),j=z(5),$=z(28),le=z(29);const V=1e3,Y=new WeakSet;function ne(x){return{width:x[2]-x[0],height:x[3]-x[1]}}class X{static create(h){switch(h.data.annotationType){case f.AnnotationType.LINK:return new k(h);case f.AnnotationType.TEXT:return new p(h);case f.AnnotationType.WIDGET:switch(h.data.fieldType){case"Tx":return new T(h);case"Btn":return h.data.radioButton?new L(h):h.data.checkBox?new I(h):new m(h);case"Ch":return new d(h)}return new E(h);case f.AnnotationType.POPUP:return new u(h);case f.AnnotationType.FREETEXT:return new D(h);case f.AnnotationType.LINE:return new R(h);case f.AnnotationType.SQUARE:return new M(h);case f.AnnotationType.CIRCLE:return new _(h);case f.AnnotationType.POLYLINE:return new P(h);case f.AnnotationType.CARET:return new W(h);case f.AnnotationType.INK:return new ee(h);case f.AnnotationType.POLYGON:return new q(h);case f.AnnotationType.HIGHLIGHT:return new Q(h);case f.AnnotationType.UNDERLINE:return new Z(h);case f.AnnotationType.SQUIGGLY:return new re(h);case f.AnnotationType.STRIKEOUT:return new de(h);case f.AnnotationType.STAMP:return new ye(h);case f.AnnotationType.FILEATTACHMENT:return new J(h);default:return new N(h)}}}class N{constructor(h,{isRenderable:w=!1,ignoreBorder:S=!1,createQuadrilaterals:U=!1}={}){this.isRenderable=w,this.data=h.data,this.layer=h.layer,this.page=h.page,this.viewport=h.viewport,this.linkService=h.linkService,this.downloadManager=h.downloadManager,this.imageResourcesPath=h.imageResourcesPath,this.renderForms=h.renderForms,this.svgFactory=h.svgFactory,this.annotationStorage=h.annotationStorage,this.enableScripting=h.enableScripting,this.hasJSActions=h.hasJSActions,this._fieldObjects=h.fieldObjects,this._mouseState=h.mouseState,w&&(this.container=this._createContainer(S)),U&&(this.quadrilaterals=this._createQuadrilaterals(S))}_createContainer(h=!1){const w=this.data,S=this.page,U=this.viewport,H=document.createElement("section"),{width:ie,height:ae}=ne(w.rect),[be,pe,we,xe]=U.viewBox,Se=we-be,Ie=xe-pe;H.setAttribute("data-annotation-id",w.id);const Oe=f.Util.normalizeRect([w.rect[0],S.view[3]-w.rect[1]+S.view[1],w.rect[2],S.view[3]-w.rect[3]+S.view[1]]);if(!h&&w.borderStyle.width>0){H.style.borderWidth=`${w.borderStyle.width}px`;const me=w.borderStyle.horizontalCornerRadius,Ee=w.borderStyle.verticalCornerRadius;switch(me>0||Ee>0?H.style.borderRadius=`calc(${me}px * var(--scale-factor)) / calc(${Ee}px * var(--scale-factor))`:this instanceof L&&(H.style.borderRadius=`calc(${ie}px * var(--scale-factor)) / calc(${ae}px * var(--scale-factor))`),w.borderStyle.style){case f.AnnotationBorderStyleType.SOLID:H.style.borderStyle="solid";break;case f.AnnotationBorderStyleType.DASHED:H.style.borderStyle="dashed";break;case f.AnnotationBorderStyleType.BEVELED:(0,f.warn)("Unimplemented border style: beveled");break;case f.AnnotationBorderStyleType.INSET:(0,f.warn)("Unimplemented border style: inset");break;case f.AnnotationBorderStyleType.UNDERLINE:H.style.borderBottomStyle="solid"}const Ge=w.borderColor||null;Ge?H.style.borderColor=f.Util.makeHexColor(0|Ge[0],0|Ge[1],0|Ge[2]):H.style.borderWidth=0}H.style.left=100*(Oe[0]-be)/Se+"%",H.style.top=100*(Oe[1]-pe)/Ie+"%";const{rotation:ke}=w;return w.hasOwnCanvas||0===ke?(H.style.width=100*ie/Se+"%",H.style.height=100*ae/Ie+"%"):this.setRotation(ke,H),H}setRotation(h,w=this.container){const[S,U,H,ie]=this.viewport.viewBox,ae=H-S,be=ie-U,{width:pe,height:we}=ne(this.data.rect);let xe,Se;h%180==0?(xe=100*pe/ae,Se=100*we/be):(xe=100*we/ae,Se=100*pe/be),w.style.width=`${xe}%`,w.style.height=`${Se}%`,w.setAttribute("data-main-rotation",(360-h)%360)}get _commonActions(){const h=(w,S,U)=>{const H=U.detail[w];U.target.style[S]=$.ColorConverters[`${H[0]}_HTML`](H.slice(1))};return(0,f.shadow)(this,"_commonActions",{display:w=>{const S=w.detail.display%2==1;this.container.style.visibility=S?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:S,print:0===w.detail.display||3===w.detail.display})},print:w=>{this.annotationStorage.setValue(this.data.id,{print:w.detail.print})},hidden:w=>{this.container.style.visibility=w.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:w.detail.hidden})},focus:w=>{setTimeout(()=>w.target.focus({preventScroll:!1}),0)},userName:w=>{w.target.title=w.detail.userName},readonly:w=>{w.detail.readonly?w.target.setAttribute("readonly",""):w.target.removeAttribute("readonly")},required:w=>{this._setRequired(w.target,w.detail.required)},bgColor:w=>{h("bgColor","backgroundColor",w)},fillColor:w=>{h("fillColor","backgroundColor",w)},fgColor:w=>{h("fgColor","color",w)},textColor:w=>{h("textColor","color",w)},borderColor:w=>{h("borderColor","borderColor",w)},strokeColor:w=>{h("strokeColor","borderColor",w)},rotation:w=>{const S=w.detail.rotation;this.setRotation(S),this.annotationStorage.setValue(this.data.id,{rotation:S})}})}_dispatchEventFromSandbox(h,w){const S=this._commonActions;for(const U of Object.keys(w.detail)){const H=h[U]||S[U];H&&H(w)}}_setDefaultPropertiesFromJS(h){if(!this.enableScripting)return;const w=this.annotationStorage.getRawValue(this.data.id);if(!w)return;const S=this._commonActions;for(const[U,H]of Object.entries(w)){const ie=S[U];ie&&(ie({detail:{[U]:H},target:h}),delete w[U])}}_createQuadrilaterals(h=!1){if(!this.data.quadPoints)return null;const w=[],S=this.data.rect;for(const U of this.data.quadPoints)this.data.rect=[U[2].x,U[2].y,U[1].x,U[1].y],w.push(this._createContainer(h));return this.data.rect=S,w}_createPopup(h,w){let S=this.container;this.quadrilaterals&&(h=h||this.quadrilaterals,S=this.quadrilaterals[0]),h||((h=document.createElement("div")).className="popupTriggerArea",S.append(h));const H=new v({container:S,trigger:h,color:w.color,titleObj:w.titleObj,modificationDate:w.modificationDate,contentsObj:w.contentsObj,richText:w.richText,hideWrapper:!0}).render();H.style.left="100%",S.append(H)}_renderQuadrilaterals(h){for(const w of this.quadrilaterals)w.className=h;return this.quadrilaterals}render(){(0,f.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(h,w=null){const S=[];if(this._fieldObjects){const U=this._fieldObjects[h];if(U)for(const{page:H,id:ie,exportValues:ae}of U){if(-1===H||ie===w)continue;const be="string"==typeof ae?ae:null,pe=document.querySelector(`[data-element-id="${ie}"]`);!pe||Y.has(pe)?S.push({id:ie,exportValue:be,domElement:pe}):(0,f.warn)(`_getElementsByName - element not allowed: ${ie}`)}return S}for(const U of document.getElementsByName(h)){const{id:H,exportValue:ie}=U;H!==w&&Y.has(U)&&S.push({id:H,exportValue:ie,domElement:U})}return S}static get platform(){const h=typeof navigator<"u"?navigator.platform:"";return(0,f.shadow)(this,"platform",{isWin:h.includes("Win"),isMac:h.includes("Mac")})}}class k extends N{constructor(h,w=null){super(h,{isRenderable:!0,ignoreBorder:!!w?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=h.data.isTooltipOnly}render(){const{data:h,linkService:w}=this,S=document.createElement("a");S.setAttribute("data-element-id",h.id);let U=!1;return h.url?(w.addLinkAttributes(S,h.url,h.newWindow),U=!0):h.action?(this._bindNamedAction(S,h.action),U=!0):h.dest?(this._bindLink(S,h.dest),U=!0):(h.actions&&(h.actions.Action||h.actions["Mouse Up"]||h.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(S,h),U=!0),h.resetForm?(this._bindResetFormAction(S,h.resetForm),U=!0):this.isTooltipOnly&&!U&&(this._bindLink(S,""),U=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((H,ie)=>{const ae=0===ie?S:S.cloneNode();return H.append(ae),H}):(this.container.className="linkAnnotation",U&&this.container.append(S),this.container)}_bindLink(h,w){h.href=this.linkService.getDestinationHash(w),h.onclick=()=>(w&&this.linkService.goToDestination(w),!1),(w||""===w)&&(h.className="internalLink")}_bindNamedAction(h,w){h.href=this.linkService.getAnchorUrl(""),h.onclick=()=>(this.linkService.executeNamedAction(w),!1),h.className="internalLink"}_bindJSAction(h,w){h.href=this.linkService.getAnchorUrl("");const S=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const U of Object.keys(w.actions)){const H=S.get(U);H&&(h[H]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w.id,name:U}}),!1))}h.onclick||(h.onclick=()=>!1),h.className="internalLink"}_bindResetFormAction(h,w){const S=h.onclick;if(S||(h.href=this.linkService.getAnchorUrl("")),h.className="internalLink",!this._fieldObjects)return(0,f.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(S||(h.onclick=()=>!1));h.onclick=()=>{S&&S();const{fields:U,refs:H,include:ie}=w,ae=[];if(0!==U.length||0!==H.length){const we=new Set(H);for(const xe of U){const Se=this._fieldObjects[xe]||[];for(const{id:Ie}of Se)we.add(Ie)}for(const xe of Object.values(this._fieldObjects))for(const Se of xe)we.has(Se.id)===ie&&ae.push(Se)}else for(const we of Object.values(this._fieldObjects))ae.push(...we);const be=this.annotationStorage,pe=[];for(const we of ae){const{id:xe}=we;switch(pe.push(xe),we.type){case"text":case"combobox":case"listbox":be.setValue(xe,{value:we.defaultValue||""});break;case"checkbox":case"radiobutton":be.setValue(xe,{value:we.defaultValue===we.exportValues});break;default:continue}const Se=document.querySelector(`[data-element-id="${xe}"]`);Se&&(Y.has(Se)?Se.dispatchEvent(new Event("resetform")):(0,f.warn)(`_bindResetFormAction - element not allowed: ${xe}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:pe,name:"ResetForm"}}),!1}}}class p extends N{constructor(h){super(h,{isRenderable:!!(h.data.hasPopup||h.data.titleObj?.str||h.data.contentsObj?.str||h.data.richText?.str)})}render(){this.container.className="textAnnotation";const h=document.createElement("img");return h.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",h.alt="[{{type}} Annotation]",h.dataset.l10nId="text_annotation_type",h.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(h,this.data),this.container.append(h),this.container}}class E extends N{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(h){const{isWin:w,isMac:S}=N.platform;return w&&h.ctrlKey||S&&h.metaKey}_setEventListener(h,w,S,U){w.includes("mouse")?h.addEventListener(w,H=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:S,value:U(H),shift:H.shiftKey,modifier:this._getKeyModifier(H)}})}):h.addEventListener(w,H=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:S,value:U(H)}})})}_setEventListeners(h,w,S){for(const[U,H]of w)("Action"===H||this.data.actions?.[H])&&this._setEventListener(h,U,H,S)}_setBackgroundColor(h){const w=this.data.backgroundColor||null;h.style.backgroundColor=null===w?"transparent":f.Util.makeHexColor(w[0],w[1],w[2])}_setTextStyle(h){const{fontColor:S}=this.data.defaultAppearanceData,U=this.data.defaultAppearanceData.fontSize||9,H=h.style;let ie;if(this.data.multiLine){const ae=Math.abs(this.data.rect[3]-this.data.rect[1]),be=Math.round(ae/(f.LINE_FACTOR*U))||1;ie=Math.min(U,Math.round(ae/be/f.LINE_FACTOR))}else{const ae=Math.abs(this.data.rect[3]-this.data.rect[1]);ie=Math.min(U,Math.round(ae/f.LINE_FACTOR))}H.fontSize=`calc(${ie}px * var(--scale-factor))`,H.color=f.Util.makeHexColor(S[0],S[1],S[2]),null!==this.data.textAlignment&&(H.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(h,w){w?h.setAttribute("required",!0):h.removeAttribute("required"),h.setAttribute("aria-required",w)}}class T extends E{constructor(h){super(h,{isRenderable:h.renderForms||!h.data.hasAppearance&&!!h.data.fieldValue})}setPropertyOnSiblings(h,w,S,U){const H=this.annotationStorage;for(const ie of this._getElementsByName(h.name,h.id))ie.domElement&&(ie.domElement[w]=S),H.setValue(ie.id,{[U]:S})}render(){const h=this.annotationStorage,w=this.data.id;this.container.className="textWidgetAnnotation";let S=null;if(this.renderForms){const U=h.getValue(w,{value:this.data.fieldValue});let H=U.formattedValue||U.value||"";const ie=h.getValue(w,{charLimit:this.data.maxLen}).charLimit;ie&&H.length>ie&&(H=H.slice(0,ie));const ae={userValue:H,formattedValue:null,valueOnFocus:""};this.data.multiLine?(S=document.createElement("textarea"),S.textContent=H,this.data.doNotScroll&&(S.style.overflowY="hidden")):(S=document.createElement("input"),S.type="text",S.setAttribute("value",H),this.data.doNotScroll&&(S.style.overflowX="hidden")),Y.add(S),S.setAttribute("data-element-id",w),S.disabled=this.data.readOnly,S.name=this.data.fieldName,S.tabIndex=V,this._setRequired(S,this.data.required),ie&&(S.maxLength=ie),S.addEventListener("input",pe=>{h.setValue(w,{value:pe.target.value}),this.setPropertyOnSiblings(S,"value",pe.target.value,"value")}),S.addEventListener("resetform",pe=>{S.value=ae.userValue=this.data.defaultFieldValue??"",ae.formattedValue=null});let be=pe=>{const{formattedValue:we}=ae;null!=we&&(pe.target.value=we),pe.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){S.addEventListener("focus",we=>{ae.userValue&&(we.target.value=ae.userValue),ae.valueOnFocus=we.target.value}),S.addEventListener("updatefromsandbox",we=>{this._dispatchEventFromSandbox({value(Se){ae.userValue=Se.detail.value??"",h.setValue(w,{value:ae.userValue.toString()}),Se.target.value=ae.userValue},formattedValue(Se){const{formattedValue:Ie}=Se.detail;ae.formattedValue=Ie,null!=Ie&&Se.target!==document.activeElement&&(Se.target.value=Ie),h.setValue(w,{formattedValue:Ie})},selRange(Se){Se.target.setSelectionRange(...Se.detail.selRange)},charLimit:Se=>{const{charLimit:Ie}=Se.detail,{target:Oe}=Se;if(0===Ie)return void Oe.removeAttribute("maxLength");Oe.setAttribute("maxLength",Ie);let ke=ae.userValue;!ke||ke.length<=Ie||(ke=ke.slice(0,Ie),Oe.value=ae.userValue=ke,h.setValue(w,{value:ke}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:ke,willCommit:!0,commitKey:1,selStart:Oe.selectionStart,selEnd:Oe.selectionEnd}}))}},we)}),S.addEventListener("keydown",we=>{let xe=-1;if("Escape"===we.key?xe=0:"Enter"===we.key?xe=2:"Tab"===we.key&&(xe=3),-1===xe)return;const{value:Se}=we.target;ae.valueOnFocus!==Se&&(ae.userValue=Se,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:Se,willCommit:!0,commitKey:xe,selStart:we.target.selectionStart,selEnd:we.target.selectionEnd}}))});const pe=be;be=null,S.addEventListener("blur",we=>{const{value:xe}=we.target;ae.userValue=xe,this._mouseState.isDown&&ae.valueOnFocus!==xe&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:xe,willCommit:!0,commitKey:1,selStart:we.target.selectionStart,selEnd:we.target.selectionEnd}}),pe(we)}),this.data.actions?.Keystroke&&S.addEventListener("beforeinput",we=>{const{data:xe,target:Se}=we,{value:Ie,selectionStart:Oe,selectionEnd:ke}=Se;let me=Oe,Ee=ke;switch(we.inputType){case"deleteWordBackward":{const Ge=Ie.substring(0,Oe).match(/\w*[^\w]*$/);Ge&&(me-=Ge[0].length);break}case"deleteWordForward":{const Ge=Ie.substring(Oe).match(/^[^\w]*\w*/);Ge&&(Ee+=Ge[0].length);break}case"deleteContentBackward":Oe===ke&&(me-=1);break;case"deleteContentForward":Oe===ke&&(Ee+=1)}we.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:Ie,change:xe||"",willCommit:!1,selStart:me,selEnd:Ee}})}),this._setEventListeners(S,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],we=>we.target.value)}if(be&&S.addEventListener("blur",be),this.data.comb){const we=(this.data.rect[2]-this.data.rect[0])/ie;S.classList.add("comb"),S.style.letterSpacing=`calc(${we}px * var(--scale-factor) - 1ch)`}}else S=document.createElement("div"),S.textContent=this.data.fieldValue,S.style.verticalAlign="middle",S.style.display="table-cell";return this._setTextStyle(S),this._setBackgroundColor(S),this._setDefaultPropertiesFromJS(S),this.container.append(S),this.container}}class I extends E{constructor(h){super(h,{isRenderable:h.renderForms})}render(){const h=this.annotationStorage,w=this.data,S=w.id;let U=h.getValue(S,{value:w.exportValue===w.fieldValue}).value;"string"==typeof U&&(U="Off"!==U,h.setValue(S,{value:U})),this.container.className="buttonWidgetAnnotation checkBox";const H=document.createElement("input");return Y.add(H),H.setAttribute("data-element-id",S),H.disabled=w.readOnly,this._setRequired(H,this.data.required),H.type="checkbox",H.name=w.fieldName,U&&H.setAttribute("checked",!0),H.setAttribute("exportValue",w.exportValue),H.tabIndex=V,H.addEventListener("change",ie=>{const{name:ae,checked:be}=ie.target;for(const pe of this._getElementsByName(ae,S)){const we=be&&pe.exportValue===w.exportValue;pe.domElement&&(pe.domElement.checked=we),h.setValue(pe.id,{value:we})}h.setValue(S,{value:be})}),H.addEventListener("resetform",ie=>{ie.target.checked=(w.defaultFieldValue||"Off")===w.exportValue}),this.enableScripting&&this.hasJSActions&&(H.addEventListener("updatefromsandbox",ie=>{this._dispatchEventFromSandbox({value(be){be.target.checked="Off"!==be.detail.value,h.setValue(S,{value:be.target.checked})}},ie)}),this._setEventListeners(H,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ie=>ie.target.checked)),this._setBackgroundColor(H),this._setDefaultPropertiesFromJS(H),this.container.append(H),this.container}}class L extends E{constructor(h){super(h,{isRenderable:h.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const h=this.annotationStorage,w=this.data,S=w.id;let U=h.getValue(S,{value:w.fieldValue===w.buttonValue}).value;"string"==typeof U&&(U=U!==w.buttonValue,h.setValue(S,{value:U}));const H=document.createElement("input");if(Y.add(H),H.setAttribute("data-element-id",S),H.disabled=w.readOnly,this._setRequired(H,this.data.required),H.type="radio",H.name=w.fieldName,U&&H.setAttribute("checked",!0),H.tabIndex=V,H.addEventListener("change",ie=>{const{name:ae,checked:be}=ie.target;for(const pe of this._getElementsByName(ae,S))h.setValue(pe.id,{value:!1});h.setValue(S,{value:be})}),H.addEventListener("resetform",ie=>{const ae=w.defaultFieldValue;ie.target.checked=null!=ae&&ae===w.buttonValue}),this.enableScripting&&this.hasJSActions){const ie=w.buttonValue;H.addEventListener("updatefromsandbox",ae=>{this._dispatchEventFromSandbox({value:pe=>{const we=ie===pe.detail.value;for(const xe of this._getElementsByName(pe.target.name)){const Se=we&&xe.id===S;xe.domElement&&(xe.domElement.checked=Se),h.setValue(xe.id,{value:Se})}}},ae)}),this._setEventListeners(H,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ae=>ae.target.checked)}return this._setBackgroundColor(H),this._setDefaultPropertiesFromJS(H),this.container.append(H),this.container}}class m extends k{constructor(h){super(h,{ignoreBorder:h.data.hasAppearance})}render(){const h=super.render();h.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(h.title=this.data.alternativeText);const w=h.lastChild;return this.enableScripting&&this.hasJSActions&&w&&(this._setDefaultPropertiesFromJS(w),w.addEventListener("updatefromsandbox",S=>{this._dispatchEventFromSandbox({},S)})),h}}class d extends E{constructor(h){super(h,{isRenderable:h.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const h=this.annotationStorage,w=this.data.id,S=h.getValue(w,{value:this.data.fieldValue}),U=document.createElement("select");Y.add(U),U.setAttribute("data-element-id",w),U.disabled=this.data.readOnly,this._setRequired(U,this.data.required),U.name=this.data.fieldName,U.tabIndex=V;let H=this.data.combo&&this.data.options.length>0;this.data.combo||(U.size=this.data.options.length,this.data.multiSelect&&(U.multiple=!0)),U.addEventListener("resetform",pe=>{const we=this.data.defaultFieldValue;for(const xe of U.options)xe.selected=xe.value===we});for(const pe of this.data.options){const we=document.createElement("option");we.textContent=pe.displayValue,we.value=pe.exportValue,S.value.includes(pe.exportValue)&&(we.setAttribute("selected",!0),H=!1),U.append(we)}let ie=null;if(H){const pe=document.createElement("option");pe.value=" ",pe.setAttribute("hidden",!0),pe.setAttribute("selected",!0),U.prepend(pe),ie=()=>{pe.remove(),U.removeEventListener("input",ie),ie=null},U.addEventListener("input",ie)}const ae=(pe,we)=>{const xe=we?"value":"textContent",Se=pe.target.options;return pe.target.multiple?Array.prototype.filter.call(Se,Ie=>Ie.selected).map(Ie=>Ie[xe]):-1===Se.selectedIndex?null:Se[Se.selectedIndex][xe]},be=pe=>Array.prototype.map.call(pe.target.options,xe=>({displayValue:xe.textContent,exportValue:xe.value}));return this.enableScripting&&this.hasJSActions?(U.addEventListener("updatefromsandbox",pe=>{this._dispatchEventFromSandbox({value(xe){ie?.();const Se=xe.detail.value,Ie=new Set(Array.isArray(Se)?Se:[Se]);for(const Oe of U.options)Oe.selected=Ie.has(Oe.value);h.setValue(w,{value:ae(xe,!0)})},multipleSelection(xe){U.multiple=!0},remove(xe){const Se=U.options,Ie=xe.detail.remove;Se[Ie].selected=!1,U.remove(Ie),Se.length>0&&-1===Array.prototype.findIndex.call(Se,ke=>ke.selected)&&(Se[0].selected=!0),h.setValue(w,{value:ae(xe,!0),items:be(xe)})},clear(xe){for(;0!==U.length;)U.remove(0);h.setValue(w,{value:null,items:[]})},insert(xe){const{index:Se,displayValue:Ie,exportValue:Oe}=xe.detail.insert,ke=U.children[Se],me=document.createElement("option");me.textContent=Ie,me.value=Oe,ke?ke.before(me):U.append(me),h.setValue(w,{value:ae(xe,!0),items:be(xe)})},items(xe){const{items:Se}=xe.detail;for(;0!==U.length;)U.remove(0);for(const Ie of Se){const{displayValue:Oe,exportValue:ke}=Ie,me=document.createElement("option");me.textContent=Oe,me.value=ke,U.append(me)}U.options.length>0&&(U.options[0].selected=!0),h.setValue(w,{value:ae(xe,!0),items:be(xe)})},indices(xe){const Se=new Set(xe.detail.indices);for(const Ie of xe.target.options)Ie.selected=Se.has(Ie.index);h.setValue(w,{value:ae(xe,!0)})},editable(xe){xe.target.disabled=!xe.detail.editable}},pe)}),U.addEventListener("input",pe=>{const we=ae(pe,!0),xe=ae(pe,!1);h.setValue(w,{value:we}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:xe,changeEx:we,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(U,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],pe=>pe.target.checked)):U.addEventListener("input",function(pe){h.setValue(w,{value:ae(pe,!0)})}),this.data.combo&&this._setTextStyle(U),this._setBackgroundColor(U),this._setDefaultPropertiesFromJS(U),this.container.append(U),this.container}}class u extends N{constructor(h){super(h,{isRenderable:!!(h.data.titleObj?.str||h.data.contentsObj?.str||h.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const S=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===S.length)return this.container;const U=new v({container:this.container,trigger:Array.from(S),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),H=this.page,ie=f.Util.normalizeRect([this.data.parentRect[0],H.view[3]-this.data.parentRect[1]+H.view[1],this.data.parentRect[2],H.view[3]-this.data.parentRect[3]+H.view[1]]),ae=ie[0]+this.data.parentRect[2]-this.data.parentRect[0],be=ie[1],[pe,we,xe,Se]=this.viewport.viewBox,Oe=Se-we;return this.container.style.left=100*(ae-pe)/(xe-pe)+"%",this.container.style.top=100*(be-we)/Oe+"%",this.container.append(U.render()),this.container}}class v{constructor(h){this.container=h.container,this.trigger=h.trigger,this.color=h.color,this.titleObj=h.titleObj,this.modificationDate=h.modificationDate,this.contentsObj=h.contentsObj,this.richText=h.richText,this.hideWrapper=h.hideWrapper||!1,this.pinned=!1}render(){const w=document.createElement("div");w.className="popupWrapper",this.hideElement=this.hideWrapper?w:this.container,this.hideElement.hidden=!0;const S=document.createElement("div");S.className="popup";const U=this.color;U&&(S.style.backgroundColor=f.Util.makeHexColor(0|.7*(255-U[0])+U[0],0|.7*(255-U[1])+U[1],0|.7*(255-U[2])+U[2]));const H=document.createElement("h1");H.dir=this.titleObj.dir,H.textContent=this.titleObj.str,S.append(H);const ie=A.PDFDateString.toDateObject(this.modificationDate);if(ie){const ae=document.createElement("span");ae.className="popupDate",ae.textContent="{{date}}, {{time}}",ae.dataset.l10nId="annotation_date_string",ae.dataset.l10nArgs=JSON.stringify({date:ie.toLocaleDateString(),time:ie.toLocaleTimeString()}),S.append(ae)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const ae=this._formatContents(this.contentsObj);S.append(ae)}else le.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:S}),S.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const ae of this.trigger)ae.addEventListener("click",this._toggle.bind(this)),ae.addEventListener("mouseover",this._show.bind(this,!1)),ae.addEventListener("mouseout",this._hide.bind(this,!1));return S.addEventListener("click",this._hide.bind(this,!0)),w.append(S),w}_formatContents({str:h,dir:w}){const S=document.createElement("p");S.className="popupContent",S.dir=w;const U=h.split(/(?:\r\n?|\n)/);for(let H=0,ie=U.length;H<ie;++H)S.append(document.createTextNode(U[H])),H<ie-1&&S.append(document.createElement("br"));return S}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(h=!1){h&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(h=!0){h&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class D extends N{constructor(h){super(h,{isRenderable:!!(h.data.hasPopup||h.data.titleObj?.str||h.data.contentsObj?.str||h.data.richText?.str),ignoreBorder:!0}),this.textContent=h.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const h=document.createElement("div");h.className="annotationTextContent",h.setAttribute("role","comment");for(const w of this.textContent){const S=document.createElement("span");S.textContent=w,h.append(S)}this.container.append(h)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class R extends N{constructor(h){super(h,{isRenderable:!!(h.data.hasPopup||h.data.titleObj?.str||h.data.contentsObj?.str||h.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const h=this.data,{width:w,height:S}=ne(h.rect),U=this.svgFactory.create(w,S,!0),H=this.svgFactory.createElement("svg:line");return H.setAttribute("x1",h.rect[2]-h.lineCoordinates[0]),H.setAttribute("y1",h.rect[3]-h.lineCoordinates[1]),H.setAttribute("x2",h.rect[2]-h.lineCoordinates[2]),H.setAttribute("y2",h.rect[3]-h.lineCoordinates[3]),H.setAttribute("stroke-width",h.borderStyle.width||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),U.append(H),this.container.append(U),this._createPopup(H,h),this.container}}class M extends N{constructor(h){super(h,{isRenderable:!!(h.data.hasPopup||h.data.titleObj?.str||h.data.contentsObj?.str||h.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const h=this.data,{width:w,height:S}=ne(h.rect),U=this.svgFactory.create(w,S,!0),H=h.borderStyle.width,ie=this.svgFactory.createElement("svg:rect");return ie.setAttribute("x",H/2),ie.setAttribute("y",H/2),ie.setAttribute("width",w-H),ie.setAttribute("height",S-H),ie.setAttribute("stroke-width",H||1),ie.setAttribute("stroke","transparent"),ie.setAttribute("fill","transparent"),U.append(ie),this.container.append(U),this._createPopup(ie,h),this.container}}class _ extends N{constructor(h){super(h,{isRenderable:!!(h.data.hasPopup||h.data.titleObj?.str||h.data.contentsObj?.str||h.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const h=this.data,{width:w,height:S}=ne(h.rect),U=this.svgFactory.create(w,S,!0),H=h.borderStyle.width,ie=this.svgFactory.createElement("svg:ellipse");return ie.setAttribute("cx",w/2),ie.setAttribute("cy",S/2),ie.setAttribute("rx",w/2-H/2),ie.setAttribute("ry",S/2-H/2),ie.setAttribute("stroke-width",H||1),ie.setAttribute("stroke","transparent"),ie.setAttribute("fill","transparent"),U.append(ie),this.container.append(U),this._createPopup(ie,h),this.container}}class P extends N{constructor(h){super(h,{isRenderable:!!(h.data.hasPopup||h.data.titleObj?.str||h.data.contentsObj?.str||h.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const h=this.data,{width:w,height:S}=ne(h.rect),U=this.svgFactory.create(w,S,!0);let H=[];for(const ae of h.vertices)H.push(ae.x-h.rect[0]+","+(h.rect[3]-ae.y));H=H.join(" ");const ie=this.svgFactory.createElement(this.svgElementName);return ie.setAttribute("points",H),ie.setAttribute("stroke-width",h.borderStyle.width||1),ie.setAttribute("stroke","transparent"),ie.setAttribute("fill","transparent"),U.append(ie),this.container.append(U),this._createPopup(ie,h),this.container}}class q extends P{constructor(h){super(h),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class W extends N{constructor(h){super(h,{isRenderable:!!(h.data.hasPopup||h.data.titleObj?.str||h.data.contentsObj?.str||h.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ee extends N{constructor(h){super(h,{isRenderable:!!(h.data.hasPopup||h.data.titleObj?.str||h.data.contentsObj?.str||h.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const h=this.data,{width:w,height:S}=ne(h.rect),U=this.svgFactory.create(w,S,!0);for(const H of h.inkLists){let ie=[];for(const be of H)ie.push(`${be.x-h.rect[0]},${h.rect[3]-be.y}`);ie=ie.join(" ");const ae=this.svgFactory.createElement(this.svgElementName);ae.setAttribute("points",ie),ae.setAttribute("stroke-width",h.borderStyle.width||1),ae.setAttribute("stroke","transparent"),ae.setAttribute("fill","transparent"),this._createPopup(ae,h),U.append(ae)}return this.container.append(U),this.container}}class Q extends N{constructor(h){super(h,{isRenderable:!!(h.data.hasPopup||h.data.titleObj?.str||h.data.contentsObj?.str||h.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Z extends N{constructor(h){super(h,{isRenderable:!!(h.data.hasPopup||h.data.titleObj?.str||h.data.contentsObj?.str||h.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class re extends N{constructor(h){super(h,{isRenderable:!!(h.data.hasPopup||h.data.titleObj?.str||h.data.contentsObj?.str||h.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class de extends N{constructor(h){super(h,{isRenderable:!!(h.data.hasPopup||h.data.titleObj?.str||h.data.contentsObj?.str||h.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class ye extends N{constructor(h){super(h,{isRenderable:!!(h.data.hasPopup||h.data.titleObj?.str||h.data.contentsObj?.str||h.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class J extends N{constructor(h){super(h,{isRenderable:!0});const{filename:w,content:S}=this.data.file;this.filename=(0,A.getFilenameFromUrl)(w),this.content=S,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:w,content:S})}render(){this.container.className="fileAttachmentAnnotation";const h=document.createElement("div");return h.className="popupTriggerArea",h.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(h,this.data),this.container.append(h),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class C{static render(h){const{annotations:w,div:S,viewport:U,accessibilityManager:H}=h;_classStaticPrivateMethodGet(this,C,O).call(this,S,U);let ie=0;for(const ae of w){if(ae.annotationType!==f.AnnotationType.POPUP){const{width:pe,height:we}=ne(ae.rect);if(pe<=0||we<=0)continue}const be=X.create({data:ae,layer:S,page:h.page,viewport:U,linkService:h.linkService,downloadManager:h.downloadManager,imageResourcesPath:h.imageResourcesPath||"",renderForms:!1!==h.renderForms,svgFactory:new A.DOMSVGFactory,annotationStorage:h.annotationStorage||new j.AnnotationStorage,enableScripting:h.enableScripting,hasJSActions:h.hasJSActions,fieldObjects:h.fieldObjects,mouseState:h.mouseState||{isDown:!1}});if(be.isRenderable){const pe=be.render();if(ae.hidden&&(pe.style.visibility="hidden"),Array.isArray(pe))for(const we of pe)we.style.zIndex=ie++,_classStaticPrivateMethodGet(C,C,y).call(C,we,ae.id,S,H);else pe.style.zIndex=ie++,be instanceof u?S.prepend(pe):_classStaticPrivateMethodGet(C,C,y).call(C,pe,ae.id,S,H)}}_classStaticPrivateMethodGet(this,C,G).call(this,S,h.annotationCanvasMap)}static update(h){const{annotationCanvasMap:w,div:S,viewport:U}=h;_classStaticPrivateMethodGet(this,C,O).call(this,S,U),_classStaticPrivateMethodGet(this,C,G).call(this,S,w),S.hidden=!1}}function y(x,h,w,S){const U=x.firstChild||x;U.id=`${A.AnnotationPrefix}${h}`,w.append(x),S?.moveElementInDOM(w,x,U,!1)}function O(x,{width:h,height:w,rotation:S}){const{style:U}=x,H=S%180!=0,ie=Math.floor(h)+"px",ae=Math.floor(w)+"px";U.width=H?ae:ie,U.height=H?ie:ae,x.setAttribute("data-main-rotation",S)}function G(x,h){if(h){for(const[w,S]of h){const U=x.querySelector(`[data-annotation-id="${w}"]`);if(!U)continue;const{firstChild:H}=U;H?"CANVAS"===H.nodeName?H.replaceWith(S):H.before(S):U.append(S)}h.clear()}}g.AnnotationLayer=C},(ue,g)=>{function z(A){return Math.floor(255*Math.max(0,Math.min(1,A))).toString(16).padStart(2,"0")}Object.defineProperty(g,"__esModule",{value:!0}),g.ColorConverters=void 0,g.ColorConverters=class f{static CMYK_G([j,$,le,V]){return["G",1-Math.min(1,.3*j+.59*le+.11*$+V)]}static G_CMYK([j]){return["CMYK",0,0,0,1-j]}static G_RGB([j]){return["RGB",j,j,j]}static G_HTML([j]){const $=z(j);return`#${$}${$}${$}`}static RGB_G([j,$,le]){return["G",.3*j+.59*$+.11*le]}static RGB_HTML([j,$,le]){return`#${z(j)}${z($)}${z(le)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([j,$,le,V]){return["RGB",1-Math.min(1,j+V),1-Math.min(1,le+V),1-Math.min(1,$+V)]}static CMYK_HTML(j){const $=this.CMYK_RGB(j).slice(1);return this.RGB_HTML($)}static RGB_CMYK([j,$,le]){const V=1-j,B=1-$,Y=1-le;return["CMYK",V,B,Y,Math.min(V,B,Y)]}}},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.XfaLayer=void 0;var f=z(20);g.XfaLayer=class A{static setupStorage($,le,V,B,Y){const ne=B.getValue(le,{value:null});switch(V.name){case"textarea":if(null!==ne.value&&($.textContent=ne.value),"print"===Y)break;$.addEventListener("input",X=>{B.setValue(le,{value:X.target.value})});break;case"input":if("radio"===V.attributes.type||"checkbox"===V.attributes.type){if(ne.value===V.attributes.xfaOn?$.setAttribute("checked",!0):ne.value===V.attributes.xfaOff&&$.removeAttribute("checked"),"print"===Y)break;$.addEventListener("change",X=>{B.setValue(le,{value:X.target.getAttribute(X.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==ne.value&&$.setAttribute("value",ne.value),"print"===Y)break;$.addEventListener("input",X=>{B.setValue(le,{value:X.target.value})})}break;case"select":if(null!==ne.value)for(const X of V.children)X.attributes.value===ne.value&&(X.attributes.selected=!0);$.addEventListener("input",X=>{const N=X.target.options;B.setValue(le,{value:-1===N.selectedIndex?"":N[N.selectedIndex].value})})}}static setAttributes({html:$,element:le,storage:V=null,intent:B,linkService:Y}){const{attributes:ne}=le,X=$ instanceof HTMLAnchorElement;"radio"===ne.type&&(ne.name=`${ne.name}-${B}`);for(const[N,k]of Object.entries(ne))if(null!=k)switch(N){case"class":k.length&&$.setAttribute(N,k.join(" "));break;case"dataId":break;case"id":$.setAttribute("data-element-id",k);break;case"style":Object.assign($.style,k);break;case"textContent":$.textContent=k;break;default:(!X||"href"!==N&&"newWindow"!==N)&&$.setAttribute(N,k)}X&&Y.addLinkAttributes($,ne.href,ne.newWindow),V&&ne.dataId&&this.setupStorage($,ne.dataId,le,V)}static render($){const le=$.annotationStorage,V=$.linkService,B=$.xfaHtml,Y=$.intent||"display",ne=document.createElement(B.name);B.attributes&&this.setAttributes({html:ne,element:B,intent:Y,linkService:V});const X=[[B,-1,ne]],N=$.div;if(N.append(ne),$.viewport){const p=`matrix(${$.viewport.transform.join(",")})`;N.style.transform=p}"richText"!==Y&&N.setAttribute("class","xfaLayer xfaFont");const k=[];for(;X.length>0;){const[p,E,T]=X.at(-1);if(E+1===p.children.length){X.pop();continue}const I=p.children[++X.at(-1)[1]];if(null===I)continue;const{name:L}=I;if("#text"===L){const d=document.createTextNode(I.value);k.push(d),T.append(d);continue}let m;if(m=I?.attributes?.xmlns?document.createElementNS(I.attributes.xmlns,L):document.createElement(L),T.append(m),I.attributes&&this.setAttributes({html:m,element:I,storage:le,intent:Y,linkService:V}),I.children&&I.children.length>0)X.push([I,-1,m]);else if(I.value){const d=document.createTextNode(I.value);f.XfaText.shouldBuildText(L)&&k.push(d),m.append(d)}}for(const p of N.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:k}}static update($){const le=`matrix(${$.viewport.transform.join(",")})`;$.div.style.transform=le,$.div.hidden=!1}}},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.TextLayerRenderTask=void 0,g.renderTextLayer=function I(L){const m=new T({textContent:L.textContent,textContentStream:L.textContentStream,container:L.container,viewport:L.viewport,textDivs:L.textDivs,textContentItemsStr:L.textContentItemsStr,enhanceTextSelection:L.enhanceTextSelection});return m._render(L.timeout),m};var f=z(1),A=z(8);const $=30,V=new Map,B=/^\s+$/g;function ne(L,m,d,u){const v=document.createElement("span"),D=L._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==m.str,hasEOL:m.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:""!==m.str,hasEOL:m.hasEOL,fontSize:0};L._textDivs.push(v);const R=f.Util.transform(L._viewport.transform,m.transform);let M=Math.atan2(R[1],R[0]);const _=d[m.fontName];_.vertical&&(M+=Math.PI/2);const P=Math.hypot(R[2],R[3]),q=P*function Y(L,m){const d=V.get(L);if(d)return d;m.save(),m.font=`30px ${L}`;const u=m.measureText("");let v=u.fontBoundingBoxAscent,D=Math.abs(u.fontBoundingBoxDescent);if(v){m.restore();const M=v/(v+D);return V.set(L,M),M}m.strokeStyle="red",m.clearRect(0,0,$,$),m.strokeText("g",0,0);let R=m.getImageData(0,0,$,$).data;D=0;for(let M=R.length-1-3;M>=0;M-=4)if(R[M]>0){D=Math.ceil(M/4/$);break}m.clearRect(0,0,$,$),m.strokeText("A",0,$),R=m.getImageData(0,0,$,$).data,v=0;for(let M=0,_=R.length;M<_;M+=4)if(R[M]>0){v=$-Math.floor(M/4/$);break}if(m.restore(),v){const M=v/(v+D);return V.set(L,M),M}return V.set(L,.8),.8}(_.fontFamily,u);let W,ee;0===M?(W=R[4],ee=R[5]-q):(W=R[4]+q*Math.sin(M),ee=R[5]-q*Math.cos(M)),v.style.left=`${W}px`,v.style.top=`${ee}px`,v.style.fontSize=`${P}px`,v.style.fontFamily=_.fontFamily,D.fontSize=P,v.setAttribute("role","presentation"),v.textContent=m.str,v.dir=m.dir,L._fontInspectorEnabled&&(v.dataset.fontName=m.fontName),0!==M&&(D.angle=M*(180/Math.PI));let Q=!1;if(m.str.length>1||L._enhanceTextSelection&&B.test(m.str))Q=!0;else if(" "!==m.str&&m.transform[0]!==m.transform[3]){const Z=Math.abs(m.transform[0]),re=Math.abs(m.transform[3]);Z!==re&&Math.max(Z,re)/Math.min(Z,re)>1.5&&(Q=!0)}if(Q&&(D.canvasWidth=_.vertical?m.height*L._viewport.scale:m.width*L._viewport.scale),L._textDivProperties.set(v,D),L._textContentStream&&L._layoutText(v),L._enhanceTextSelection&&D.hasText){let Z=1,re=0;0!==M&&(Z=Math.cos(M),re=Math.sin(M));const de=(_.vertical?m.height:m.width)*L._viewport.scale,ye=P;let J,C;0!==M?(J=[Z,re,-re,Z,W,ee],C=f.Util.getAxialAlignedBoundingBox([0,0,de,ye],J)):C=[W,ee,W+de,ee+ye],L._bounds.push({left:C[0],top:C[1],right:C[2],bottom:C[3],div:v,size:[de,ye],m:J})}}function X(L){if(L._canceled)return;const m=L._textDivs,d=L._capability,u=m.length;if(u>1e5)return L._renderingDone=!0,void d.resolve();if(!L._textContentStream)for(let v=0;v<u;v++)L._layoutText(m[v]);L._renderingDone=!0,d.resolve()}function N(L,m,d){let u=0;for(let v=0;v<d;v++){const D=L[m++];D>0&&(u=u?Math.min(D,u):D)}return u}function E(L,m){m.sort(function(v,D){return v.x1-D.x1||v.index-D.index});const u=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const v of m){let D=0;for(;D<u.length&&u[D].end<=v.y1;)D++;let R=u.length-1;for(;R>=0&&u[R].start>=v.y2;)R--;let M,_,P,q,W=-1/0;for(P=D;P<=R;P++){let Z;M=u[P],_=M.boundary,Z=_.x2>v.x1?_.index>v.index?_.x1New:v.x1:void 0===_.x2New?(_.x2+v.x1)/2:_.x2New,Z>W&&(W=Z)}for(v.x1New=W,P=D;P<=R;P++)M=u[P],_=M.boundary,void 0===_.x2New?_.x2>v.x1?_.index>v.index&&(_.x2New=_.x2):_.x2New=W:_.x2New>W&&(_.x2New=Math.max(W,_.x2));const ee=[];let Q=null;for(P=D;P<=R;P++){M=u[P],_=M.boundary;const Z=_.x2>v.x2?_:v;Q===Z?ee.at(-1).end=M.end:(ee.push({start:M.start,end:M.end,boundary:Z}),Q=Z)}for(u[D].start<v.y1&&(ee[0].start=v.y1,ee.unshift({start:u[D].start,end:v.y1,boundary:u[D].boundary})),v.y2<u[R].end&&(ee.at(-1).end=v.y2,ee.push({start:v.y2,end:u[R].end,boundary:u[R].boundary})),P=D;P<=R;P++){if(M=u[P],_=M.boundary,void 0!==_.x2New)continue;let Z=!1;for(q=D-1;!Z&&q>=0&&u[q].start>=_.y1;q--)Z=u[q].boundary===_;for(q=R+1;!Z&&q<u.length&&u[q].end<=_.y2;q++)Z=u[q].boundary===_;for(q=0;!Z&&q<ee.length;q++)Z=ee[q].boundary===_;Z||(_.x2New=W)}Array.prototype.splice.apply(u,[D,R-D+1,...ee])}for(const v of u){const D=v.boundary;void 0===D.x2New&&(D.x2New=Math.max(L,D.x2))}}class T{constructor({textContent:m,textContentStream:d,container:u,viewport:v,textDivs:D,textContentItemsStr:R,enhanceTextSelection:M}){M&&(0,A.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=m,this._textContentStream=d,this._container=u,this._document=u.ownerDocument,this._viewport=v,this._textDivs=D||[],this._textContentItemsStr=R||[],this._enhanceTextSelection=!!M,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,f.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new f.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(m,d){for(let u=0,v=m.length;u<v;u++)if(void 0!==m[u].str)this._textContentItemsStr.push(m[u].str),ne(this,m[u],d,this._layoutTextCtx);else if("beginMarkedContentProps"===m[u].type||"beginMarkedContent"===m[u].type){const D=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==m[u].id&&this._container.setAttribute("id",`${m[u].id}`),D.append(this._container)}else"endMarkedContent"===m[u].type&&(this._container=this._container.parentNode)}_layoutText(m){const d=this._textDivProperties.get(m);let u="";if(0!==d.canvasWidth&&d.hasText){const{fontFamily:v}=m.style,{fontSize:D}=d;(D!==this._layoutTextLastFontSize||v!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${D*this._devicePixelRatio}px ${v}`,this._layoutTextLastFontSize=D,this._layoutTextLastFontFamily=v);const{width:R}=this._layoutTextCtx.measureText(m.textContent);if(R>0){const M=this._devicePixelRatio*d.canvasWidth/R;this._enhanceTextSelection&&(d.scale=M),u=`scaleX(${M})`}}if(0!==d.angle&&(u=`rotate(${d.angle}deg) ${u}`),u.length>0&&(this._enhanceTextSelection&&(d.originalTransform=u),m.style.transform=u),d.hasText&&this._container.append(m),d.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),this._container.append(v)}}_render(m=0){const d=(0,f.createPromiseCapability)();let u=Object.create(null);const v=this._document.createElement("canvas");if(v.height=v.width=$,this._layoutTextCtx=v.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),d.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const D=()=>{this._reader.read().then(({value:R,done:M})=>{M?d.resolve():(Object.assign(u,R.styles),this._processItems(R.items,u),D())},d.reject)};this._reader=this._textContentStream.getReader(),D()}}d.promise.then(()=>{u=null,m?this._renderTimer=setTimeout(()=>{X(this),this._renderTimer=null},m):X(this)},this._capability.reject)}expandTextDivs(m=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function k(L){const m=L._bounds,d=L._viewport,u=function p(L,m,d){const u=d.map(function(D,R){return{x1:D.left,y1:D.top,x2:D.right,y2:D.bottom,index:R,x1New:void 0,x2New:void 0}});E(L,u);const v=new Array(d.length);for(const D of u)v[D.index]={left:D.x1New,top:0,right:D.x2New,bottom:0};d.map(function(D,R){const M=v[R],_=u[R];_.x1=D.top,_.y1=L-M.right,_.x2=D.bottom,_.y2=L-M.left,_.index=R,_.x1New=void 0,_.x2New=void 0}),E(m,u);for(const D of u){const R=D.index;v[R].top=D.x1New,v[R].bottom=D.x2New}return v}(d.width,d.height,m);for(let v=0;v<u.length;v++){const D=m[v].div,R=L._textDivProperties.get(D);if(0===R.angle){R.paddingLeft=m[v].left-u[v].left,R.paddingTop=m[v].top-u[v].top,R.paddingRight=u[v].right-m[v].right,R.paddingBottom=u[v].bottom-m[v].bottom,L._textDivProperties.set(D,R);continue}const M=u[v],_=m[v],P=_.m,q=P[0],W=P[1],ee=[[0,0],[0,_.size[1]],[_.size[0],0],_.size],Q=new Float64Array(64);for(let re=0,de=ee.length;re<de;re++){const ye=f.Util.applyTransform(ee[re],P);Q[re+0]=q&&(M.left-ye[0])/q,Q[re+4]=W&&(M.top-ye[1])/W,Q[re+8]=q&&(M.right-ye[0])/q,Q[re+12]=W&&(M.bottom-ye[1])/W,Q[re+16]=W&&(M.left-ye[0])/-W,Q[re+20]=q&&(M.top-ye[1])/q,Q[re+24]=W&&(M.right-ye[0])/-W,Q[re+28]=q&&(M.bottom-ye[1])/q,Q[re+32]=q&&(M.left-ye[0])/-q,Q[re+36]=W&&(M.top-ye[1])/-W,Q[re+40]=q&&(M.right-ye[0])/-q,Q[re+44]=W&&(M.bottom-ye[1])/-W,Q[re+48]=W&&(M.left-ye[0])/W,Q[re+52]=q&&(M.top-ye[1])/-q,Q[re+56]=W&&(M.right-ye[0])/W,Q[re+60]=q&&(M.bottom-ye[1])/-q}const Z=1+Math.min(Math.abs(q),Math.abs(W));R.paddingLeft=N(Q,32,16)/Z,R.paddingTop=N(Q,48,16)/Z,R.paddingRight=N(Q,0,16)/Z,R.paddingBottom=N(Q,16,16)/Z,L._textDivProperties.set(D,R)}}(this),this._bounds=null);const d=[],u=[];for(let v=0,D=this._textDivs.length;v<D;v++){const R=this._textDivs[v],M=this._textDivProperties.get(R);M.hasText&&(m?(d.length=0,u.length=0,M.originalTransform&&d.push(M.originalTransform),M.paddingTop>0?(u.push(`${M.paddingTop}px`),d.push(`translateY(${-M.paddingTop}px)`)):u.push(0),u.push(M.paddingRight>0?M.paddingRight/M.scale+"px":0),u.push(M.paddingBottom>0?`${M.paddingBottom}px`:0),M.paddingLeft>0?(u.push(M.paddingLeft/M.scale+"px"),d.push(`translateX(${-M.paddingLeft/M.scale}px)`)):u.push(0),R.style.padding=u.join(" "),d.length&&(R.style.transform=d.join(" "))):(R.style.padding=null,R.style.transform=M.originalTransform))}}}g.TextLayerRenderTask=T},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.SVGGraphics=void 0;var f=z(8),A=z(1),j=z(3);let $=class{constructor(){(0,A.unreachable)("Not implemented: SVGGraphics")}};g.SVGGraphics=$;{let p=function(d){let u=[];const v=[];for(const D of d)"save"!==D.fn?"restore"===D.fn?u=v.pop():u.push(D):(u.push({fnId:92,fn:"group",items:[]}),v.push(u),u=u.at(-1).items);return u},E=function(d){if(Number.isInteger(d))return d.toString();const u=d.toFixed(10);let v=u.length-1;if("0"!==u[v])return u;do{v--}while("0"===u[v]);return u.substring(0,"."===u[v]?v:v+1)},T=function(d){if(0===d[4]&&0===d[5]){if(0===d[1]&&0===d[2])return 1===d[0]&&1===d[3]?"":`scale(${E(d[0])} ${E(d[3])})`;if(d[0]===d[3]&&d[1]===-d[2]){const u=180*Math.acos(d[0])/Math.PI;return`rotate(${E(u)})`}}else if(1===d[0]&&0===d[1]&&0===d[2]&&1===d[3])return`translate(${E(d[4])} ${E(d[5])})`;return`matrix(${E(d[0])} ${E(d[1])} ${E(d[2])} ${E(d[3])} ${E(d[4])} ${E(d[5])})`};const le={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},V="http://www.w3.org/XML/1998/namespace",B="http://www.w3.org/1999/xlink",Y=["butt","round","square"],ne=["miter","round","bevel"],X=function(d,u="",v=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!v)return URL.createObjectURL(new Blob([d],{type:u}));const D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let R=`data:${u};base64,`;for(let M=0,_=d.length;M<_;M+=3){const P=255&d[M],q=255&d[M+1],W=255&d[M+2];R+=D[P>>2]+D[(3&P)<<4|q>>4]+D[M+1<_?(15&q)<<2|W>>6:64]+D[M+2<_?63&W:64]}return R},N=function(){const d=new Uint8Array([137,80,78,71,13,10,26,10]),v=new Int32Array(256);for(let W=0;W<256;W++){let ee=W;for(let Q=0;Q<8;Q++)ee=1&ee?3988292384^ee>>1&2147483647:ee>>1&2147483647;v[W]=ee}function R(W,ee,Q,Z){let re=Z;const de=ee.length;Q[re]=de>>24&255,Q[re+1]=de>>16&255,Q[re+2]=de>>8&255,Q[re+3]=255&de,re+=4,Q[re]=255&W.charCodeAt(0),Q[re+1]=255&W.charCodeAt(1),Q[re+2]=255&W.charCodeAt(2),Q[re+3]=255&W.charCodeAt(3),re+=4,Q.set(ee,re),re+=ee.length;const ye=function D(W,ee,Q){let Z=-1;for(let re=ee;re<Q;re++)Z=Z>>>8^v[255&(Z^W[re])];return-1^Z}(Q,Z+4,re);Q[re]=ye>>24&255,Q[re+1]=ye>>16&255,Q[re+2]=ye>>8&255,Q[re+3]=255&ye}function P(W){let ee=W.length;const Q=65535,Z=Math.ceil(ee/Q),re=new Uint8Array(2+ee+5*Z+4);let de=0;re[de++]=120,re[de++]=156;let ye=0;for(;ee>Q;)re[de++]=0,re[de++]=255,re[de++]=255,re[de++]=0,re[de++]=0,re.set(W.subarray(ye,ye+Q),de),de+=Q,ye+=Q,ee-=Q;re[de++]=1,re[de++]=255&ee,re[de++]=ee>>8&255,re[de++]=255&~ee,re[de++]=(65535&~ee)>>8&255,re.set(W.subarray(ye),de),de+=W.length-ye;const J=function M(W,ee,Q){let Z=1,re=0;for(let de=ee;de<Q;++de)Z=(Z+(255&W[de]))%65521,re=(re+Z)%65521;return re<<16|Z}(W,0,W.length);return re[de++]=J>>24&255,re[de++]=J>>16&255,re[de++]=J>>8&255,re[de++]=255&J,re}return function(ee,Q,Z){return function q(W,ee,Q,Z){const re=W.width,de=W.height;let ye,J,C;const y=W.data;switch(ee){case A.ImageKind.GRAYSCALE_1BPP:J=0,ye=1,C=re+7>>3;break;case A.ImageKind.RGB_24BPP:J=2,ye=8,C=3*re;break;case A.ImageKind.RGBA_32BPP:J=6,ye=8,C=4*re;break;default:throw new Error("invalid format")}const O=new Uint8Array((1+C)*de);let G=0,x=0;for(let ie=0;ie<de;++ie)O[G++]=0,O.set(y.subarray(x,x+C),G),x+=C,G+=C;if(ee===A.ImageKind.GRAYSCALE_1BPP&&Z){G=0;for(let ie=0;ie<de;ie++){G++;for(let ae=0;ae<C;ae++)O[G++]^=255}}const h=new Uint8Array([re>>24&255,re>>16&255,re>>8&255,255&re,de>>24&255,de>>16&255,de>>8&255,255&de,ye,J,0,0,0]),w=function _(W){if(!j.isNodeJS)return P(W);try{let ee;ee=parseInt(process.versions.node)>=8?W:Buffer.from(W);const Q=__webpack_require__(258).deflateSync(ee,{level:9});return Q instanceof Uint8Array?Q:new Uint8Array(Q)}catch(ee){(0,A.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ee)}return P(W)}(O),U=new Uint8Array(d.length+36+h.length+w.length);let H=0;return U.set(d,H),H+=d.length,R("IHDR",h,U,H),H+=12+h.length,R("IDATA",w,U,H),H+=12+w.length,R("IEND",new Uint8Array(0),U,H),X(U,"image/png",Q)}(ee,void 0===ee.kind?A.ImageKind.GRAYSCALE_1BPP:ee.kind,Q,Z)}}();class k{constructor(){this.fontSizeScale=1,this.fontWeight=le.fontWeight,this.fontSize=0,this.textMatrix=A.IDENTITY_MATRIX,this.fontMatrix=A.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=A.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=le.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(u,v){this.x=u,this.y=v}}let I=0,L=0,m=0;g.SVGGraphics=$=class{constructor(d,u,v=!1){(0,f.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new f.DOMSVGFactory,this.current=new k,this.transformMatrix=A.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=d,this.objs=u,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!v,this._operatorIdMapping=[];for(const D in A.OPS)this._operatorIdMapping[A.OPS[D]]=D}save(){this.transformStack.push(this.transformMatrix);const d=this.current;this.extraStack.push(d),this.current=d.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(d){this.save(),this.executeOpTree(d),this.restore()}loadDependencies(d){const u=d.fnArray,v=d.argsArray;for(let D=0,R=u.length;D<R;D++)if(u[D]===A.OPS.dependency)for(const M of v[D]){const _=M.startsWith("g_")?this.commonObjs:this.objs,P=new Promise(q=>{_.get(M,q)});this.current.dependencies.push(P)}return Promise.all(this.current.dependencies)}transform(d,u,v,D,R,M){this.transformMatrix=A.Util.transform(this.transformMatrix,[d,u,v,D,R,M]),this.tgrp=null}getSVG(d,u){this.viewport=u;const v=this._initialize(u);return this.loadDependencies(d).then(()=>(this.transformMatrix=A.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(d)),v))}convertOpList(d){const u=this._operatorIdMapping,v=d.argsArray,D=d.fnArray,R=[];for(let M=0,_=D.length;M<_;M++){const P=D[M];R.push({fnId:P,fn:u[P],args:v[M]})}return p(R)}executeOpTree(d){for(const u of d){const v=u.fn,R=u.args;switch(0|u.fnId){case A.OPS.beginText:this.beginText();break;case A.OPS.dependency:break;case A.OPS.setLeading:this.setLeading(R);break;case A.OPS.setLeadingMoveText:this.setLeadingMoveText(R[0],R[1]);break;case A.OPS.setFont:this.setFont(R);break;case A.OPS.showText:case A.OPS.showSpacedText:this.showText(R[0]);break;case A.OPS.endText:this.endText();break;case A.OPS.moveText:this.moveText(R[0],R[1]);break;case A.OPS.setCharSpacing:this.setCharSpacing(R[0]);break;case A.OPS.setWordSpacing:this.setWordSpacing(R[0]);break;case A.OPS.setHScale:this.setHScale(R[0]);break;case A.OPS.setTextMatrix:this.setTextMatrix(R[0],R[1],R[2],R[3],R[4],R[5]);break;case A.OPS.setTextRise:this.setTextRise(R[0]);break;case A.OPS.setTextRenderingMode:this.setTextRenderingMode(R[0]);break;case A.OPS.setLineWidth:this.setLineWidth(R[0]);break;case A.OPS.setLineJoin:this.setLineJoin(R[0]);break;case A.OPS.setLineCap:this.setLineCap(R[0]);break;case A.OPS.setMiterLimit:this.setMiterLimit(R[0]);break;case A.OPS.setFillRGBColor:this.setFillRGBColor(R[0],R[1],R[2]);break;case A.OPS.setStrokeRGBColor:this.setStrokeRGBColor(R[0],R[1],R[2]);break;case A.OPS.setStrokeColorN:this.setStrokeColorN(R);break;case A.OPS.setFillColorN:this.setFillColorN(R);break;case A.OPS.shadingFill:this.shadingFill(R[0]);break;case A.OPS.setDash:this.setDash(R[0],R[1]);break;case A.OPS.setRenderingIntent:this.setRenderingIntent(R[0]);break;case A.OPS.setFlatness:this.setFlatness(R[0]);break;case A.OPS.setGState:this.setGState(R[0]);break;case A.OPS.fill:this.fill();break;case A.OPS.eoFill:this.eoFill();break;case A.OPS.stroke:this.stroke();break;case A.OPS.fillStroke:this.fillStroke();break;case A.OPS.eoFillStroke:this.eoFillStroke();break;case A.OPS.clip:this.clip("nonzero");break;case A.OPS.eoClip:this.clip("evenodd");break;case A.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case A.OPS.paintImageXObject:this.paintImageXObject(R[0]);break;case A.OPS.paintInlineImageXObject:this.paintInlineImageXObject(R[0]);break;case A.OPS.paintImageMaskXObject:this.paintImageMaskXObject(R[0]);break;case A.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(R[0],R[1]);break;case A.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case A.OPS.closePath:this.closePath();break;case A.OPS.closeStroke:this.closeStroke();break;case A.OPS.closeFillStroke:this.closeFillStroke();break;case A.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case A.OPS.nextLine:this.nextLine();break;case A.OPS.transform:this.transform(R[0],R[1],R[2],R[3],R[4],R[5]);break;case A.OPS.constructPath:this.constructPath(R[0],R[1]);break;case A.OPS.endPath:this.endPath();break;case 92:this.group(u.items);break;default:(0,A.warn)(`Unimplemented operator ${v}`)}}}setWordSpacing(d){this.current.wordSpacing=d}setCharSpacing(d){this.current.charSpacing=d}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(d,u,v,D,R,M){const _=this.current;_.textMatrix=_.lineMatrix=[d,u,v,D,R,M],_.textMatrixScale=Math.hypot(d,u),_.x=_.lineX=0,_.y=_.lineY=0,_.xcoords=[],_.ycoords=[],_.tspan=this.svgFactory.createElement("svg:tspan"),_.tspan.setAttributeNS(null,"font-family",_.fontFamily),_.tspan.setAttributeNS(null,"font-size",`${E(_.fontSize)}px`),_.tspan.setAttributeNS(null,"y",E(-_.y)),_.txtElement=this.svgFactory.createElement("svg:text"),_.txtElement.append(_.tspan)}beginText(){const d=this.current;d.x=d.lineX=0,d.y=d.lineY=0,d.textMatrix=A.IDENTITY_MATRIX,d.lineMatrix=A.IDENTITY_MATRIX,d.textMatrixScale=1,d.tspan=this.svgFactory.createElement("svg:tspan"),d.txtElement=this.svgFactory.createElement("svg:text"),d.txtgrp=this.svgFactory.createElement("svg:g"),d.xcoords=[],d.ycoords=[]}moveText(d,u){const v=this.current;v.x=v.lineX+=d,v.y=v.lineY+=u,v.xcoords=[],v.ycoords=[],v.tspan=this.svgFactory.createElement("svg:tspan"),v.tspan.setAttributeNS(null,"font-family",v.fontFamily),v.tspan.setAttributeNS(null,"font-size",`${E(v.fontSize)}px`),v.tspan.setAttributeNS(null,"y",E(-v.y))}showText(d){const u=this.current,v=u.font,D=u.fontSize;if(0===D)return;const R=u.fontSizeScale,M=u.charSpacing,_=u.wordSpacing,P=u.fontDirection,q=u.textHScale*P,W=v.vertical,ee=W?1:-1,Q=v.defaultVMetrics,Z=D*u.fontMatrix[0];let re=0;for(const J of d){if(null===J){re+=P*_;continue}if("number"==typeof J){re+=ee*J*D/1e3;continue}const C=(J.isSpace?_:0)+M,y=J.fontChar;let O,G,h,x=J.width;if(W){let w;const S=J.vmetric||Q;w=J.vmetric?S[1]:.5*x,w=-w*Z,x=S?-S[0]:x,O=w/R,G=(re+S[2]*Z)/R}else O=re/R,G=0;(J.isInFont||v.missingFile)&&(u.xcoords.push(u.x+O),W&&u.ycoords.push(-u.y+G),u.tspan.textContent+=y),h=W?x*Z-C*P:x*Z+C*P,re+=h}u.tspan.setAttributeNS(null,"x",u.xcoords.map(E).join(" ")),u.tspan.setAttributeNS(null,"y",W?u.ycoords.map(E).join(" "):E(-u.y)),W?u.y-=re:u.x+=re*q,u.tspan.setAttributeNS(null,"font-family",u.fontFamily),u.tspan.setAttributeNS(null,"font-size",`${E(u.fontSize)}px`),u.fontStyle!==le.fontStyle&&u.tspan.setAttributeNS(null,"font-style",u.fontStyle),u.fontWeight!==le.fontWeight&&u.tspan.setAttributeNS(null,"font-weight",u.fontWeight);const de=u.textRenderingMode&A.TextRenderingMode.FILL_STROKE_MASK;de===A.TextRenderingMode.FILL||de===A.TextRenderingMode.FILL_STROKE?(u.fillColor!==le.fillColor&&u.tspan.setAttributeNS(null,"fill",u.fillColor),u.fillAlpha<1&&u.tspan.setAttributeNS(null,"fill-opacity",u.fillAlpha)):u.tspan.setAttributeNS(null,"fill",u.textRenderingMode===A.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(de===A.TextRenderingMode.STROKE||de===A.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(u.tspan,1/(u.textMatrixScale||1));let ye=u.textMatrix;0!==u.textRise&&(ye=ye.slice(),ye[5]+=u.textRise),u.txtElement.setAttributeNS(null,"transform",`${T(ye)} scale(${E(q)}, -1)`),u.txtElement.setAttributeNS(V,"xml:space","preserve"),u.txtElement.append(u.tspan),u.txtgrp.append(u.txtElement),this._ensureTransformGroup().append(u.txtElement)}setLeadingMoveText(d,u){this.setLeading(-u),this.moveText(d,u)}addFontStyle(d){if(!d.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const u=X(d.data,d.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${d.loadedName}"; src: url(${u}); }\n`}setFont(d){const u=this.current,v=this.commonObjs.get(d[0]);let D=d[1];u.font=v,this.embedFonts&&!v.missingFile&&!this.embeddedFonts[v.loadedName]&&(this.addFontStyle(v),this.embeddedFonts[v.loadedName]=v),u.fontMatrix=v.fontMatrix||A.FONT_IDENTITY_MATRIX;let R="normal";v.black?R="900":v.bold&&(R="bold");const M=v.italic?"italic":"normal";D<0?(D=-D,u.fontDirection=-1):u.fontDirection=1,u.fontSize=D,u.fontFamily=v.loadedName,u.fontWeight=R,u.fontStyle=M,u.tspan=this.svgFactory.createElement("svg:tspan"),u.tspan.setAttributeNS(null,"y",E(-u.y)),u.xcoords=[],u.ycoords=[]}endText(){const d=this.current;d.textRenderingMode&A.TextRenderingMode.ADD_TO_PATH_FLAG&&d.txtElement?.hasChildNodes()&&(d.element=d.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(d){d>0&&(this.current.lineWidth=d)}setLineCap(d){this.current.lineCap=Y[d]}setLineJoin(d){this.current.lineJoin=ne[d]}setMiterLimit(d){this.current.miterLimit=d}setStrokeAlpha(d){this.current.strokeAlpha=d}setStrokeRGBColor(d,u,v){this.current.strokeColor=A.Util.makeHexColor(d,u,v)}setFillAlpha(d){this.current.fillAlpha=d}setFillRGBColor(d,u,v){this.current.fillColor=A.Util.makeHexColor(d,u,v),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(d){this.current.strokeColor=this._makeColorN_Pattern(d)}setFillColorN(d){this.current.fillColor=this._makeColorN_Pattern(d)}shadingFill(d){const u=this.viewport.width,v=this.viewport.height,D=A.Util.inverseTransform(this.transformMatrix),R=A.Util.applyTransform([0,0],D),M=A.Util.applyTransform([0,v],D),_=A.Util.applyTransform([u,0],D),P=A.Util.applyTransform([u,v],D),q=Math.min(R[0],M[0],_[0],P[0]),W=Math.min(R[1],M[1],_[1],P[1]),ee=Math.max(R[0],M[0],_[0],P[0]),Q=Math.max(R[1],M[1],_[1],P[1]),Z=this.svgFactory.createElement("svg:rect");Z.setAttributeNS(null,"x",q),Z.setAttributeNS(null,"y",W),Z.setAttributeNS(null,"width",ee-q),Z.setAttributeNS(null,"height",Q-W),Z.setAttributeNS(null,"fill",this._makeShadingPattern(d)),this.current.fillAlpha<1&&Z.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Z)}_makeColorN_Pattern(d){return"TilingPattern"===d[0]?this._makeTilingPattern(d):this._makeShadingPattern(d)}_makeTilingPattern(d){const u=d[1],v=d[2],D=d[3]||A.IDENTITY_MATRIX,[R,M,_,P]=d[4],q=d[5],W=d[6],ee=d[7],Q="shading"+m++,[Z,re,de,ye]=A.Util.normalizeRect([...A.Util.applyTransform([R,M],D),...A.Util.applyTransform([_,P],D)]),[J,C]=A.Util.singularValueDecompose2dScale(D),y=q*J,O=W*C,G=this.svgFactory.createElement("svg:pattern");G.setAttributeNS(null,"id",Q),G.setAttributeNS(null,"patternUnits","userSpaceOnUse"),G.setAttributeNS(null,"width",y),G.setAttributeNS(null,"height",O),G.setAttributeNS(null,"x",`${Z}`),G.setAttributeNS(null,"y",`${re}`);const x=this.svg,h=this.transformMatrix,w=this.current.fillColor,S=this.current.strokeColor,U=this.svgFactory.create(de-Z,ye-re);if(this.svg=U,this.transformMatrix=D,2===ee){const H=A.Util.makeHexColor(...u);this.current.fillColor=H,this.current.strokeColor=H}return this.executeOpTree(this.convertOpList(v)),this.svg=x,this.transformMatrix=h,this.current.fillColor=w,this.current.strokeColor=S,G.append(U.childNodes[0]),this.defs.append(G),`url(#${Q})`}_makeShadingPattern(d){switch("string"==typeof d&&(d=this.objs.get(d)),d[0]){case"RadialAxial":const u="shading"+m++,v=d[3];let D;switch(d[1]){case"axial":const R=d[4],M=d[5];D=this.svgFactory.createElement("svg:linearGradient"),D.setAttributeNS(null,"id",u),D.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),D.setAttributeNS(null,"x1",R[0]),D.setAttributeNS(null,"y1",R[1]),D.setAttributeNS(null,"x2",M[0]),D.setAttributeNS(null,"y2",M[1]);break;case"radial":const _=d[4],P=d[5],q=d[6],W=d[7];D=this.svgFactory.createElement("svg:radialGradient"),D.setAttributeNS(null,"id",u),D.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),D.setAttributeNS(null,"cx",P[0]),D.setAttributeNS(null,"cy",P[1]),D.setAttributeNS(null,"r",W),D.setAttributeNS(null,"fx",_[0]),D.setAttributeNS(null,"fy",_[1]),D.setAttributeNS(null,"fr",q);break;default:throw new Error(`Unknown RadialAxial type: ${d[1]}`)}for(const R of v){const M=this.svgFactory.createElement("svg:stop");M.setAttributeNS(null,"offset",R[0]),M.setAttributeNS(null,"stop-color",R[1]),D.append(M)}return this.defs.append(D),`url(#${u})`;case"Mesh":return(0,A.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${d[0]}`)}}setDash(d,u){this.current.dashArray=d,this.current.dashPhase=u}constructPath(d,u){const v=this.current;let D=v.x,R=v.y,M=[],_=0;for(const P of d)switch(0|P){case A.OPS.rectangle:D=u[_++],R=u[_++];const ee=D+u[_++],Q=R+u[_++];M.push("M",E(D),E(R),"L",E(ee),E(R),"L",E(ee),E(Q),"L",E(D),E(Q),"Z");break;case A.OPS.moveTo:D=u[_++],R=u[_++],M.push("M",E(D),E(R));break;case A.OPS.lineTo:D=u[_++],R=u[_++],M.push("L",E(D),E(R));break;case A.OPS.curveTo:D=u[_+4],R=u[_+5],M.push("C",E(u[_]),E(u[_+1]),E(u[_+2]),E(u[_+3]),E(D),E(R)),_+=6;break;case A.OPS.curveTo2:M.push("C",E(D),E(R),E(u[_]),E(u[_+1]),E(u[_+2]),E(u[_+3])),D=u[_+2],R=u[_+3],_+=4;break;case A.OPS.curveTo3:D=u[_+2],R=u[_+3],M.push("C",E(u[_]),E(u[_+1]),E(D),E(R),E(D),E(R)),_+=4;break;case A.OPS.closePath:M.push("Z")}M=M.join(" "),v.path&&d.length>0&&d[0]!==A.OPS.rectangle&&d[0]!==A.OPS.moveTo?M=v.path.getAttributeNS(null,"d")+M:(v.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(v.path)),v.path.setAttributeNS(null,"d",M),v.path.setAttributeNS(null,"fill","none"),v.element=v.path,v.setCurrentPoint(D,R)}endPath(){const d=this.current;if(d.path=null,!this.pendingClip)return;if(!d.element)return void(this.pendingClip=null);const u="clippath"+I++,v=this.svgFactory.createElement("svg:clipPath");v.setAttributeNS(null,"id",u),v.setAttributeNS(null,"transform",T(this.transformMatrix));const D=d.element.cloneNode(!0);if(D.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,v.append(D),this.defs.append(v),d.activeClipUrl){d.clipGroup=null;for(const R of this.extraStack)R.clipGroup=null;v.setAttributeNS(null,"clip-path",d.activeClipUrl)}d.activeClipUrl=`url(#${u})`,this.tgrp=null}clip(d){this.pendingClip=d}closePath(){const d=this.current;if(d.path){const u=`${d.path.getAttributeNS(null,"d")}Z`;d.path.setAttributeNS(null,"d",u)}}setLeading(d){this.current.leading=-d}setTextRise(d){this.current.textRise=d}setTextRenderingMode(d){this.current.textRenderingMode=d}setHScale(d){this.current.textHScale=d/100}setRenderingIntent(d){}setFlatness(d){}setGState(d){for(const[u,v]of d)switch(u){case"LW":this.setLineWidth(v);break;case"LC":this.setLineCap(v);break;case"LJ":this.setLineJoin(v);break;case"ML":this.setMiterLimit(v);break;case"D":this.setDash(v[0],v[1]);break;case"RI":this.setRenderingIntent(v);break;case"FL":this.setFlatness(v);break;case"Font":this.setFont(v);break;case"CA":this.setStrokeAlpha(v);break;case"ca":this.setFillAlpha(v);break;default:(0,A.warn)(`Unimplemented graphic state operator ${u}`)}}fill(){const d=this.current;d.element&&(d.element.setAttributeNS(null,"fill",d.fillColor),d.element.setAttributeNS(null,"fill-opacity",d.fillAlpha),this.endPath())}stroke(){const d=this.current;d.element&&(this._setStrokeAttributes(d.element),d.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(d,u=1){const v=this.current;let D=v.dashArray;1!==u&&D.length>0&&(D=D.map(function(R){return u*R})),d.setAttributeNS(null,"stroke",v.strokeColor),d.setAttributeNS(null,"stroke-opacity",v.strokeAlpha),d.setAttributeNS(null,"stroke-miterlimit",E(v.miterLimit)),d.setAttributeNS(null,"stroke-linecap",v.lineCap),d.setAttributeNS(null,"stroke-linejoin",v.lineJoin),d.setAttributeNS(null,"stroke-width",E(u*v.lineWidth)+"px"),d.setAttributeNS(null,"stroke-dasharray",D.map(E).join(" ")),d.setAttributeNS(null,"stroke-dashoffset",E(u*v.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x","0"),d.setAttributeNS(null,"y","0"),d.setAttributeNS(null,"width","1px"),d.setAttributeNS(null,"height","1px"),d.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(d)}paintImageXObject(d){const u=d.startsWith("g_")?this.commonObjs.get(d):this.objs.get(d);u?this.paintInlineImageXObject(u):(0,A.warn)(`Dependent image with object ID ${d} is not ready yet`)}paintInlineImageXObject(d,u){const v=d.width,D=d.height,R=N(d,this.forceDataSchema,!!u),M=this.svgFactory.createElement("svg:rect");M.setAttributeNS(null,"x","0"),M.setAttributeNS(null,"y","0"),M.setAttributeNS(null,"width",E(v)),M.setAttributeNS(null,"height",E(D)),this.current.element=M,this.clip("nonzero");const _=this.svgFactory.createElement("svg:image");_.setAttributeNS(B,"xlink:href",R),_.setAttributeNS(null,"x","0"),_.setAttributeNS(null,"y",E(-D)),_.setAttributeNS(null,"width",E(v)+"px"),_.setAttributeNS(null,"height",E(D)+"px"),_.setAttributeNS(null,"transform",`scale(${E(1/v)} ${E(-1/D)})`),u?u.append(_):this._ensureTransformGroup().append(_)}paintImageMaskXObject(d){const u=this.current,v=d.width,D=d.height,R=u.fillColor;u.maskId="mask"+L++;const M=this.svgFactory.createElement("svg:mask");M.setAttributeNS(null,"id",u.maskId);const _=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x","0"),_.setAttributeNS(null,"y","0"),_.setAttributeNS(null,"width",E(v)),_.setAttributeNS(null,"height",E(D)),_.setAttributeNS(null,"fill",R),_.setAttributeNS(null,"mask",`url(#${u.maskId})`),this.defs.append(M),this._ensureTransformGroup().append(_),this.paintInlineImageXObject(d,M)}paintFormXObjectBegin(d,u){if(Array.isArray(d)&&6===d.length&&this.transform(d[0],d[1],d[2],d[3],d[4],d[5]),u){const v=u[2]-u[0],D=u[3]-u[1],R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x",u[0]),R.setAttributeNS(null,"y",u[1]),R.setAttributeNS(null,"width",E(v)),R.setAttributeNS(null,"height",E(D)),this.current.element=R,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(d){const u=this.svgFactory.create(d.width,d.height),v=this.svgFactory.createElement("svg:defs");u.append(v),this.defs=v;const D=this.svgFactory.createElement("svg:g");return D.setAttributeNS(null,"transform",T(d.transform)),u.append(D),this.svg=D,u}_ensureClipGroup(){if(!this.current.clipGroup){const d=this.svgFactory.createElement("svg:g");d.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(d),this.current.clipGroup=d}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",T(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFNodeStream=void 0;var f=z(1),A=z(33);const j=__webpack_require__(172),$=__webpack_require__(1),le=__webpack_require__(779),V=__webpack_require__(558),B=/^file:\/\/\/[a-zA-Z]:\//;g.PDFNodeStream=class ne{constructor(m){this.source=m,this.url=function Y(L){const m=V.parse(L);return"file:"===m.protocol||m.host?m:/^[a-z]:[/\\]/i.test(L)?V.parse(`file:///${L}`):(m.host||(m.protocol="file:"),m)}(m.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&m.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,f.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new T(this):new p(this),this._fullRequestReader}getRangeReader(m,d){if(d<=this._progressiveDataLength)return null;const u=this.isFsUrl?new I(this,m,d):new E(this,m,d);return this._rangeRequestReaders.push(u),u}cancelAllRequests(m){this._fullRequestReader&&this._fullRequestReader.cancel(m);for(const d of this._rangeRequestReaders.slice(0))d.cancel(m)}};class X{constructor(m){this._url=m.url,this._done=!1,this._storedError=null,this.onProgress=null;const d=m.source;this._contentLength=d.length,this._loaded=0,this._filename=null,this._disableRange=d.disableRange||!1,this._rangeChunkSize=d.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!d.disableStream,this._isRangeSupported=!d.disableRange,this._readableStream=null,this._readCapability=(0,f.createPromiseCapability)(),this._headersCapability=(0,f.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var m=this;return _asyncToGenerator(function*(){if(yield m._readCapability.promise,m._done)return{value:void 0,done:!0};if(m._storedError)throw m._storedError;const d=m._readableStream.read();return null===d?(m._readCapability=(0,f.createPromiseCapability)(),m.read()):(m._loaded+=d.length,m.onProgress&&m.onProgress({loaded:m._loaded,total:m._contentLength}),{value:new Uint8Array(d).buffer,done:!1})})()}cancel(m){this._readableStream?this._readableStream.destroy(m):this._error(m)}_error(m){this._storedError=m,this._readCapability.resolve()}_setReadableStream(m){this._readableStream=m,m.on("readable",()=>{this._readCapability.resolve()}),m.on("end",()=>{m.destroy(),this._done=!0,this._readCapability.resolve()}),m.on("error",d=>{this._error(d)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new f.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class N{constructor(m){this._url=m.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,f.createPromiseCapability)(),this._isStreamingSupported=!m.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var m=this;return _asyncToGenerator(function*(){if(yield m._readCapability.promise,m._done)return{value:void 0,done:!0};if(m._storedError)throw m._storedError;const d=m._readableStream.read();return null===d?(m._readCapability=(0,f.createPromiseCapability)(),m.read()):(m._loaded+=d.length,m.onProgress&&m.onProgress({loaded:m._loaded}),{value:new Uint8Array(d).buffer,done:!1})})()}cancel(m){this._readableStream?this._readableStream.destroy(m):this._error(m)}_error(m){this._storedError=m,this._readCapability.resolve()}_setReadableStream(m){this._readableStream=m,m.on("readable",()=>{this._readCapability.resolve()}),m.on("end",()=>{m.destroy(),this._done=!0,this._readCapability.resolve()}),m.on("error",d=>{this._error(d)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function k(L,m){return{protocol:L.protocol,auth:L.auth,host:L.hostname,port:L.port,path:L.path,method:"GET",headers:m}}class p extends X{constructor(m){super(m);const d=u=>{if(404===u.statusCode){const M=new f.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=M,void this._headersCapability.reject(M)}this._headersCapability.resolve(),this._setReadableStream(u);const v=M=>this._readableStream.headers[M.toLowerCase()],{allowRangeRequests:D,suggestedLength:R}=(0,A.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:m.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=D,this._contentLength=R||this._contentLength,this._filename=(0,A.extractFilenameFromHeader)(v)};this._request=null,this._request="http:"===this._url.protocol?$.request(k(this._url,m.httpHeaders),d):le.request(k(this._url,m.httpHeaders),d),this._request.on("error",u=>{this._storedError=u,this._headersCapability.reject(u)}),this._request.end()}}class E extends N{constructor(m,d,u){super(m),this._httpHeaders={};for(const D in m.httpHeaders){const R=m.httpHeaders[D];typeof R>"u"||(this._httpHeaders[D]=R)}this._httpHeaders.Range=`bytes=${d}-${u-1}`;const v=D=>{if(404!==D.statusCode)this._setReadableStream(D);else{const R=new f.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=R}};this._request=null,this._request="http:"===this._url.protocol?$.request(k(this._url,this._httpHeaders),v):le.request(k(this._url,this._httpHeaders),v),this._request.on("error",D=>{this._storedError=D}),this._request.end()}}class T extends X{constructor(m){super(m);let d=decodeURIComponent(this._url.path);B.test(this._url.href)&&(d=d.replace(/^\//,"")),j.lstat(d,(u,v)=>{if(u)return"ENOENT"===u.code&&(u=new f.MissingPDFException(`Missing PDF "${d}".`)),this._storedError=u,void this._headersCapability.reject(u);this._contentLength=v.size,this._setReadableStream(j.createReadStream(d)),this._headersCapability.resolve()})}}class I extends N{constructor(m,d,u){super(m);let v=decodeURIComponent(this._url.path);B.test(this._url.href)&&(v=v.replace(/^\//,"")),this._setReadableStream(j.createReadStream(v,{start:d,end:u-1}))}}},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.createResponseStatusError=function V(Y,ne){return 404===Y||0===Y&&ne.startsWith("file:")?new f.MissingPDFException('Missing PDF "'+ne+'".'):new f.UnexpectedResponseException(`Unexpected server response (${Y}) while retrieving PDF "${ne}".`,Y)},g.extractFilenameFromHeader=function le(Y){const ne=Y("Content-Disposition");if(ne){let X=(0,A.getFilenameFromContentDispositionHeader)(ne);if(X.includes("%"))try{X=decodeURIComponent(X)}catch{}if((0,j.isPdfFile)(X))return X}return null},g.validateRangeRequestCapabilities=function $({getResponseHeader:Y,isHttp:ne,rangeChunkSize:X,disableRange:N}){const k={allowRangeRequests:!1,suggestedLength:void 0},p=parseInt(Y("Content-Length"),10);return!Number.isInteger(p)||(k.suggestedLength=p,p<=2*X)||N||!ne||"bytes"!==Y("Accept-Ranges")||"identity"!==(Y("Content-Encoding")||"identity")||(k.allowRangeRequests=!0),k},g.validateResponseStatus=function B(Y){return 200===Y||206===Y};var f=z(1),A=z(34),j=z(8)},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.getFilenameFromContentDispositionHeader=function A(j){let $=!0,le=V("filename\\*","i").exec(j);if(le){le=le[1];let p=X(le);return p=unescape(p),p=N(p),p=k(p),Y(p)}if(le=function ne(p){const E=[];let T;const I=V("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(T=I.exec(p));){let[,m,d,u]=T;if(m=parseInt(m,10),m in E){if(0===m)break}else E[m]=[d,u]}const L=[];for(let m=0;m<E.length&&m in E;++m){let[d,u]=E[m];u=X(u),d&&(u=unescape(u),0===m&&(u=N(u))),L.push(u)}return L.join("")}(j),le)return Y(k(le));if(le=V("filename","i").exec(j),le){le=le[1];let p=X(le);return p=k(p),Y(p)}function V(p,E){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',E)}function B(p,E){if(p){if(!/^[\x00-\xFF]+$/.test(E))return E;try{const T=new TextDecoder(p,{fatal:!0}),I=(0,f.stringToBytes)(E);E=T.decode(I),$=!1}catch{}}return E}function Y(p){return $&&/[\x80-\xff]/.test(p)&&(p=B("utf-8",p),$&&(p=B("iso-8859-1",p))),p}function X(p){if(p.startsWith('"')){const E=p.slice(1).split('\\"');for(let T=0;T<E.length;++T){const I=E[T].indexOf('"');-1!==I&&(E[T]=E[T].slice(0,I),E.length=T+1),E[T]=E[T].replace(/\\(.)/g,"$1")}p=E.join('"')}return p}function N(p){const E=p.indexOf("'");return-1===E?p:B(p.slice(0,E),p.slice(E+1).replace(/^[^']*'/,""))}function k(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(E,T,I,L){if("q"===I||"Q"===I)return B(T,L=(L=L.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(m,d){return String.fromCharCode(parseInt(d,16))}));try{L=atob(L)}catch{}return B(T,L)})}return""};var f=z(1)},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFNetworkStream=void 0;var f=z(1),A=z(33);class V{constructor(N,k={}){this.url=N,this.isHttp=/^https?:/i.test(N),this.httpHeaders=this.isHttp&&k.httpHeaders||Object.create(null),this.withCredentials=k.withCredentials||!1,this.getXhr=k.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(N,k,p){const E={begin:N,end:k};for(const T in p)E[T]=p[T];return this.request(E)}requestFull(N){return this.request(N)}request(N){const k=this.getXhr(),p=this.currXhrId++,E=this.pendingRequests[p]={xhr:k};k.open("GET",this.url),k.withCredentials=this.withCredentials;for(const T in this.httpHeaders){const I=this.httpHeaders[T];typeof I>"u"||k.setRequestHeader(T,I)}return this.isHttp&&"begin"in N&&"end"in N?(k.setRequestHeader("Range",`bytes=${N.begin}-${N.end-1}`),E.expectedStatus=206):E.expectedStatus=200,k.responseType="arraybuffer",N.onError&&(k.onerror=function(T){N.onError(k.status)}),k.onreadystatechange=this.onStateChange.bind(this,p),k.onprogress=this.onProgress.bind(this,p),E.onHeadersReceived=N.onHeadersReceived,E.onDone=N.onDone,E.onError=N.onError,E.onProgress=N.onProgress,k.send(null),p}onProgress(N,k){const p=this.pendingRequests[N];p&&p.onProgress?.(k)}onStateChange(N,k){const p=this.pendingRequests[N];if(!p)return;const E=p.xhr;if(E.readyState>=2&&p.onHeadersReceived&&(p.onHeadersReceived(),delete p.onHeadersReceived),4!==E.readyState||!(N in this.pendingRequests))return;if(delete this.pendingRequests[N],0===E.status&&this.isHttp)return void p.onError?.(E.status);const T=E.status||200;if((200!==T||206!==p.expectedStatus)&&T!==p.expectedStatus)return void p.onError?.(E.status);const L=function le(X){const N=X.response;return"string"!=typeof N?N:(0,f.stringToBytes)(N).buffer}(E);if(206===T){const m=E.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(m);p.onDone({begin:parseInt(d[1],10),chunk:L})}else L?p.onDone({begin:0,chunk:L}):p.onError?.(E.status)}getRequestXhr(N){return this.pendingRequests[N].xhr}isPendingRequest(N){return N in this.pendingRequests}abortRequest(N){const k=this.pendingRequests[N].xhr;delete this.pendingRequests[N],k.abort()}}g.PDFNetworkStream=class B{constructor(N){this._source=N,this._manager=new V(N.url,{httpHeaders:N.httpHeaders,withCredentials:N.withCredentials}),this._rangeChunkSize=N.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(N){const k=this._rangeRequestReaders.indexOf(N);k>=0&&this._rangeRequestReaders.splice(k,1)}getFullReader(){return(0,f.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Y(this._manager,this._source),this._fullRequestReader}getRangeReader(N,k){const p=new ne(this._manager,N,k);return p.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(p),p}cancelAllRequests(N){this._fullRequestReader?.cancel(N);for(const k of this._rangeRequestReaders.slice(0))k.cancel(N)}};class Y{constructor(N,k){this._manager=N;const p={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=k.url,this._fullRequestId=N.requestFull(p),this._headersReceivedCapability=(0,f.createPromiseCapability)(),this._disableRange=k.disableRange||!1,this._contentLength=k.length,this._rangeChunkSize=k.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const N=this._fullRequestId,k=this._manager.getRequestXhr(N),p=I=>k.getResponseHeader(I),{allowRangeRequests:E,suggestedLength:T}=(0,A.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});E&&(this._isRangeSupported=!0),this._contentLength=T||this._contentLength,this._filename=(0,A.extractFilenameFromHeader)(p),this._isRangeSupported&&this._manager.abortRequest(N),this._headersReceivedCapability.resolve()}_onDone(N){if(N&&(this._requests.length>0?this._requests.shift().resolve({value:N.chunk,done:!1}):this._cachedChunks.push(N.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(N){this._storedError=(0,A.createResponseStatusError)(N,this._url),this._headersReceivedCapability.reject(this._storedError);for(const k of this._requests)k.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(N){this.onProgress?.({loaded:N.loaded,total:N.lengthComputable?N.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var N=this;return _asyncToGenerator(function*(){if(N._storedError)throw N._storedError;if(N._cachedChunks.length>0)return{value:N._cachedChunks.shift(),done:!1};if(N._done)return{value:void 0,done:!0};const k=(0,f.createPromiseCapability)();return N._requests.push(k),k.promise})()}cancel(N){this._done=!0,this._headersReceivedCapability.reject(N);for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ne{constructor(N,k,p){this._manager=N;const E={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=N.url,this._requestId=N.requestRange(k,p,E),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(N){const k=N.chunk;this._requests.length>0?this._requests.shift().resolve({value:k,done:!1}):this._queuedChunk=k,this._done=!0;for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(N){this._storedError=(0,A.createResponseStatusError)(N,this._url);for(const k of this._requests)k.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(N){this.isStreamingSupported||this.onProgress?.({loaded:N.loaded})}get isStreamingSupported(){return!1}read(){var N=this;return _asyncToGenerator(function*(){if(N._storedError)throw N._storedError;if(null!==N._queuedChunk){const p=N._queuedChunk;return N._queuedChunk=null,{value:p,done:!1}}if(N._done)return{value:void 0,done:!0};const k=(0,f.createPromiseCapability)();return N._requests.push(k),k.promise})()}cancel(N){this._done=!0;for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(ue,g,z)=>{Object.defineProperty(g,"__esModule",{value:!0}),g.PDFFetchStream=void 0;var f=z(1),A=z(33);function j(Y,ne,X){return{method:"GET",headers:Y,signal:X.signal,mode:"cors",credentials:ne?"include":"same-origin",redirect:"follow"}}function $(Y){const ne=new Headers;for(const X in Y){const N=Y[X];typeof N>"u"||ne.append(X,N)}return ne}g.PDFFetchStream=class le{constructor(ne){this.source=ne,this.isHttp=/^https?:/i.test(ne.url),this.httpHeaders=this.isHttp&&ne.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,f.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new V(this),this._fullRequestReader}getRangeReader(ne,X){if(X<=this._progressiveDataLength)return null;const N=new B(this,ne,X);return this._rangeRequestReaders.push(N),N}cancelAllRequests(ne){this._fullRequestReader&&this._fullRequestReader.cancel(ne);for(const X of this._rangeRequestReaders.slice(0))X.cancel(ne)}};class V{constructor(ne){this._stream=ne,this._reader=null,this._loaded=0,this._filename=null;const X=ne.source;this._withCredentials=X.withCredentials||!1,this._contentLength=X.length,this._headersCapability=(0,f.createPromiseCapability)(),this._disableRange=X.disableRange||!1,this._rangeChunkSize=X.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!X.disableStream,this._isRangeSupported=!X.disableRange,this._headers=$(this._stream.httpHeaders);const N=X.url;fetch(N,j(this._headers,this._withCredentials,this._abortController)).then(k=>{if(!(0,A.validateResponseStatus)(k.status))throw(0,A.createResponseStatusError)(k.status,N);this._reader=k.body.getReader(),this._headersCapability.resolve();const p=I=>k.headers.get(I),{allowRangeRequests:E,suggestedLength:T}=(0,A.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=E,this._contentLength=T||this._contentLength,this._filename=(0,A.extractFilenameFromHeader)(p),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new f.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var ne=this;return _asyncToGenerator(function*(){yield ne._headersCapability.promise;const{value:X,done:N}=yield ne._reader.read();return N?{value:X,done:N}:(ne._loaded+=X.byteLength,ne.onProgress&&ne.onProgress({loaded:ne._loaded,total:ne._contentLength}),{value:new Uint8Array(X).buffer,done:!1})})()}cancel(ne){this._reader&&this._reader.cancel(ne),this._abortController.abort()}}class B{constructor(ne,X,N){this._stream=ne,this._reader=null,this._loaded=0;const k=ne.source;this._withCredentials=k.withCredentials||!1,this._readCapability=(0,f.createPromiseCapability)(),this._isStreamingSupported=!k.disableStream,this._abortController=new AbortController,this._headers=$(this._stream.httpHeaders),this._headers.append("Range",`bytes=${X}-${N-1}`);const p=k.url;fetch(p,j(this._headers,this._withCredentials,this._abortController)).then(E=>{if(!(0,A.validateResponseStatus)(E.status))throw(0,A.createResponseStatusError)(E.status,p);this._readCapability.resolve(),this._reader=E.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var ne=this;return _asyncToGenerator(function*(){yield ne._readCapability.promise;const{value:X,done:N}=yield ne._reader.read();return N?{value:X,done:N}:(ne._loaded+=X.byteLength,ne.onProgress&&ne.onProgress({loaded:ne._loaded}),{value:new Uint8Array(X).buffer,done:!1})})()}cancel(ne){this._reader&&this._reader.cancel(ne),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(ue){var g=__webpack_module_cache__[ue];if(void 0!==g)return g.exports;var z=__webpack_module_cache__[ue]={exports:{}};return __webpack_modules__[ue](z,z.exports,__w_pdfjs_require__),z.exports}var __nested_webpack_exports__={};return(()=>{var ue=__nested_webpack_exports__;Object.defineProperty(ue,"__esModule",{value:!0}),Object.defineProperty(ue,"AnnotationEditorLayer",{enumerable:!0,get:function(){return A.AnnotationEditorLayer}}),Object.defineProperty(ue,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return g.AnnotationEditorParamsType}}),Object.defineProperty(ue,"AnnotationEditorType",{enumerable:!0,get:function(){return g.AnnotationEditorType}}),Object.defineProperty(ue,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return j.AnnotationEditorUIManager}}),Object.defineProperty(ue,"AnnotationLayer",{enumerable:!0,get:function(){return $.AnnotationLayer}}),Object.defineProperty(ue,"AnnotationMode",{enumerable:!0,get:function(){return g.AnnotationMode}}),Object.defineProperty(ue,"CMapCompressionType",{enumerable:!0,get:function(){return g.CMapCompressionType}}),Object.defineProperty(ue,"GlobalWorkerOptions",{enumerable:!0,get:function(){return le.GlobalWorkerOptions}}),Object.defineProperty(ue,"InvalidPDFException",{enumerable:!0,get:function(){return g.InvalidPDFException}}),Object.defineProperty(ue,"LoopbackPort",{enumerable:!0,get:function(){return z.LoopbackPort}}),Object.defineProperty(ue,"MissingPDFException",{enumerable:!0,get:function(){return g.MissingPDFException}}),Object.defineProperty(ue,"OPS",{enumerable:!0,get:function(){return g.OPS}}),Object.defineProperty(ue,"PDFDataRangeTransport",{enumerable:!0,get:function(){return z.PDFDataRangeTransport}}),Object.defineProperty(ue,"PDFDateString",{enumerable:!0,get:function(){return f.PDFDateString}}),Object.defineProperty(ue,"PDFWorker",{enumerable:!0,get:function(){return z.PDFWorker}}),Object.defineProperty(ue,"PasswordResponses",{enumerable:!0,get:function(){return g.PasswordResponses}}),Object.defineProperty(ue,"PermissionFlag",{enumerable:!0,get:function(){return g.PermissionFlag}}),Object.defineProperty(ue,"PixelsPerInch",{enumerable:!0,get:function(){return f.PixelsPerInch}}),Object.defineProperty(ue,"RenderingCancelledException",{enumerable:!0,get:function(){return f.RenderingCancelledException}}),Object.defineProperty(ue,"SVGGraphics",{enumerable:!0,get:function(){return Y.SVGGraphics}}),Object.defineProperty(ue,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return g.UNSUPPORTED_FEATURES}}),Object.defineProperty(ue,"UnexpectedResponseException",{enumerable:!0,get:function(){return g.UnexpectedResponseException}}),Object.defineProperty(ue,"Util",{enumerable:!0,get:function(){return g.Util}}),Object.defineProperty(ue,"VerbosityLevel",{enumerable:!0,get:function(){return g.VerbosityLevel}}),Object.defineProperty(ue,"XfaLayer",{enumerable:!0,get:function(){return ne.XfaLayer}}),Object.defineProperty(ue,"build",{enumerable:!0,get:function(){return z.build}}),Object.defineProperty(ue,"createPromiseCapability",{enumerable:!0,get:function(){return g.createPromiseCapability}}),Object.defineProperty(ue,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return g.createValidAbsoluteUrl}}),Object.defineProperty(ue,"getDocument",{enumerable:!0,get:function(){return z.getDocument}}),Object.defineProperty(ue,"getFilenameFromUrl",{enumerable:!0,get:function(){return f.getFilenameFromUrl}}),Object.defineProperty(ue,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return f.getPdfFilenameFromUrl}}),Object.defineProperty(ue,"getXfaPageViewport",{enumerable:!0,get:function(){return f.getXfaPageViewport}}),Object.defineProperty(ue,"isPdfFile",{enumerable:!0,get:function(){return f.isPdfFile}}),Object.defineProperty(ue,"loadScript",{enumerable:!0,get:function(){return f.loadScript}}),Object.defineProperty(ue,"renderTextLayer",{enumerable:!0,get:function(){return B.renderTextLayer}}),Object.defineProperty(ue,"shadow",{enumerable:!0,get:function(){return g.shadow}}),Object.defineProperty(ue,"version",{enumerable:!0,get:function(){return z.version}});var g=__w_pdfjs_require__(1),z=__w_pdfjs_require__(4),f=__w_pdfjs_require__(8),A=__w_pdfjs_require__(22),j=__w_pdfjs_require__(7),$=__w_pdfjs_require__(27),le=__w_pdfjs_require__(15),V=__w_pdfjs_require__(3),B=__w_pdfjs_require__(30),Y=__w_pdfjs_require__(31),ne=__w_pdfjs_require__(29);if(V.isNodeJS){const{PDFNodeStream:k}=__w_pdfjs_require__(32);(0,z.setPDFNetworkStreamFactory)(p=>new k(p))}else{const{PDFNetworkStream:k}=__w_pdfjs_require__(35),{PDFFetchStream:p}=__w_pdfjs_require__(36);(0,z.setPDFNetworkStreamFactory)(E=>(0,f.isValidFetchUrl)(E.url)?new p(E):new k(E))}})(),__nested_webpack_exports__})(),module.exports=z()},16:(ue,g,z)=>{var f=z(860).default,A=z(764).default,j=z(467).default,$=z(156).default,le=z(159).default,V=z(468).default,B=z(661).default;globalThis,ue.exports=(()=>{"use strict";var Y=[,(k,p,E)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.DefaultXfaLayerFactory=p.DefaultTextLayerFactory=p.DefaultStructTreeLayerFactory=p.DefaultAnnotationLayerFactory=p.DefaultAnnotationEditorLayerFactory=void 0;var T=E(2),I=E(5),L=E(4),m=E(6),d=E(8),u=E(9),v=E(10);p.DefaultAnnotationLayerFactory=class D{createAnnotationLayerBuilder({pageDiv:W,pdfPage:ee,annotationStorage:Q=null,imageResourcesPath:Z="",renderForms:re=!0,l10n:de=L.NullL10n,enableScripting:ye=!1,hasJSActionsPromise:J=null,mouseState:C=null,fieldObjectsPromise:y=null,annotationCanvasMap:O=null,accessibilityManager:G=null}){return new I.AnnotationLayerBuilder({pageDiv:W,pdfPage:ee,imageResourcesPath:Z,renderForms:re,linkService:new m.SimpleLinkService,l10n:de,annotationStorage:Q,enableScripting:ye,hasJSActionsPromise:J,fieldObjectsPromise:y,mouseState:C,annotationCanvasMap:O,accessibilityManager:G})}},p.DefaultAnnotationEditorLayerFactory=class R{createAnnotationEditorLayerBuilder({uiManager:W=null,pageDiv:ee,pdfPage:Q,accessibilityManager:Z=null,l10n:re,annotationStorage:de=null}){return new T.AnnotationEditorLayerBuilder({uiManager:W,pageDiv:ee,pdfPage:Q,accessibilityManager:Z,l10n:re,annotationStorage:de})}},p.DefaultStructTreeLayerFactory=class M{createStructTreeLayerBuilder({pdfPage:W}){return new d.StructTreeLayerBuilder({pdfPage:W})}},p.DefaultTextLayerFactory=class _{createTextLayerBuilder({textLayerDiv:W,pageIndex:ee,viewport:Q,enhanceTextSelection:Z=!1,eventBus:re,highlighter:de,accessibilityManager:ye=null}){return new u.TextLayerBuilder({textLayerDiv:W,pageIndex:ee,viewport:Q,enhanceTextSelection:Z,eventBus:re,highlighter:de,accessibilityManager:ye})}},p.DefaultXfaLayerFactory=class P{createXfaLayerBuilder({pageDiv:W,pdfPage:ee,annotationStorage:Q=null}){return new v.XfaLayerBuilder({pageDiv:W,pdfPage:ee,annotationStorage:Q,linkService:new m.SimpleLinkService})}}},(k,p,E)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.AnnotationEditorLayerBuilder=void 0;var T=E(3),I=E(4),L=new WeakMap;p.AnnotationEditorLayerBuilder=class m{constructor(u){le(this,L,{writable:!0,value:void 0}),this.pageDiv=u.pageDiv,this.pdfPage=u.pdfPage,this.annotationStorage=u.annotationStorage||null,this.accessibilityManager=u.accessibilityManager,this.l10n=u.l10n||I.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,B(this,L,u.uiManager)}render(u,v="display"){var D=this;return $(function*(){if("display"!==v||D._cancelled)return;const R=u.clone({dontFlip:!0});if(D.div)return D.annotationEditorLayer.update({viewport:R}),void D.show();D.div=document.createElement("div"),D.div.className="annotationEditorLayer",D.div.tabIndex=0,D.pageDiv.append(D.div),D.annotationEditorLayer=new T.AnnotationEditorLayer({uiManager:V(D,L),div:D.div,annotationStorage:D.annotationStorage,accessibilityManager:D.accessibilityManager,pageIndex:D.pdfPage._pageIndex,l10n:D.l10n,viewport:R}),D.annotationEditorLayer.render({viewport:R,div:D.div,annotations:null,intent:v})})()}cancel(){this._cancelled=!0,this.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&(this.div.hidden=!1)}destroy(){this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}},k=>{let p;p=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:z(627),k.exports=p},(k,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.NullL10n=void 0,p.fixupLangCode=function L(u){return I[u?.toLowerCase()]||u},p.getL10nFallback=T;const E={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text_default_content:"Enter text\u2026",editor_free_text_aria_label:"FreeText Editor",editor_ink_aria_label:"Ink Editor",editor_ink_canvas_aria_label:"User-created image"};function T(u,v){switch(u){case"find_match_count":u=`find_match_count[${1===v.total?"one":"other"}]`;break;case"find_match_count_limit":u=`find_match_count_limit[${1===v.limit?"one":"other"}]`}return E[u]||""}const I={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};p.NullL10n={getLanguage:()=>$(function*(){return"en-us"})(),getDirection:()=>$(function*(){return"ltr"})(),get:(u,v=null,D=T(u,v))=>$(function*(){return function m(u,v){return v?u.replace(/\{\{\s*(\w+)\s*\}\}/g,(D,R)=>R in v?v[R]:"{{"+R+"}}"):u}(D,v)})(),translate:u=>$(function*(){})()}},(k,p,E)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.AnnotationLayerBuilder=void 0;var T=E(3),I=E(4);p.AnnotationLayerBuilder=class L{constructor({pageDiv:d,pdfPage:u,linkService:v,downloadManager:D,annotationStorage:R=null,imageResourcesPath:M="",renderForms:_=!0,l10n:P=I.NullL10n,enableScripting:q=!1,hasJSActionsPromise:W=null,fieldObjectsPromise:ee=null,mouseState:Q=null,annotationCanvasMap:Z=null,accessibilityManager:re=null}){this.pageDiv=d,this.pdfPage=u,this.linkService=v,this.downloadManager=D,this.imageResourcesPath=M,this.renderForms=_,this.l10n=P,this.annotationStorage=R,this.enableScripting=q,this._hasJSActionsPromise=W,this._fieldObjectsPromise=ee,this._mouseState=Q,this._annotationCanvasMap=Z,this._accessibilityManager=re,this.div=null,this._cancelled=!1}render(d,u="display"){var v=this;return $(function*(){const[D,R=!1,M=null]=yield Promise.all([v.pdfPage.getAnnotations({intent:u}),v._hasJSActionsPromise,v._fieldObjectsPromise]);if(v._cancelled||0===D.length)return;const _={viewport:d.clone({dontFlip:!0}),div:v.div,annotations:D,page:v.pdfPage,imageResourcesPath:v.imageResourcesPath,renderForms:v.renderForms,linkService:v.linkService,downloadManager:v.downloadManager,annotationStorage:v.annotationStorage,enableScripting:v.enableScripting,hasJSActions:R,fieldObjects:M,mouseState:v._mouseState,annotationCanvasMap:v._annotationCanvasMap,accessibilityManager:v._accessibilityManager};v.div?T.AnnotationLayer.update(_):(v.div=document.createElement("div"),v.div.className="annotationLayer",v.pageDiv.append(v.div),_.div=v.div,T.AnnotationLayer.render(_),v.l10n.translate(v.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(k,p,E)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.SimpleLinkService=p.PDFLinkService=p.LinkTarget=void 0;var T=E(7);const L={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function m(_,{url:P,target:q,rel:W,enabled:ee=!0}={}){if(!P||"string"!=typeof P)throw new Error('A valid "url" parameter must provided.');const Q=(0,T.removeNullCharacters)(P);ee?_.href=_.title=Q:(_.href="",_.title=`Disabled: ${Q}`,_.onclick=()=>!1);let Z="";switch(q){case L.NONE:break;case L.SELF:Z="_self";break;case L.BLANK:Z="_blank";break;case L.PARENT:Z="_parent";break;case L.TOP:Z="_top"}_.target=Z,_.rel="string"==typeof W?W:"noopener noreferrer nofollow"}p.LinkTarget=L;var d=new WeakMap,u=new WeakSet;class v{constructor({eventBus:P,externalLinkTarget:q=null,externalLinkRel:W=null,ignoreDestinationZoom:ee=!1}={}){f(this,u),le(this,d,{writable:!0,value:new Map}),this.eventBus=P,this.externalLinkTarget=q,this.externalLinkRel=W,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=ee,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(P,q=null){this.baseUrl=q,this.pdfDocument=P,V(this,d).clear()}setViewer(P){this.pdfViewer=P}setHistory(P){this.pdfHistory=P}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(P){this.pdfViewer.currentPageNumber=P}get rotation(){return this.pdfViewer.pagesRotation}set rotation(P){this.pdfViewer.pagesRotation=P}goToDestination(P){var q=this;return $(function*(){if(!q.pdfDocument)return;let W,ee;"string"==typeof P?(W=P,ee=yield q.pdfDocument.getDestination(P)):(W=null,ee=yield P),Array.isArray(ee)?j(q,u,D).call(q,P,W,ee):console.error(`PDFLinkService.goToDestination: "${ee}" is not a valid destination array, for dest="${P}".`)})()}goToPage(P){if(!this.pdfDocument)return;const q="string"==typeof P&&this.pdfViewer.pageLabelToPageNumber(P)||0|P;Number.isInteger(q)&&q>0&&q<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(q)),this.pdfViewer.scrollPageIntoView({pageNumber:q})):console.error(`PDFLinkService.goToPage: "${P}" is not a valid page.`)}addLinkAttributes(P,q,W=!1){m(P,{url:q,target:W?L.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(P){if("string"==typeof P){if(P.length>0)return this.getAnchorUrl("#"+escape(P))}else if(Array.isArray(P)){const q=JSON.stringify(P);if(q.length>0)return this.getAnchorUrl("#"+escape(q))}return this.getAnchorUrl("")}getAnchorUrl(P){return(this.baseUrl||"")+P}setHash(P){if(!this.pdfDocument)return;let q,W;if(P.includes("=")){const ee=(0,T.parseQueryString)(P);if(ee.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:ee.get("search").replace(/"/g,""),phraseSearch:"true"===ee.get("phrase")}),ee.has("page")&&(q=0|ee.get("page")||1),ee.has("zoom")){const Q=ee.get("zoom").split(","),Z=Q[0],re=parseFloat(Z);Z.includes("Fit")?"Fit"===Z||"FitB"===Z?W=[null,{name:Z}]:"FitH"===Z||"FitBH"===Z||"FitV"===Z||"FitBV"===Z?W=[null,{name:Z},Q.length>1?0|Q[1]:null]:"FitR"===Z?5!==Q.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):W=[null,{name:Z},0|Q[1],0|Q[2],0|Q[3],0|Q[4]]:console.error(`PDFLinkService.setHash: "${Z}" is not a valid zoom value.`):W=[null,{name:"XYZ"},Q.length>1?0|Q[1]:null,Q.length>2?0|Q[2]:null,re?re/100:Z]}W?this.pdfViewer.scrollPageIntoView({pageNumber:q||this.page,destArray:W,allowNegativeOffset:!0}):q&&(this.page=q),ee.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:ee.get("pagemode")}),ee.has("nameddest")&&this.goToDestination(ee.get("nameddest"))}else{W=unescape(P);try{W=JSON.parse(W),Array.isArray(W)||(W=W.toString())}catch{}if("string"==typeof W||A(v,v,R).call(v,W))return void this.goToDestination(W);console.error(`PDFLinkService.setHash: "${unescape(P)}" is not a valid destination.`)}}executeNamedAction(P){switch(P){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:P})}cachePageRef(P,q){if(!q)return;const W=0===q.gen?`${q.num}R`:`${q.num}R${q.gen}`;V(this,d).set(W,P)}_cachedPageNumber(P){if(!P)return null;const q=0===P.gen?`${P.num}R`:`${P.num}R${P.gen}`;return V(this,d).get(q)||null}isPageVisible(P){return this.pdfViewer.isPageVisible(P)}isPageCached(P){return this.pdfViewer.isPageCached(P)}}function D(_,P=null,q){const W=q[0];let ee;if("object"==typeof W&&null!==W){if(ee=this._cachedPageNumber(W),!ee)return void this.pdfDocument.getPageIndex(W).then(Q=>{this.cachePageRef(Q+1,W),j(this,u,D).call(this,_,P,q)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${W}" is not a valid page reference, for dest="${_}".`)})}else{if(!Number.isInteger(W))return void console.error(`PDFLinkService.#goToDestinationHelper: "${W}" is not a valid destination reference, for dest="${_}".`);ee=W+1}!ee||ee<1||ee>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${ee}" is not a valid page number, for dest="${_}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:P,explicitDest:q,pageNumber:ee})),this.pdfViewer.scrollPageIntoView({pageNumber:ee,destArray:q,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function R(_){if(!Array.isArray(_))return!1;const P=_.length;if(P<2)return!1;const q=_[0];if(!("object"==typeof q&&Number.isInteger(q.num)&&Number.isInteger(q.gen)||Number.isInteger(q)&&q>=0))return!1;const W=_[1];if("object"!=typeof W||"string"!=typeof W.name)return!1;let ee=!0;switch(W.name){case"XYZ":if(5!==P)return!1;break;case"Fit":case"FitB":return 2===P;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==P)return!1;break;case"FitR":if(6!==P)return!1;ee=!1;break;default:return!1}for(let Q=2;Q<P;Q++){const Z=_[Q];if(!("number"==typeof Z||ee&&null===Z))return!1}return!0}p.PDFLinkService=v,p.SimpleLinkService=class M{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(P){}get rotation(){return 0}set rotation(P){}goToDestination(P){return $(function*(){})()}goToPage(P){}addLinkAttributes(P,q,W=!1){m(P,{url:q,enabled:this.externalLinkEnabled})}getDestinationHash(P){return"#"}getAnchorUrl(P){return"#"}setHash(P){}executeNamedAction(P){}cachePageRef(P,q){}isPageVisible(P){return!0}isPageCached(P){return!0}}},(k,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.animationStarted=p.VERTICAL_PADDING=p.UNKNOWN_SCALE=p.TextLayerMode=p.SpreadMode=p.SidebarView=p.ScrollMode=p.SCROLLBAR_PADDING=p.RenderingStates=p.RendererType=p.ProgressBar=p.PresentationModeState=p.OutputScale=p.MIN_SCALE=p.MAX_SCALE=p.MAX_AUTO_SCALE=p.DEFAULT_SCALE_VALUE=p.DEFAULT_SCALE_DELTA=p.DEFAULT_SCALE=p.AutoPrintRegExp=void 0,p.apiPageLayoutToViewerModes=function ot(Ae){let Ue=W.VERTICAL,Qe=ee.NONE;switch(Ae){case"SinglePage":Ue=W.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Ue=W.PAGE;case"TwoColumnLeft":Qe=ee.ODD;break;case"TwoPageRight":Ue=W.PAGE;case"TwoColumnRight":Qe=ee.EVEN}return{scrollMode:Ue,spreadMode:Qe}},p.apiPageModeToSidebarView=function Ze(Ae){switch(Ae){case"UseNone":return _.NONE;case"UseThumbs":return _.THUMBS;case"UseOutlines":return _.OUTLINE;case"UseAttachments":return _.ATTACHMENTS;case"UseOC":return _.LAYERS}return _.NONE},p.approximateFraction=function G(Ae){if(Math.floor(Ae)===Ae)return[Ae,1];const Ue=1/Ae;if(Ue>8)return[1,8];if(Math.floor(Ue)===Ue)return[1,Ue];const We=Ae>1?Ue:Ae;let ge,$e=0,K=1,fe=1,ve=1;for(;;){const Ce=$e+fe,Te=K+ve;if(Te>8)break;We<=Ce/Te?(fe=Ce,ve=Te):($e=Ce,K=Te)}return ge=We-$e/K<fe/ve-We?We===Ae?[$e,K]:[K,$e]:We===Ae?[fe,ve]:[ve,fe],ge},p.backtrackBeforeAllVisibleElements=w,p.binarySearchFirstItem=O,p.docStyle=void 0,p.getActiveOrFocusedElement=function Ge(){let Ae=document,Ue=Ae.activeElement||Ae.querySelector(":focus");for(;Ue?.shadowRoot;)Ae=Ue.shadowRoot,Ue=Ae.activeElement||Ae.querySelector(":focus");return Ue},p.getPageSizeInches=function h({view:Ae,userUnit:Ue,rotate:Qe}){const[We,$e,K,fe]=Ae,ve=Qe%180!=0,ge=(K-We)/72*Ue,Ce=(fe-$e)/72*Ue;return{width:ve?Ce:ge,height:ve?ge:Ce}},p.getVisibleElements=function S({scrollEl:Ae,views:Ue,sortByVisibility:Qe=!1,horizontal:We=!1,rtl:$e=!1}){const K=Ae.scrollTop,fe=K+Ae.clientHeight,ve=Ae.scrollLeft,ge=ve+Ae.clientWidth,he=[],se=new Set,ce=Ue.length;let Fe=O(Ue,We?function Te(Le){const Ne=Le.div,ze=Ne.offsetLeft+Ne.clientLeft;return $e?ze<ge:ze+Ne.clientWidth>ve}:function Ce(Le){const Ne=Le.div;return Ne.offsetTop+Ne.clientTop+Ne.clientHeight>K});Fe>0&&Fe<ce&&!We&&(Fe=w(Fe,Ue,K));let Ve=We?ge:-1;for(let Le=Fe;Le<ce;Le++){const Ne=Ue[Le],ze=Ne.div,Ke=ze.offsetLeft+ze.clientLeft,nt=ze.offsetTop+ze.clientTop,et=ze.clientWidth,Dt=ze.clientHeight,Xe=Ke+et,yt=nt+Dt;if(-1===Ve)yt>=fe&&(Ve=yt);else if((We?Ke:nt)>Ve)break;if(yt<=K||nt>=fe||Xe<=ve||Ke>=ge)continue;const Ut=Math.max(0,K-nt)+Math.max(0,yt-fe),Vt=(et-(Math.max(0,ve-Ke)+Math.max(0,Xe-ge)))/et;he.push({id:Ne.id,x:Ke,y:nt,view:Ne,percent:(Dt-Ut)/Dt*Vt*100|0,widthPercent:100*Vt|0}),se.add(Ne.id)}const De=he[0],Pe=he.at(-1);return Qe&&he.sort(function(Le,Ne){const ze=Le.percent-Ne.percent;return Math.abs(ze)>.001?-ze:Le.id-Ne.id}),{first:De,last:Pe,views:he,ids:se}},p.isPortraitOrientation=function we(Ae){return Ae.width<=Ae.height},p.isValidRotation=function ae(Ae){return Number.isInteger(Ae)&&Ae%90==0},p.isValidScrollMode=function be(Ae){return Number.isInteger(Ae)&&Object.values(W).includes(Ae)&&Ae!==W.UNKNOWN},p.isValidSpreadMode=function pe(Ae){return Number.isInteger(Ae)&&Object.values(ee).includes(Ae)&&Ae!==ee.UNKNOWN},p.noContextMenuHandler=function U(Ae){Ae.preventDefault()},p.normalizeWheelEventDelta=function ie(Ae){let Ue=H(Ae);return 0===Ae.deltaMode?Ue/=900:1===Ae.deltaMode&&(Ue/=30),Ue},p.normalizeWheelEventDirection=H,p.parseQueryString=function ye(Ae){const Ue=new Map;for(const[Qe,We]of new URLSearchParams(Ae))Ue.set(Qe.toLowerCase(),We);return Ue},p.removeNullCharacters=function y(Ae,Ue=!1){return"string"!=typeof Ae?(console.error("The argument must be a string."),Ae):(Ue&&(Ae=Ae.replace(C," ")),Ae.replace(J,""))},p.roundToDivide=function x(Ae,Ue){const Qe=Ae%Ue;return 0===Qe?Ae:Math.round(Ae-Qe+Ue)},p.scrollIntoView=function re(Ae,Ue,Qe=!1){let We=Ae.offsetParent;if(!We)return void console.error("offsetParent is not set -- cannot scroll");let $e=Ae.offsetTop+Ae.clientTop,K=Ae.offsetLeft+Ae.clientLeft;for(;We.clientHeight===We.scrollHeight&&We.clientWidth===We.scrollWidth||Qe&&(We.classList.contains("markedContent")||"hidden"===getComputedStyle(We).overflow);)if($e+=We.offsetTop,K+=We.offsetLeft,We=We.offsetParent,!We)return;Ue&&(void 0!==Ue.top&&($e+=Ue.top),void 0!==Ue.left&&(K+=Ue.left,We.scrollLeft=K)),We.scrollTop=$e},p.watchScroll=function de(Ae,Ue){const Qe=function(K){$e||($e=window.requestAnimationFrame(function(){$e=null;const ve=Ae.scrollLeft,ge=We.lastX;ve!==ge&&(We.right=ve>ge),We.lastX=ve;const Ce=Ae.scrollTop,Te=We.lastY;Ce!==Te&&(We.down=Ce>Te),We.lastY=Ce,Ue(We)}))},We={right:!0,down:!0,lastX:Ae.scrollLeft,lastY:Ae.scrollTop,_eventHandler:Qe};let $e=null;return Ae.addEventListener("scroll",Qe,!0),We},p.DEFAULT_SCALE_VALUE="auto",p.DEFAULT_SCALE=1,p.DEFAULT_SCALE_DELTA=1.1,p.MIN_SCALE=.1,p.MAX_SCALE=10,p.UNKNOWN_SCALE=0,p.MAX_AUTO_SCALE=1.25,p.SCROLLBAR_PADDING=40,p.VERTICAL_PADDING=5,p.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},p.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const _={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};p.SidebarView=_,p.RendererType={CANVAS:"canvas",SVG:"svg"},p.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const W={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};p.ScrollMode=W;const ee={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};p.SpreadMode=ee,p.AutoPrintRegExp=/\bprint\s*\(/,p.OutputScale=class Z{constructor(){const Ue=window.devicePixelRatio||1;this.sx=Ue,this.sy=Ue}get scaled(){return 1!==this.sx||1!==this.sy}};const J=/\x00/g,C=/[\x01-\x1F]/g;function O(Ae,Ue,Qe=0){let We=Qe,$e=Ae.length-1;if($e<0||!Ue(Ae[$e]))return Ae.length;if(Ue(Ae[We]))return We;for(;We<$e;){const K=We+$e>>1;Ue(Ae[K])?$e=K:We=K+1}return We}function w(Ae,Ue,Qe){if(Ae<2)return Ae;let We=Ue[Ae].div,$e=We.offsetTop+We.clientTop;$e>=Qe&&(We=Ue[Ae-1].div,$e=We.offsetTop+We.clientTop);for(let K=Ae-2;K>=0&&(We=Ue[K].div,!(We.offsetTop+We.clientTop+We.clientHeight<=$e));--K)Ae=K;return Ae}function H(Ae){let Ue=Math.hypot(Ae.deltaX,Ae.deltaY);const Qe=Math.atan2(Ae.deltaY,Ae.deltaX);return-.25*Math.PI<Qe&&Qe<.75*Math.PI&&(Ue=-Ue),Ue}const xe=new Promise(function(Ae){window.requestAnimationFrame(Ae)});p.animationStarted=xe;const Se=document.documentElement.style;p.docStyle=Se;var Oe=new WeakMap,ke=new WeakMap,me=new WeakMap;p.ProgressBar=class Ee{constructor(Ue){if(le(this,Oe,{writable:!0,value:null}),le(this,ke,{writable:!0,value:0}),le(this,me,{writable:!0,value:!0}),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");const Qe=document.getElementById(Ue);B(this,Oe,Qe.classList)}get percent(){return V(this,ke)}set percent(Ue){B(this,ke,function Ie(Ae,Ue,Qe){return Math.min(Math.max(Ae,Ue),Qe)}(Ue,0,100)),isNaN(Ue)?V(this,Oe).add("indeterminate"):(V(this,Oe).remove("indeterminate"),Se.setProperty("--progressBar-percent",`${V(this,ke)}%`))}setWidth(Ue){if(!Ue)return;const We=Ue.parentNode.offsetWidth-Ue.offsetWidth;We>0&&Se.setProperty("--progressBar-end-offset",`${We}px`)}hide(){V(this,me)&&(B(this,me,!1),V(this,Oe).add("hidden"))}show(){V(this,me)||(B(this,me,!0),V(this,Oe).remove("hidden"))}}},(k,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.StructTreeLayerBuilder=void 0;const E={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},T=/^H(\d+)$/;p.StructTreeLayerBuilder=class I{constructor({pdfPage:m}){this.pdfPage=m}render(m){return this._walk(m)}_setAttributes(m,d){void 0!==m.alt&&d.setAttribute("aria-label",m.alt),void 0!==m.id&&d.setAttribute("aria-owns",m.id),void 0!==m.lang&&d.setAttribute("lang",m.lang)}_walk(m){if(!m)return null;const d=document.createElement("span");if("role"in m){const{role:u}=m,v=u.match(T);v?(d.setAttribute("role","heading"),d.setAttribute("aria-level",v[1])):E[u]&&d.setAttribute("role",E[u])}if(this._setAttributes(m,d),m.children)if(1===m.children.length&&"id"in m.children[0])this._setAttributes(m.children[0],d);else for(const u of m.children)d.append(this._walk(u));return d}}},(k,p,E)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.TextLayerBuilder=void 0;var T=E(3);p.TextLayerBuilder=class L{constructor({textLayerDiv:d,eventBus:u,pageIndex:v,viewport:D,highlighter:R=null,enhanceTextSelection:M=!1,accessibilityManager:_=null}){this.textLayerDiv=d,this.eventBus=u,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=v+1,this.viewport=D,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=R,this.enhanceTextSelection=M,this.accessibilityManager=_,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const d=document.createElement("div");d.className="endOfContent",this.textLayerDiv.append(d)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(d=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr),this.accessibilityManager?.setTextMapping(this.textDivs);const u=document.createDocumentFragment();this.textLayerRenderTask=(0,T.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:u,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:d,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.append(u),this._finishRendering(),this.highlighter?.enable(),this.accessibilityManager?.enable()},function(v){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable(),this.accessibilityManager?.disable()}setTextContentStream(d){this.cancel(),this.textContentStream=d}setTextContent(d){this.cancel(),this.textContent=d}_bindMouse(){const d=this.textLayerDiv;let u=null;d.addEventListener("mousedown",v=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(u&&(clearTimeout(u),u=null));const D=d.querySelector(".endOfContent");if(!D)return;let R=v.target!==d;if(R=R&&"none"!==window.getComputedStyle(D).getPropertyValue("-moz-user-select"),R){const M=d.getBoundingClientRect(),_=Math.max(0,(v.pageY-M.top)/M.height);D.style.top=(100*_).toFixed(2)+"%"}D.classList.add("active")}),d.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(u=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),u=null},300));const v=d.querySelector(".endOfContent");v&&(v.style.top="",v.classList.remove("active"))})}}},(k,p,E)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.XfaLayerBuilder=void 0;var T=E(3);p.XfaLayerBuilder=class I{constructor({pageDiv:m,pdfPage:d,annotationStorage:u=null,linkService:v,xfaHtml:D=null}){this.pageDiv=m,this.pdfPage=d,this.annotationStorage=u,this.linkService=v,this.xfaHtml=D,this.div=null,this._cancelled=!1}render(m,d="display"){if("print"===d){const u={viewport:m.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:d},v=document.createElement("div");this.pageDiv.append(v),u.div=v;const D=T.XfaLayer.render(u);return Promise.resolve(D)}return this.pdfPage.getXfa().then(u=>{if(this._cancelled||!u)return{textDivs:[]};const v={viewport:m.clone({dontFlip:!0}),div:this.div,xfaHtml:u,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:d};return this.div?T.XfaLayer.update(v):(this.div=document.createElement("div"),this.pageDiv.append(this.div),v.div=this.div,T.XfaLayer.render(v))}).catch(u=>{console.error(u)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(k,p,E)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.PDFViewer=p.PDFSinglePageViewer=void 0;var T=E(7),I=E(12);p.PDFViewer=class L extends I.BaseViewer{},p.PDFSinglePageViewer=class m extends I.BaseViewer{_resetView(){super._resetView(),this._scrollMode=T.ScrollMode.PAGE,this._spreadMode=T.SpreadMode.NONE}set scrollMode(u){}_updateScrollMode(){}set spreadMode(u){}_updateSpreadMode(){}}},(k,p,E)=>{var T;let I;Object.defineProperty(p,"__esModule",{value:!0}),p.PagesCountLimit=p.PDFPageViewBuffer=p.BaseViewer=void 0;var L=E(3),m=E(7),d=E(2),u=E(5),v=E(4),D=E(13),R=E(16),M=E(6),_=E(8),P=E(17),q=E(9),W=E(10);const Q="enablePermissions",Z={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};function re($e){return Object.values(L.AnnotationEditorType).includes($e)&&$e!==L.AnnotationEditorType.DISABLE}p.PagesCountLimit=Z;var de=new WeakMap,ye=new WeakMap,J=new WeakSet;I=Symbol.iterator;class C{constructor(K){f(this,J),le(this,de,{writable:!0,value:new Set}),le(this,ye,{writable:!0,value:0}),B(this,ye,K)}push(K){const fe=V(this,de);fe.has(K)&&fe.delete(K),fe.add(K),fe.size>V(this,ye)&&j(this,J,y).call(this)}resize(K,fe=null){B(this,ye,K);const ve=V(this,de);if(fe){const ge=ve.size;let Ce=1;for(const Te of ve)if(fe.has(Te.id)&&(ve.delete(Te),ve.add(Te)),++Ce>ge)break}for(;ve.size>V(this,ye);)j(this,J,y).call(this)}has(K){return V(this,de).has(K)}[I](){return V(this,de).keys()}}function y(){const $e=V(this,de).keys().next().value;$e?.destroy(),V(this,de).delete($e)}p.PDFPageViewBuffer=C;var O=new WeakMap,G=new WeakMap,x=new WeakMap,h=new WeakMap,w=new WeakMap,S=new WeakMap,U=new WeakMap,H=new WeakMap,ie=new WeakSet,ae=new WeakSet,be=new WeakSet,pe=new WeakSet,we=new WeakSet,xe=new WeakSet,Se=new WeakSet,Ie=new WeakSet,Oe=new WeakSet;class ke{constructor(K){if(f(this,Oe),f(this,Ie),f(this,Se),f(this,xe),f(this,we),f(this,pe),f(this,be),f(this,ae),f(this,ie),le(this,O,{writable:!0,value:null}),le(this,G,{writable:!0,value:L.AnnotationEditorType.DISABLE}),le(this,x,{writable:!0,value:null}),le(this,h,{writable:!0,value:L.AnnotationMode.ENABLE_FORMS}),le(this,w,{writable:!0,value:!1}),le(this,S,{writable:!0,value:0}),le(this,U,{writable:!0,value:null}),le(this,H,{writable:!0,value:null}),this.constructor===ke)throw new Error("Cannot initialize BaseViewer.");const fe="2.16.105";if(L.version!==fe)throw new Error(`The API version "${L.version}" does not match the Viewer version "${fe}".`);if(this.container=K.container,this.viewer=K.viewer||K.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=K.eventBus,this.linkService=K.linkService||new M.SimpleLinkService,this.downloadManager=K.downloadManager||null,this.findController=K.findController||null,this._scriptingManager=K.scriptingManager||null,this.removePageBorders=K.removePageBorders||!1,this.textLayerMode=K.textLayerMode??m.TextLayerMode.ENABLE,B(this,h,K.annotationMode??L.AnnotationMode.ENABLE_FORMS),B(this,G,K.annotationEditorMode??L.AnnotationEditorType.DISABLE),this.imageResourcesPath=K.imageResourcesPath||"",this.enablePrintAutoRotate=K.enablePrintAutoRotate||!1,this.renderer=K.renderer||m.RendererType.CANVAS,this.useOnlyCssZoom=K.useOnlyCssZoom||!1,this.maxCanvasPixels=K.maxCanvasPixels,this.l10n=K.l10n||v.NullL10n,B(this,w,K.enablePermissions||!1),this.pageColors=K.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!K.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new R.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=K.renderingQueue,this.scroll=(0,m.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=m.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(K){return this._pages[K]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(K){return K?.pdfPage})}get renderForms(){return V(this,h)===L.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(K){if(!Number.isInteger(K))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(K,!0)||console.error(`currentPageNumber: "${K}" is not a valid page.`))}_setCurrentPageNumber(K,fe=!1){if(this._currentPageNumber===K)return fe&&j(this,xe,Ae).call(this),!0;if(!(0<K&&K<=this.pagesCount))return!1;const ve=this._currentPageNumber;return this._currentPageNumber=K,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:K,pageLabel:this._pageLabels?.[K-1]??null,previous:ve}),fe&&j(this,xe,Ae).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(K){if(!this.pdfDocument)return;let fe=0|K;if(this._pageLabels){const ve=this._pageLabels.indexOf(K);ve>=0&&(fe=ve+1)}this._setCurrentPageNumber(fe,!0)||console.error(`currentPageLabel: "${K}" is not a valid page.`)}get currentScale(){return this._currentScale!==m.UNKNOWN_SCALE?this._currentScale:m.DEFAULT_SCALE}set currentScale(K){if(isNaN(K))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(K,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(K){this.pdfDocument&&this._setScale(K,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(K){if(!(0,m.isValidRotation)(K))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((K%=360)<0&&(K+=360),this._pagesRotation===K))return;this._pagesRotation=K;const fe=this._currentPageNumber,ve={rotation:K};for(const ge of this._pages)ge.update(ve);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:K,pageNumber:fe}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(K){var fe=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null),V(this,x)&&(V(this,x).destroy(),B(this,x,null))),this.pdfDocument=K,!K)return;const ve=K.isPureXfa,ge=K.numPages,Ce=K.getPage(1),Te=K.getOptionalContentConfig(),he=V(this,w)?K.getPermissions():Promise.resolve();if(ge>Z.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const se=this._scrollMode=m.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:se})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ge})},()=>{}),this._onBeforeDraw=se=>{const ce=this._pages[se.pageNumber-1];ce&&V(this,O).push(ce)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=se=>{se.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:se.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,V(this,H)&&(document.removeEventListener("visibilitychange",V(this,H)),B(this,H,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Ce,he]).then(([se,ce])=>{if(K!==this.pdfDocument)return;this._firstPageCapability.resolve(se),this._optionalContentConfigPromise=Te;const{annotationEditorMode:Fe,annotationMode:Ve,textLayerMode:De}=j(this,ie,me).call(this,ce);if(Fe!==L.AnnotationEditorType.DISABLE){const Xe=Fe;ve?console.warn("Warning: XFA-editing is not implemented."):re(Xe)?(B(this,x,new L.AnnotationEditorUIManager(this.container,this.eventBus)),Xe!==L.AnnotationEditorType.NONE&&V(this,x).updateMode(Xe)):console.error(`Invalid AnnotationEditor mode: ${Xe}`)}const Pe=this._scrollMode===m.ScrollMode.PAGE?null:this.viewer,Le=this.currentScale,Ne=se.getViewport({scale:Le*L.PixelsPerInch.PDF_TO_CSS_UNITS}),ze=De===m.TextLayerMode.DISABLE||ve?null:this,Ke=Ve!==L.AnnotationMode.DISABLE?this:null,nt=ve?this:null,et=V(this,x)?this:null;for(let Xe=1;Xe<=ge;++Xe){const yt=new D.PDFPageView({container:Pe,eventBus:this.eventBus,id:Xe,scale:Le,defaultViewport:Ne.clone(),optionalContentConfigPromise:Te,renderingQueue:this.renderingQueue,textLayerFactory:ze,textLayerMode:De,annotationLayerFactory:Ke,annotationMode:Ve,xfaLayerFactory:nt,annotationEditorLayerFactory:et,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(yt)}const Dt=this._pages[0];Dt&&(Dt.setPdfPage(se),this.linkService.cachePageRef(1,se.ref)),this._scrollMode===m.ScrollMode.PAGE?j(this,be,Ge).call(this):this._spreadMode!==m.SpreadMode.NONE&&this._updateSpreadMode(),j(this,ae,Ee).call(this).then($(function*(){if(fe.findController&&fe.findController.setDocument(K),fe._scriptingManager&&fe._scriptingManager.setDocument(K),V(fe,x)&&fe.eventBus.dispatch("annotationeditormodechanged",{source:fe,mode:V(fe,G)}),K.loadingParams.disableAutoFetch||ge>Z.FORCE_LAZY_PAGE_INIT)return void fe._pagesCapability.resolve();let Xe=ge-1;if(Xe<=0)fe._pagesCapability.resolve();else for(let yt=2;yt<=ge;++yt){const Ut=K.getPage(yt).then(Gt=>{const Ct=fe._pages[yt-1];Ct.pdfPage||Ct.setPdfPage(Gt),fe.linkService.cachePageRef(yt,Gt.ref),0==--Xe&&fe._pagesCapability.resolve()},Gt=>{console.error(`Unable to get page ${yt} to initialize viewer`,Gt),0==--Xe&&fe._pagesCapability.resolve()});yt%Z.PAUSE_EAGER_PAGE_INIT==0&&(yield Ut)}})),this.eventBus.dispatch("pagesinit",{source:this}),K.getMetadata().then(({info:Xe})=>{K===this.pdfDocument&&Xe.Language&&(this.viewer.lang=Xe.Language)}),this.defaultRenderingQueue&&this.update()}).catch(se=>{console.error("Unable to initialize viewer",se),this._pagesCapability.reject(se)})}setPageLabels(K){if(this.pdfDocument){K?Array.isArray(K)&&this.pdfDocument.numPages===K.length?this._pageLabels=K:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let fe=0,ve=this._pages.length;fe<ve;fe++)this._pages[fe].setPageLabel(this._pageLabels?.[fe]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=m.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,B(this,O,new C(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,L.createPromiseCapability)(),this._onePageRenderedCapability=(0,L.createPromiseCapability)(),this._pagesCapability=(0,L.createPromiseCapability)(),this._scrollMode=m.ScrollMode.VERTICAL,this._previousScrollMode=m.ScrollMode.UNKNOWN,this._spreadMode=m.SpreadMode.NONE,B(this,U,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),V(this,H)&&(document.removeEventListener("visibilitychange",V(this,H)),B(this,H,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(Q)}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(K,fe,ve=!1,ge=!1){if(this._currentScaleValue=fe.toString(),j(this,we,Ze).call(this,K))return void(ge&&this.eventBus.dispatch("scalechanging",{source:this,scale:K,presetValue:fe}));m.docStyle.setProperty("--scale-factor",K*L.PixelsPerInch.PDF_TO_CSS_UNITS);const Ce={scale:K};for(const Te of this._pages)Te.update(Ce);if(this._currentScale=K,!ve){let he,Te=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Te=this._location.pageNumber,he=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Te,destArray:he,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:K,presetValue:ge?fe:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==m.SpreadMode.NONE&&this._scrollMode!==m.ScrollMode.HORIZONTAL?2:1}_setScale(K,fe=!1){let ve=parseFloat(K);if(ve>0)this._setScaleUpdatePages(ve,K,fe,!1);else{const ge=this._pages[this._currentPageNumber-1];if(!ge)return;let Ce=m.SCROLLBAR_PADDING,Te=m.VERTICAL_PADDING;this.isInPresentationMode?Ce=Te=4:this.removePageBorders?Ce=Te=0:this._scrollMode===m.ScrollMode.HORIZONTAL&&([Ce,Te]=[Te,Ce]);const he=(this.container.clientWidth-Ce)/ge.width*ge.scale/this._pageWidthScaleFactor,se=(this.container.clientHeight-Te)/ge.height*ge.scale;switch(K){case"page-actual":ve=1;break;case"page-width":ve=he;break;case"page-height":ve=se;break;case"page-fit":ve=Math.min(he,se);break;case"auto":const ce=(0,m.isPortraitOrientation)(ge)?he:Math.min(se,he);ve=Math.min(m.MAX_AUTO_SCALE,ce);break;default:return void console.error(`_setScale: "${K}" is an unknown zoom value.`)}this._setScaleUpdatePages(ve,K,fe,!0)}}pageLabelToPageNumber(K){if(!this._pageLabels)return null;const fe=this._pageLabels.indexOf(K);return fe<0?null:fe+1}scrollPageIntoView({pageNumber:K,destArray:fe=null,allowNegativeOffset:ve=!1,ignoreDestinationZoom:ge=!1}){if(!this.pdfDocument)return;const Ce=Number.isInteger(K)&&this._pages[K-1];if(!Ce)return void console.error(`scrollPageIntoView: "${K}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!fe)return void this._setCurrentPageNumber(K,!0);let Fe,Ve,Te=0,he=0,se=0,ce=0;const De=Ce.rotation%180!=0,Pe=(De?Ce.height:Ce.width)/Ce.scale/L.PixelsPerInch.PDF_TO_CSS_UNITS,Le=(De?Ce.width:Ce.height)/Ce.scale/L.PixelsPerInch.PDF_TO_CSS_UNITS;let Ne=0;switch(fe[1].name){case"XYZ":Te=fe[2],he=fe[3],Ne=fe[4],Te=null!==Te?Te:0,he=null!==he?he:Le;break;case"Fit":case"FitB":Ne="page-fit";break;case"FitH":case"FitBH":he=fe[2],Ne="page-width",null===he&&this._location?(Te=this._location.left,he=this._location.top):("number"!=typeof he||he<0)&&(he=Le);break;case"FitV":case"FitBV":Te=fe[2],se=Pe,ce=Le,Ne="page-height";break;case"FitR":Te=fe[2],he=fe[3],se=fe[4]-Te,ce=fe[5]-he,Fe=(this.container.clientWidth-(this.removePageBorders?0:m.SCROLLBAR_PADDING))/se/L.PixelsPerInch.PDF_TO_CSS_UNITS,Ve=(this.container.clientHeight-(this.removePageBorders?0:m.VERTICAL_PADDING))/ce/L.PixelsPerInch.PDF_TO_CSS_UNITS,Ne=Math.min(Math.abs(Fe),Math.abs(Ve));break;default:return void console.error(`scrollPageIntoView: "${fe[1].name}" is not a valid destination type.`)}if(ge||(Ne&&Ne!==this._currentScale?this.currentScaleValue=Ne:this._currentScale===m.UNKNOWN_SCALE&&(this.currentScaleValue=m.DEFAULT_SCALE_VALUE)),"page-fit"===Ne&&!fe[4])return void j(this,pe,ot).call(this,Ce);const ze=[Ce.viewport.convertToViewportPoint(Te,he),Ce.viewport.convertToViewportPoint(Te+se,he+ce)];let Ke=Math.min(ze[0][0],ze[1][0]),nt=Math.min(ze[0][1],ze[1][1]);ve||(Ke=Math.max(Ke,0),nt=Math.max(nt,0)),j(this,pe,ot).call(this,Ce,{left:Ke,top:nt})}_updateLocation(K){const fe=this._currentScale,ve=this._currentScaleValue,ge=parseFloat(ve)===fe?Math.round(1e4*fe)/100:ve,Ce=K.id,he=this.container,se=this._pages[Ce-1].getPagePoint(he.scrollLeft-K.x,he.scrollTop-K.y),ce=Math.round(se[0]),Fe=Math.round(se[1]);let Ve=`#page=${Ce}`;this.isInPresentationMode||(Ve+=`&zoom=${ge},${ce},${Fe}`),this._location={pageNumber:Ce,scale:ge,top:Fe,left:ce,rotation:this._pagesRotation,pdfOpenParams:Ve}}update(){const K=this._getVisiblePages(),fe=K.views,ve=fe.length;if(0===ve)return;const ge=Math.max(10,2*ve+1);V(this,O).resize(ge,K.ids),this.renderingQueue.renderHighestPriority(K);const Ce=this._spreadMode===m.SpreadMode.NONE&&(this._scrollMode===m.ScrollMode.PAGE||this._scrollMode===m.ScrollMode.VERTICAL),Te=this._currentPageNumber;let he=!1;for(const se of fe){if(se.percent<100)break;if(se.id===Te&&Ce){he=!0;break}}this._setCurrentPageNumber(he?Te:fe[0].id),this._updateLocation(K.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(K){return this.container.contains(K)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===m.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===m.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const K=this._scrollMode===m.ScrollMode.PAGE?V(this,U).pages:this._pages,fe=this._scrollMode===m.ScrollMode.HORIZONTAL;return(0,m.getVisibleElements)({scrollEl:this.container,views:K,sortByVisibility:!0,horizontal:fe,rtl:fe&&this._isContainerRtl})}isPageVisible(K){return!!this.pdfDocument&&(Number.isInteger(K)&&K>0&&K<=this.pagesCount?this._getVisiblePages().ids.has(K):(console.error(`isPageVisible: "${K}" is not a valid page.`),!1))}isPageCached(K){if(!this.pdfDocument)return!1;if(!(Number.isInteger(K)&&K>0&&K<=this.pagesCount))return console.error(`isPageCached: "${K}" is not a valid page.`),!1;const fe=this._pages[K-1];return V(this,O).has(fe)}cleanup(){for(const K of this._pages)K.renderingState!==m.RenderingStates.FINISHED&&K.reset()}_cancelRendering(){for(const K of this._pages)K.cancelRendering()}forceRendering(K){const fe=K||this._getVisiblePages(),ve=j(this,Ie,Qe).call(this,fe),Ce=this.renderingQueue.getHighestPriority(fe,this._pages,ve,this._spreadMode!==m.SpreadMode.NONE&&this._scrollMode!==m.ScrollMode.HORIZONTAL);return j(this,Oe,We).call(this,fe.ids),!!Ce&&(j(this,Se,Ue).call(this,Ce).then(()=>{this.renderingQueue.renderView(Ce)}),!0)}createTextLayerBuilder({textLayerDiv:K,pageIndex:fe,viewport:ve,enhanceTextSelection:ge=!1,eventBus:Ce,highlighter:Te,accessibilityManager:he=null}){return new q.TextLayerBuilder({textLayerDiv:K,eventBus:Ce,pageIndex:fe,viewport:ve,enhanceTextSelection:!this.isInPresentationMode&&ge,highlighter:Te,accessibilityManager:he})}createTextHighlighter({pageIndex:K,eventBus:fe}){return new P.TextHighlighter({eventBus:fe,pageIndex:K,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder({pageDiv:K,pdfPage:fe,annotationStorage:ve=this.pdfDocument?.annotationStorage,imageResourcesPath:ge="",renderForms:Ce=!0,l10n:Te=v.NullL10n,enableScripting:he=this.enableScripting,hasJSActionsPromise:se=this.pdfDocument?.hasJSActions(),mouseState:ce=this._scriptingManager?.mouseState,fieldObjectsPromise:Fe=this.pdfDocument?.getFieldObjects(),annotationCanvasMap:Ve=null,accessibilityManager:De=null}){return new u.AnnotationLayerBuilder({pageDiv:K,pdfPage:fe,annotationStorage:ve,imageResourcesPath:ge,renderForms:Ce,linkService:this.linkService,downloadManager:this.downloadManager,l10n:Te,enableScripting:he,hasJSActionsPromise:se,mouseState:ce,fieldObjectsPromise:Fe,annotationCanvasMap:Ve,accessibilityManager:De})}createAnnotationEditorLayerBuilder({uiManager:K=V(this,x),pageDiv:fe,pdfPage:ve,accessibilityManager:ge=null,l10n:Ce,annotationStorage:Te=this.pdfDocument?.annotationStorage}){return new d.AnnotationEditorLayerBuilder({uiManager:K,pageDiv:fe,pdfPage:ve,annotationStorage:Te,accessibilityManager:ge,l10n:Ce})}createXfaLayerBuilder({pageDiv:K,pdfPage:fe,annotationStorage:ve=this.pdfDocument?.annotationStorage}){return new W.XfaLayerBuilder({pageDiv:K,pdfPage:fe,annotationStorage:ve,linkService:this.linkService})}createStructTreeLayerBuilder({pdfPage:K}){return new _.StructTreeLayerBuilder({pdfPage:K})}get hasEqualPageSizes(){const K=this._pages[0];for(let fe=1,ve=this._pages.length;fe<ve;++fe){const ge=this._pages[fe];if(ge.width!==K.width||ge.height!==K.height)return!1}return!0}getPagesOverview(){return this._pages.map(K=>{const fe=K.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,m.isPortraitOrientation)(fe)?{width:fe.width,height:fe.height,rotation:fe.rotation}:{width:fe.height,height:fe.width,rotation:(fe.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(K){if(!(K instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${K}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=K;const fe={optionalContentConfigPromise:K};for(const ve of this._pages)ve.update(fe);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:K})}get scrollMode(){return this._scrollMode}set scrollMode(K){if(this._scrollMode!==K){if(!(0,m.isValidScrollMode)(K))throw new Error(`Invalid scroll mode: ${K}`);this.pagesCount>Z.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=K,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:K}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(K=null){const fe=this._scrollMode,ve=this.viewer;ve.classList.toggle("scrollHorizontal",fe===m.ScrollMode.HORIZONTAL),ve.classList.toggle("scrollWrapped",fe===m.ScrollMode.WRAPPED),this.pdfDocument&&K&&(fe===m.ScrollMode.PAGE?j(this,be,Ge).call(this):this._previousScrollMode===m.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(K,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(K){if(this._spreadMode!==K){if(!(0,m.isValidSpreadMode)(K))throw new Error(`Invalid spread mode: ${K}`);this._spreadMode=K,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:K}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(K=null){if(!this.pdfDocument)return;const fe=this.viewer,ve=this._pages;if(this._scrollMode===m.ScrollMode.PAGE)j(this,be,Ge).call(this);else if(fe.textContent="",this._spreadMode===m.SpreadMode.NONE)for(const ge of this._pages)fe.append(ge.div);else{const ge=this._spreadMode-1;let Ce=null;for(let Te=0,he=ve.length;Te<he;++Te)null===Ce?(Ce=document.createElement("div"),Ce.className="spread",fe.append(Ce)):Te%2===ge&&(Ce=Ce.cloneNode(!1),fe.append(Ce)),Ce.append(ve[Te].div)}K&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(K,!0),this.update())}_getPageAdvance(K,fe=!1){switch(this._scrollMode){case m.ScrollMode.WRAPPED:{const{views:ve}=this._getVisiblePages(),ge=new Map;for(const{id:Ce,y:Te,percent:he,widthPercent:se}of ve){if(0===he||se<100)continue;let ce=ge.get(Te);ce||ge.set(Te,ce||=[]),ce.push(Ce)}for(const Ce of ge.values()){const Te=Ce.indexOf(K);if(-1===Te)continue;const he=Ce.length;if(1===he)break;if(fe)for(let se=Te-1,ce=0;se>=ce;se--){const Ve=Ce[se+1]-1;if(Ce[se]<Ve)return K-Ve}else for(let se=Te+1,ce=he;se<ce;se++){const Ve=Ce[se-1]+1;if(Ce[se]>Ve)return Ve-K}if(fe){const se=Ce[0];if(se<K)return K-se+1}else{const se=Ce[he-1];if(se>K)return se-K+1}break}break}case m.ScrollMode.HORIZONTAL:break;case m.ScrollMode.PAGE:case m.ScrollMode.VERTICAL:{if(this._spreadMode===m.SpreadMode.NONE)break;const ve=this._spreadMode-1;if(fe&&K%2!==ve)break;if(!fe&&K%2===ve)break;const{views:ge}=this._getVisiblePages(),Ce=fe?K-1:K+1;for(const{id:Te,percent:he,widthPercent:se}of ge)if(Te===Ce){if(he>0&&100===se)return 2;break}break}}return 1}nextPage(){const K=this._currentPageNumber,fe=this.pagesCount;if(K>=fe)return!1;const ve=this._getPageAdvance(K,!1)||1;return this.currentPageNumber=Math.min(K+ve,fe),!0}previousPage(){const K=this._currentPageNumber;if(K<=1)return!1;const fe=this._getPageAdvance(K,!0)||1;return this.currentPageNumber=Math.max(K-fe,1),!0}increaseScale(K=1){let fe=this._currentScale;do{fe=(fe*m.DEFAULT_SCALE_DELTA).toFixed(2),fe=Math.ceil(10*fe)/10,fe=Math.min(m.MAX_SCALE,fe)}while(--K>0&&fe<m.MAX_SCALE);this.currentScaleValue=fe}decreaseScale(K=1){let fe=this._currentScale;do{fe=(fe/m.DEFAULT_SCALE_DELTA).toFixed(2),fe=Math.floor(10*fe)/10,fe=Math.max(m.MIN_SCALE,fe)}while(--K>0&&fe>m.MIN_SCALE);this.currentScaleValue=fe}updateContainerHeightCss(){const K=this.container.clientHeight;K!==V(this,S)&&(B(this,S,K),m.docStyle.setProperty("--viewer-container-height",`${K}px`))}get annotationEditorMode(){return V(this,x)?V(this,G):L.AnnotationEditorType.DISABLE}set annotationEditorMode(K){if(!V(this,x))throw new Error("The AnnotationEditor is not enabled.");if(V(this,G)!==K){if(!re(K))throw new Error(`Invalid AnnotationEditor mode: ${K}`);this.pdfDocument&&(B(this,G,K),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:K}),V(this,x).updateMode(K))}}set annotationEditorParams({type:K,value:fe}){if(!V(this,x))throw new Error("The AnnotationEditor is not enabled.");V(this,x).updateParams(K,fe)}refresh(){if(!this.pdfDocument)return;const K={};for(const fe of this._pages)fe.update(K);this.update()}}function me($e){const K={annotationEditorMode:V(this,G),annotationMode:V(this,h),textLayerMode:this.textLayerMode};return $e&&($e.includes(L.PermissionFlag.COPY)||this.viewer.classList.add(Q),$e.includes(L.PermissionFlag.MODIFY_CONTENTS)||(K.annotationEditorMode=L.AnnotationEditorType.DISABLE),!$e.includes(L.PermissionFlag.MODIFY_ANNOTATIONS)&&!$e.includes(L.PermissionFlag.FILL_INTERACTIVE_FORMS)&&V(this,h)===L.AnnotationMode.ENABLE_FORMS&&(K.annotationMode=L.AnnotationMode.ENABLE)),K}function Ee(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const $e=new Promise(K=>{B(this,H,()=>{"hidden"===document.visibilityState&&(K(),document.removeEventListener("visibilitychange",V(this,H)),B(this,H,null))}),document.addEventListener("visibilitychange",V(this,H))});return Promise.race([this._onePageRenderedCapability.promise,$e])}function Ge(){if(this._scrollMode!==m.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const $e=this._currentPageNumber,K=V(this,U),fe=this.viewer;if(fe.textContent="",K.pages.length=0,this._spreadMode!==m.SpreadMode.NONE||this.isInPresentationMode){const ve=new Set,ge=this._spreadMode-1;-1===ge?ve.add($e-1):$e%2!==ge?(ve.add($e-1),ve.add($e)):(ve.add($e-2),ve.add($e-1));const Ce=document.createElement("div");if(Ce.className="spread",this.isInPresentationMode){const Te=document.createElement("div");Te.className="dummyPage",Ce.append(Te)}for(const Te of ve){const he=this._pages[Te];he&&(Ce.append(he.div),K.pages.push(he))}fe.append(Ce)}else{const ve=this._pages[$e-1];fe.append(ve.div),K.pages.push(ve)}K.scrollDown=$e>=K.previousPageNumber,K.previousPageNumber=$e}function ot($e,K=null){const{div:fe,id:ve}=$e;if(this._scrollMode===m.ScrollMode.PAGE&&(this._setCurrentPageNumber(ve),j(this,be,Ge).call(this),this.update()),!K&&!this.isInPresentationMode){const ge=fe.offsetLeft+fe.clientLeft,Ce=ge+fe.clientWidth,{scrollLeft:Te,clientWidth:he}=this.container;(this._scrollMode===m.ScrollMode.HORIZONTAL||ge<Te||Ce>Te+he)&&(K={left:0,top:0})}(0,m.scrollIntoView)(fe,K)}function Ze($e){return $e===this._currentScale||Math.abs($e-this._currentScale)<1e-15}function Ae(){const $e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),j(this,pe,ot).call(this,$e)}function Ue($e){return(T=T||$(function*(K){if(K.pdfPage)return K.pdfPage;try{const fe=yield this.pdfDocument.getPage(K.id);return K.pdfPage||K.setPdfPage(fe),this.linkService._cachedPageNumber?.(fe.ref)||this.linkService.cachePageRef(K.id,fe.ref),fe}catch(fe){return console.error("Unable to get page for page view",fe),null}})).apply(this,arguments)}function Qe($e){if(1===$e.first?.id)return!0;if($e.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case m.ScrollMode.PAGE:return V(this,U).scrollDown;case m.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function We($e){for(const K of $e)this._pages[K-1]?.toggleLoadingIconSpinner(!0);for(const K of V(this,O))$e.has(K.id)||K.toggleLoadingIconSpinner(!1)}p.BaseViewer=ke},(k,p,E)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.PDFPageView=void 0;var T=E(3),I=E(7),L=E(14),m=E(4),d=E(15);const u=L.compatibilityParams.maxCanvasPixels||16777216;var v=new WeakMap,D=new WeakMap;p.PDFPageView=class R{constructor(_){le(this,v,{writable:!0,value:T.AnnotationMode.ENABLE_FORMS}),le(this,D,{writable:!0,value:{initialOptionalContent:!0,regularAnnotations:!0}});const P=_.container,q=_.defaultViewport;this.id=_.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=_.scale||I.DEFAULT_SCALE,this.viewport=q,this.pdfPageRotate=q.rotation,this._optionalContentConfigPromise=_.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=_.textLayerMode??I.TextLayerMode.ENABLE,B(this,v,_.annotationMode??T.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=_.imageResourcesPath||"",this.useOnlyCssZoom=_.useOnlyCssZoom||!1,this.maxCanvasPixels=_.maxCanvasPixels||u,this.pageColors=_.pageColors||null,this.eventBus=_.eventBus,this.renderingQueue=_.renderingQueue,this.textLayerFactory=_.textLayerFactory,this.annotationLayerFactory=_.annotationLayerFactory,this.annotationEditorLayerFactory=_.annotationEditorLayerFactory,this.xfaLayerFactory=_.xfaLayerFactory,this.textHighlighter=_.textHighlighterFactory?.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=_.structTreeLayerFactory,this.renderer=_.renderer||I.RendererType.CANVAS,this.l10n=_.l10n||m.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=I.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const W=document.createElement("div");if(W.className="page",W.style.width=Math.floor(this.viewport.width)+"px",W.style.height=Math.floor(this.viewport.height)+"px",W.setAttribute("data-page-number",this.id),W.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(ee=>{W.setAttribute("aria-label",ee)}),this.div=W,P?.append(W),this._isStandalone){const{optionalContentConfigPromise:ee}=_;ee&&ee.then(Q=>{ee===this._optionalContentConfigPromise&&(V(this,D).initialOptionalContent=Q.hasInitialVisibility)})}}setPdfPage(_){this.pdfPage=_,this.pdfPageRotate=_.rotate,this.viewport=_.getViewport({scale:this.scale*T.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var _=this;return $(function*(){let P=null;try{yield _.annotationLayer.render(_.viewport,"display")}catch(q){console.error(`_renderAnnotationLayer: "${q}".`),P=q}finally{_.eventBus.dispatch("annotationlayerrendered",{source:_,pageNumber:_.id,error:P})}})()}_renderAnnotationEditorLayer(){var _=this;return $(function*(){let P=null;try{yield _.annotationEditorLayer.render(_.viewport,"display")}catch(q){console.error(`_renderAnnotationEditorLayer: "${q}".`),P=q}finally{_.eventBus.dispatch("annotationeditorlayerrendered",{source:_,pageNumber:_.id,error:P})}})()}_renderXfaLayer(){var _=this;return $(function*(){let P=null;try{const q=yield _.xfaLayer.render(_.viewport,"display");_.textHighlighter&&_._buildXfaTextContentItems(q.textDivs)}catch(q){console.error(`_renderXfaLayer: "${q}".`),P=q}finally{_.eventBus.dispatch("xfalayerrendered",{source:_,pageNumber:_.id,error:P})}})()}_buildXfaTextContentItems(_){var P=this;return $(function*(){const q=yield P.pdfPage.getTextContent(),W=[];for(const ee of q.items)W.push(ee.str);P.textHighlighter.setTextMapping(_,W),P.textHighlighter.enable()})()}_resetZoomLayer(_=!1){if(!this.zoomLayer)return;const P=this.zoomLayer.firstChild;this.paintedViewportMap.delete(P),P.width=0,P.height=0,_&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:_=!1,keepAnnotationLayer:P=!1,keepAnnotationEditorLayer:q=!1,keepXfaLayer:W=!1}={}){this.cancelRendering({keepAnnotationLayer:P,keepAnnotationEditorLayer:q,keepXfaLayer:W}),this.renderingState=I.RenderingStates.INITIAL;const ee=this.div;ee.style.width=Math.floor(this.viewport.width)+"px",ee.style.height=Math.floor(this.viewport.height)+"px";const Q=ee.childNodes,Z=_&&this.zoomLayer||null,re=P&&this.annotationLayer?.div||null,de=q&&this.annotationEditorLayer?.div||null,ye=W&&this.xfaLayer?.div||null;for(let J=Q.length-1;J>=0;J--){const C=Q[J];switch(C){case Z:case re:case de:case ye:continue}C.remove()}ee.removeAttribute("data-loaded"),re&&this.annotationLayer.hide(),de?this.annotationEditorLayer.hide():this.annotationEditorLayer?.destroy(),ye&&this.xfaLayer.hide(),Z||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(J=>{this.loadingIconDiv?.setAttribute("aria-label",J)}),ee.append(this.loadingIconDiv)}update({scale:_=0,rotation:P=null,optionalContentConfigPromise:q=null}){if(this.scale=_||this.scale,"number"==typeof P&&(this.rotation=P),q instanceof Promise&&(this._optionalContentConfigPromise=q,q.then(Q=>{q===this._optionalContentConfigPromise&&(V(this,D).initialOptionalContent=Q.hasInitialVisibility)})),this.viewport=this.viewport.clone({scale:this.scale*T.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone&&I.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let ee=!1;if(this.canvas&&this.maxCanvasPixels>0){const Q=this.outputScale;(Math.floor(this.viewport.width)*Q.sx|0)*(Math.floor(this.viewport.height)*Q.sy|0)>this.maxCanvasPixels&&(ee=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&ee)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:_=!1,keepAnnotationEditorLayer:P=!1,keepXfaLayer:q=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!_||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!P||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!q||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:_,redrawAnnotationLayer:P=!1,redrawAnnotationEditorLayer:q=!1,redrawXfaLayer:W=!1}){const ee=this.viewport.width,Q=this.viewport.height,Z=this.div;_.style.width=_.parentNode.style.width=Z.style.width=Math.floor(ee)+"px",_.style.height=_.parentNode.style.height=Z.style.height=Math.floor(Q)+"px";const re=this.viewport.rotation-this.paintedViewportMap.get(_).rotation,de=Math.abs(re);let ye=1,J=1;if((90===de||270===de)&&(ye=Q/ee,J=ee/Q),_.style.transform=`rotate(${re}deg) scale(${ye}, ${J})`,this.textLayer){const C=this.textLayer.viewport,O=Math.abs(this.viewport.rotation-C.rotation);let G=ee/C.width;(90===O||270===O)&&(G=ee/C.height);const x=this.textLayer.textLayerDiv;let h,w;switch(O){case 0:h=w=0;break;case 90:h=0,w="-"+x.style.height;break;case 180:h="-"+x.style.width,w="-"+x.style.height;break;case 270:h="-"+x.style.width,w=0;break;default:console.error("Bad rotation value.")}x.style.transform=`rotate(${O}deg) scale(${G}) translate(${h}, ${w})`,x.style.transformOrigin="0% 0%"}P&&this.annotationLayer&&this._renderAnnotationLayer(),q&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),W&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(_,P){return this.viewport.convertToPdfPoint(_,P)}toggleLoadingIconSpinner(_=!1){this.loadingIconDiv?.classList.toggle("notVisible",!_)}draw(){var P,_=this;this.renderingState!==I.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:q,pdfPage:W}=this;if(!W)return this.renderingState=I.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=I.RenderingStates.RUNNING;const ee=document.createElement("div");ee.style.width=q.style.width,ee.style.height=q.style.height,ee.classList.add("canvasWrapper");const Q=this.annotationLayer?.div||this.annotationEditorLayer?.div;Q?Q.before(ee):q.append(ee);let Z=null;if(this.textLayerMode!==I.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||=new d.TextAccessibilityManager;const C=document.createElement("div");C.className="textLayer",C.style.width=ee.style.width,C.style.height=ee.style.height,Q?Q.before(C):q.append(C),Z=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:C,pageIndex:this.id-1,viewport:this.viewport,enhanceTextSelection:this.textLayerMode===I.TextLayerMode.ENABLE_ENHANCE,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=Z,V(this,v)!==T.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:q,pdfPage:W,imageResourcesPath:this.imageResourcesPath,renderForms:V(this,v)===T.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})),this.xfaLayer?.div&&q.append(this.xfaLayer.div);let re=null;this.renderingQueue&&(re=C=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=I.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=I.RenderingStates.RUNNING,C()});C()});const de=function(){return(P=P||$(function*(y=null){if(ye===_.paintTask&&(_.paintTask=null),y instanceof T.RenderingCancelledException)_._renderError=null;else if(_._renderError=y,_.renderingState=I.RenderingStates.FINISHED,_.loadingIconDiv&&(_.loadingIconDiv.remove(),delete _.loadingIconDiv),_._resetZoomLayer(!0),V(_,D).regularAnnotations=!ye.separateAnnots,_.eventBus.dispatch("pagerendered",{source:_,pageNumber:_.id,cssTransform:!1,timestamp:performance.now(),error:_._renderError}),y)throw y})).apply(this,arguments)},ye=this.renderer===I.RendererType.SVG?this.paintOnSvg(ee):this.paintOnCanvas(ee);ye.onRenderContinue=re,this.paintTask=ye;const J=ye.promise.then(()=>de(null).then(()=>{if(Z){const C=W.streamTextContent({includeMarkedContent:!0});Z.setTextContentStream(C),Z.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:q,pdfPage:W,l10n:this.l10n,accessibilityManager:this._accessibilityManager}),this._renderAnnotationEditorLayer())})}),function(C){return de(C)});return this.xfaLayerFactory&&(this.xfaLayer||=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:q,pdfPage:W}),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=C=>{C.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(y=>{if(!y||!this.canvas)return;const O=this.structTreeLayer.render(y);O.classList.add("structTree"),this.canvas.append(O)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:W})),q.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),J}paintOnCanvas(_){const P=(0,T.createPromiseCapability)(),q={promise:P.promise,onRenderContinue(G){G()},cancel(){O.cancel()},get separateAnnots(){return O.separateAnnots}},W=this.viewport,ee=document.createElement("canvas");ee.setAttribute("role","presentation"),ee.hidden=!0;let Q=!0;const Z=function(){Q&&(ee.hidden=!1,Q=!1)};_.append(ee),this.canvas=ee;const re=ee.getContext("2d",{alpha:!1}),de=this.outputScale=new I.OutputScale;if(this.useOnlyCssZoom){const G=W.clone({scale:T.PixelsPerInch.PDF_TO_CSS_UNITS});de.sx*=G.width/W.width,de.sy*=G.height/W.height}if(this.maxCanvasPixels>0){const x=Math.sqrt(this.maxCanvasPixels/(W.width*W.height));de.sx>x||de.sy>x?(de.sx=x,de.sy=x,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const ye=(0,I.approximateFraction)(de.sx),J=(0,I.approximateFraction)(de.sy);ee.width=(0,I.roundToDivide)(W.width*de.sx,ye[0]),ee.height=(0,I.roundToDivide)(W.height*de.sy,J[0]),ee.style.width=(0,I.roundToDivide)(W.width,ye[1])+"px",ee.style.height=(0,I.roundToDivide)(W.height,J[1])+"px",this.paintedViewportMap.set(ee,W);const y={canvasContext:re,transform:de.scaled?[de.sx,0,0,de.sy,0,0]:null,viewport:this.viewport,annotationMode:V(this,v),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},O=this.pdfPage.render(y);return O.onContinue=function(G){Z(),q.onRenderContinue?q.onRenderContinue(G):G()},O.promise.then(function(){Z(),P.resolve()},function(G){Z(),P.reject(G)}),q}paintOnSvg(_){let P=!1;const q=()=>{if(P)throw new T.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},W=this.pdfPage,ee=this.viewport.clone({scale:T.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:W.getOperatorList({annotationMode:V(this,v)}).then(Z=>(q(),new T.SVGGraphics(W.commonObjs,W.objs).getSVG(Z,ee).then(de=>{q(),this.svg=de,this.paintedViewportMap.set(de,ee),de.style.width=_.style.width,de.style.height=_.style.height,this.renderingState=I.RenderingStates.FINISHED,_.append(de)}))),onRenderContinue(Z){Z()},cancel(){P=!0},get separateAnnots(){return!1}}}setPageLabel(_){this.pageLabel="string"==typeof _?_:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:_,regularAnnotations:P}=V(this,D);return _&&P?this.canvas:null}}},(k,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.compatibilityParams=p.OptionKind=p.AppOptions=void 0;const E=Object.create(null);p.compatibilityParams=E;{const d=navigator.userAgent||"",u=navigator.platform||"",v=navigator.maxTouchPoints||1,D=/Android/.test(d);(/\b(iPad|iPhone|iPod)(?=;)/.test(d)||"MacIntel"===u&&v>1||D)&&(E.maxCanvasPixels=5242880)}const T={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};p.OptionKind=T;const I={annotationEditorMode:{value:-1,kind:T.VIEWER+T.PREFERENCE},annotationMode:{value:2,kind:T.VIEWER+T.PREFERENCE},cursorToolOnLoad:{value:0,kind:T.VIEWER+T.PREFERENCE},defaultZoomValue:{value:"",kind:T.VIEWER+T.PREFERENCE},disableHistory:{value:!1,kind:T.VIEWER},disablePageLabels:{value:!1,kind:T.VIEWER+T.PREFERENCE},enablePermissions:{value:!1,kind:T.VIEWER+T.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:T.VIEWER+T.PREFERENCE},enableScripting:{value:!0,kind:T.VIEWER+T.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:T.VIEWER},externalLinkTarget:{value:0,kind:T.VIEWER+T.PREFERENCE},historyUpdateUrl:{value:!1,kind:T.VIEWER+T.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:T.VIEWER+T.PREFERENCE},imageResourcesPath:{value:"./images/",kind:T.VIEWER},maxCanvasPixels:{value:16777216,kind:T.VIEWER},forcePageColors:{value:!1,kind:T.VIEWER+T.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:T.VIEWER+T.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:T.VIEWER+T.PREFERENCE},pdfBugEnabled:{value:!1,kind:T.VIEWER+T.PREFERENCE},printResolution:{value:150,kind:T.VIEWER},sidebarViewOnLoad:{value:-1,kind:T.VIEWER+T.PREFERENCE},scrollModeOnLoad:{value:-1,kind:T.VIEWER+T.PREFERENCE},spreadModeOnLoad:{value:-1,kind:T.VIEWER+T.PREFERENCE},textLayerMode:{value:1,kind:T.VIEWER+T.PREFERENCE},useOnlyCssZoom:{value:!1,kind:T.VIEWER+T.PREFERENCE},viewerCssTheme:{value:0,kind:T.VIEWER+T.PREFERENCE},viewOnLoad:{value:0,kind:T.VIEWER+T.PREFERENCE},cMapPacked:{value:!0,kind:T.API},cMapUrl:{value:"../web/cmaps/",kind:T.API},disableAutoFetch:{value:!1,kind:T.API+T.PREFERENCE},disableFontFace:{value:!1,kind:T.API+T.PREFERENCE},disableRange:{value:!1,kind:T.API+T.PREFERENCE},disableStream:{value:!1,kind:T.API+T.PREFERENCE},docBaseUrl:{value:"",kind:T.API},enableXfa:{value:!0,kind:T.API+T.PREFERENCE},fontExtraProperties:{value:!1,kind:T.API},isEvalSupported:{value:!0,kind:T.API},maxImageSize:{value:-1,kind:T.API},pdfBug:{value:!1,kind:T.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:T.API},verbosity:{value:1,kind:T.API},workerPort:{value:null,kind:T.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:T.WORKER}};I.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:T.VIEWER},I.disablePreferences={value:!1,kind:T.VIEWER},I.locale={value:navigator.language||"en-US",kind:T.VIEWER},I.renderer={value:"canvas",kind:T.VIEWER+T.PREFERENCE},I.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:T.VIEWER};const L=Object.create(null);p.AppOptions=class m{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(u){const v=L[u];if(void 0!==v)return v;const D=I[u];return void 0!==D?E[u]??D.value:void 0}static getAll(u=null){const v=Object.create(null);for(const D in I){const R=I[D];if(u){if(!(u&R.kind))continue;if(u===T.PREFERENCE){const _=R.value,P=typeof _;if("boolean"===P||"string"===P||"number"===P&&Number.isInteger(_)){v[D]=_;continue}throw new Error(`Invalid type for preference: ${D}`)}}const M=L[D];v[D]=void 0!==M?M:E[D]??R.value}return v}static set(u,v){L[u]=v}static setAll(u){for(const v in u)L[v]=u[v]}static remove(u){delete L[u]}static _hasUserOptions(){return Object.keys(L).length>0}}},(k,p,E)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.TextAccessibilityManager=void 0;var T=E(7),I=new WeakMap,L=new WeakMap,m=new WeakMap,d=new WeakMap,u=new WeakSet;class v{constructor(){f(this,u),le(this,I,{writable:!0,value:!1}),le(this,L,{writable:!0,value:null}),le(this,m,{writable:!0,value:new Map}),le(this,d,{writable:!0,value:new Map})}setTextMapping(_){B(this,L,_)}enable(){if(V(this,I))throw new Error("TextAccessibilityManager is already enabled.");if(!V(this,L))throw new Error("Text divs and strings have not been set.");if(B(this,I,!0),B(this,L,V(this,L).slice()),V(this,L).sort(A(v,v,D)),V(this,m).size>0){const _=V(this,L);for(const[P,q]of V(this,m))document.getElementById(P)?j(this,u,R).call(this,P,_[q]):V(this,m).delete(P)}for(const[_,P]of V(this,d))this.addPointerInTextLayer(_,P);V(this,d).clear()}disable(){V(this,I)&&(V(this,d).clear(),B(this,L,null),B(this,I,!1))}removePointerInTextLayer(_){if(!V(this,I))return void V(this,d).delete(_);const P=V(this,L);if(!P||0===P.length)return;const{id:q}=_,W=V(this,m).get(q);if(void 0===W)return;const ee=P[W];V(this,m).delete(q);let Q=ee.getAttribute("aria-owns");Q?.includes(q)&&(Q=Q.split(" ").filter(Z=>Z!==q).join(" "),Q?ee.setAttribute("aria-owns",Q):(ee.removeAttribute("aria-owns"),ee.setAttribute("role","presentation")))}addPointerInTextLayer(_,P){const{id:q}=_;if(!q)return;if(!V(this,I))return void V(this,d).set(_,P);P&&this.removePointerInTextLayer(_);const W=V(this,L);if(!W||0===W.length)return;const ee=(0,T.binarySearchFirstItem)(W,Z=>A(v,v,D).call(v,_,Z)<0),Q=Math.max(0,ee-1);j(this,u,R).call(this,q,W[Q]),V(this,m).set(q,Q)}moveElementInDOM(_,P,q,W){if(this.addPointerInTextLayer(q,W),!_.hasChildNodes())return void _.append(P);const ee=Array.from(_.childNodes).filter(re=>re!==P);if(0===ee.length)return;const Q=q||P,Z=(0,T.binarySearchFirstItem)(ee,re=>A(v,v,D).call(v,Q,re)<0);0===Z?ee[0].before(P):ee[Z-1].after(P)}}function D(M,_){const P=M.getBoundingClientRect(),q=_.getBoundingClientRect();if(0===P.width&&0===P.height)return 1;if(0===q.width&&0===q.height)return-1;const Q=P.y+P.height/2,de=q.y+q.height/2;return Q<=q.y&&de>=P.y+P.height?-1:de<=P.y&&Q>=q.y+q.height?1:P.x+P.width/2-(q.x+q.width/2)}function R(M,_){const P=_.getAttribute("aria-owns");P?.includes(M)||_.setAttribute("aria-owns",P?`${P} ${M}`:M),_.removeAttribute("role")}p.TextAccessibilityManager=v},(k,p,E)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.PDFRenderingQueue=void 0;var T=E(3),I=E(7);p.PDFRenderingQueue=class m{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(u){this.pdfViewer=u}setThumbnailViewer(u){this.pdfThumbnailViewer=u}isHighestPriority(u){return this.highestPriorityPage===u.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(u){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(u)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(u,v,D,R=!1){const M=u.views,_=M.length;if(0===_)return null;for(let Q=0;Q<_;Q++){const Z=M[Q].view;if(!this.isViewFinished(Z))return Z}const P=u.first.id,q=u.last.id;if(q-P+1>_){const Q=u.ids;for(let Z=1,re=q-P;Z<re;Z++){const de=D?P+Z:q-Z;if(Q.has(de))continue;const ye=v[de-1];if(!this.isViewFinished(ye))return ye}}let W=D?q:P-2,ee=v[W];return ee&&!this.isViewFinished(ee)||R&&(W+=D?1:-1,ee=v[W],ee&&!this.isViewFinished(ee))?ee:null}isViewFinished(u){return u.renderingState===I.RenderingStates.FINISHED}renderView(u){switch(u.renderingState){case I.RenderingStates.FINISHED:return!1;case I.RenderingStates.PAUSED:this.highestPriorityPage=u.renderingId,u.resume();break;case I.RenderingStates.RUNNING:this.highestPriorityPage=u.renderingId;break;case I.RenderingStates.INITIAL:this.highestPriorityPage=u.renderingId,u.draw().finally(()=>{this.renderHighestPriority()}).catch(v=>{v instanceof T.RenderingCancelledException||console.error(`renderView: "${v}"`)})}return!0}}},(k,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.TextHighlighter=void 0,p.TextHighlighter=class E{constructor({findController:I,eventBus:L,pageIndex:m}){this.findController=I,this.matches=[],this.eventBus=L,this.pageIdx=m,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(I,L){this.textDivs=I,this.textContentItemsStr=L}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=I=>{(I.pageIndex===this.pageIdx||-1===I.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(I,L){if(!I)return[];const{textContentItemsStr:m}=this;let d=0,u=0;const v=m.length-1,D=[];for(let R=0,M=I.length;R<M;R++){let _=I[R];for(;d!==v&&_>=u+m[d].length;)u+=m[d].length,d++;d===m.length&&console.error("Could not find a matching mapping");const P={begin:{divIdx:d,offset:_-u}};for(_+=L[R];d!==v&&_>u+m[d].length;)u+=m[d].length,d++;P.end={divIdx:d,offset:_-u},D.push(P)}return D}_renderMatches(I){if(0===I.length)return;const{findController:L,pageIdx:m}=this,{textContentItemsStr:d,textDivs:u}=this,v=m===L.selected.pageIdx,D=L.selected.matchIdx;let M=null;function P(Q,Z){const re=Q.divIdx;return u[re].textContent="",q(re,0,Q.offset,Z)}function q(Q,Z,re,de){let ye=u[Q];if(ye.nodeType===Node.TEXT_NODE){const y=document.createElement("span");ye.before(y),y.append(ye),u[Q]=y,ye=y}const J=d[Q].substring(Z,re),C=document.createTextNode(J);if(de){const y=document.createElement("span");return y.className=`${de} appended`,y.append(C),ye.append(y),de.includes("selected")?y.offsetLeft:0}return ye.append(C),0}let W=D,ee=W+1;if(L.state.highlightAll)W=0,ee=I.length;else if(!v)return;for(let Q=W;Q<ee;Q++){const Z=I[Q],re=Z.begin,de=Z.end,ye=v&&Q===D,J=ye?" selected":"";let C=0;if(M&&re.divIdx===M.divIdx?q(M.divIdx,M.offset,re.offset):(null!==M&&q(M.divIdx,M.offset,void 0),P(re)),re.divIdx===de.divIdx)C=q(re.divIdx,re.offset,de.offset,"highlight"+J);else{C=q(re.divIdx,re.offset,void 0,"highlight begin"+J);for(let y=re.divIdx+1,O=de.divIdx;y<O;y++)u[y].className="highlight middle"+J;P(de,"highlight end"+J)}M=de,ye&&L.scrollMatchIntoView({element:u[re.divIdx],selectedLeft:C,pageIndex:m,matchIndex:D})}M&&q(M.divIdx,M.offset,void 0)}_updateMatches(){if(!this.enabled)return;const{findController:I,matches:L,pageIdx:m}=this,{textContentItemsStr:d,textDivs:u}=this;let v=-1;for(let M=0,_=L.length;M<_;M++){const P=L[M];for(let W=Math.max(v,P.begin.divIdx),ee=P.end.divIdx;W<=ee;W++){const Q=u[W];Q.textContent=d[W],Q.className=""}v=P.end.divIdx+1}I?.highlightMatches&&(this.matches=this._convertMatches(I.pageMatches[m]||null,I.pageMatchesLength[m]||null),this._renderMatches(this.matches))}}},(k,p,E)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.DownloadManager=void 0;var T=E(3);function I(m,d){const u=document.createElement("a");if(!u.click)throw new Error('DownloadManager: "a.click()" is not supported.');u.href=m,u.target="_parent","download"in u&&(u.download=d),(document.body||document.documentElement).append(u),u.click(),u.remove()}p.DownloadManager=class L{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(d,u){(0,T.createValidAbsoluteUrl)(d,"http://example.com")?I(d+"#pdfjs.action=download",u):console.error(`downloadUrl - not a valid URL: ${d}`)}downloadData(d,u,v){I(URL.createObjectURL(new Blob([d],{type:v})),u)}openOrDownloadData(d,u,v){const D=(0,T.isPdfFile)(v),R=D?"application/pdf":"";if(D){let _,M=this._openBlobUrls.get(d);M||(M=URL.createObjectURL(new Blob([u],{type:R})),this._openBlobUrls.set(d,M)),_="?file="+encodeURIComponent(M+"#"+v);try{return window.open(_),!0}catch(P){console.error(`openOrDownloadData: ${P}`),URL.revokeObjectURL(M),this._openBlobUrls.delete(d)}}return this.downloadData(u,v,R),!1}download(d,u,v){I(URL.createObjectURL(d),v)}}},(k,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.WaitOnType=p.EventBus=p.AutomationEventBus=void 0,p.waitOnEventOrTimeout=function T({target:m,name:d,delay:u=0}){return new Promise(function(v,D){if("object"!=typeof m||!d||"string"!=typeof d||!(Number.isInteger(u)&&u>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function R(q){m instanceof I?m._off(d,M):m.removeEventListener(d,M),P&&clearTimeout(P),v(q)}const M=R.bind(null,E.EVENT);m instanceof I?m._on(d,M):m.addEventListener(d,M);const _=R.bind(null,E.TIMEOUT),P=setTimeout(_,u)})};const E={EVENT:"event",TIMEOUT:"timeout"};p.WaitOnType=E;class I{constructor(){this._listeners=Object.create(null)}on(d,u,v=null){this._on(d,u,{external:!0,once:v?.once})}off(d,u,v=null){this._off(d,u,{external:!0,once:v?.once})}dispatch(d,u){const v=this._listeners[d];if(!v||0===v.length)return;let D;for(const{listener:R,external:M,once:_}of v.slice(0))_&&this._off(d,R),M?(D||=[]).push(R):R(u);if(D){for(const R of D)R(u);D=null}}_on(d,u,v=null){(this._listeners[d]||=[]).push({listener:u,external:!0===v?.external,once:!0===v?.once})}_off(d,u,v=null){const D=this._listeners[d];if(D)for(let R=0,M=D.length;R<M;R++)if(D[R].listener===u)return void D.splice(R,1)}}p.EventBus=I,p.AutomationEventBus=class L extends I{dispatch(d,u){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(k,p,E)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.GenericL10n=void 0,E(21);var T=E(4);const I=document.webL10n;p.GenericL10n=class L{constructor(d){this._lang=d,this._ready=new Promise((u,v)=>{I.setLanguage((0,T.fixupLangCode)(d),()=>{u(I)})})}getLanguage(){var d=this;return $(function*(){return(yield d._ready).getLanguage()})()}getDirection(){var d=this;return $(function*(){return(yield d._ready).getDirection()})()}get(d,u=null,v=(0,T.getL10nFallback)(d,u)){var D=this;return $(function*(){return(yield D._ready).get(d,u,v)})()}translate(d){var u=this;return $(function*(){return(yield u._ready).translate(d)})()}}},()=>{document.webL10n=function(k,p,E){var T={},I="",L="textContent",m="",d={},u="loading",v=!0;function P(y,O,G){O=O||function(w){},G=G||function(){};var x=new XMLHttpRequest;x.open("GET",y,v),x.overrideMimeType&&x.overrideMimeType("text/plain; charset=utf-8"),x.onreadystatechange=function(){4==x.readyState&&(200==x.status||0===x.status?O(x.responseText):G())},x.onerror=G,x.ontimeout=G;try{x.send(null)}catch{G()}}function W(y,O){y&&(y=y.toLowerCase()),O=O||function(){},function ee(){T={},I="",m=""}(),m=y;var G=function D(){return p.querySelectorAll('link[type="application/l10n"]')}(),x=G.length;if(0!==x){var U,H=0;U=function(){++H>=x&&(O(),u="complete")};for(var ae=0;ae<x;ae++)new ie(G[ae]).load(y,U)}else{var h=function R(){var y=p.querySelector('script[type="application/l10n"]');return y?JSON.parse(y.innerHTML):null}();if(h&&h.locales&&h.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(T=h.locales[y])){var w=h.default_locale.toLowerCase();for(var S in h.locales){if((S=S.toLowerCase())===y){T=h.locales[y];break}S===w&&(T=h.locales[w])}}O()}else console.log("no resource to load, early way out");u="complete"}function ie(pe){var we=pe.href;this.load=function(xe,Se){!function q(y,O,G,x){var h=y.replace(/[^\/]*$/,"")||"./";function w(U){return U.lastIndexOf("\\")<0?U:U.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}P(y,function(U){I+=U,function S(U,H){var ie={},ae=/^\s*|\s*$/,be=/^\s*#|^\s*$/,pe=/^\s*\[(.*)\]\s*$/,we=/^\s*@import\s+url\((.*)\)\s*$/i,xe=/^([^=\s]*)\s*=\s*(.+)$/;function Se(Oe,ke,me){var Ee=Oe.replace(ae,"").split(/[\r\n]+/),Ge="*",ot=O.split("-",1)[0],Ze=!1,Ae="";!function Ue(){for(;;){if(!Ee.length)return void me();var Qe=Ee.shift();if(!be.test(Qe)){if(ke){if(Ae=pe.exec(Qe)){Ge=Ae[1].toLowerCase(),Ze="*"!==Ge&&Ge!==O&&Ge!==ot;continue}if(Ze)continue;if(Ae=we.exec(Qe))return void Ie(h+Ae[1],Ue)}var We=Qe.match(xe);We&&3==We.length&&(ie[We[1]]=w(We[2]))}}}()}function Ie(Oe,ke){P(Oe,function(me){Se(me,!1,ke)},function(){console.warn(Oe+" not found."),ke()})}Se(U,!0,function(){H(ie)})}(U,function(H){for(var ie in H){var ae,be,pe=ie.lastIndexOf(".");pe>0?(ae=ie.substring(0,pe),be=ie.substring(pe+1)):(ae=ie,be=L),T[ae]||(T[ae]={}),T[ae][be]=H[ie]}G&&G()})},x)}(we,xe,Se,function(){console.warn(we+" not found."),console.warn('"'+xe+'" resource not found'),m="",Se()})}}}function Z(y,O,G){var x=T[y];if(!x){if(console.warn("#"+y+" is undefined."),!G)return null;x=G}var h={};for(var w in x){var S=x[w];S=de(S=re(S,O,y,w),O,y),h[w]=S}return h}function re(y,O,G,x){var w=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(y);if(!w||!w.length)return y;var H,S=w[1],U=w[2];return O&&U in O?H=O[U]:U in T&&(H=T[U]),S in d&&(y=(0,d[S])(y,H,G,x)),y}function de(y,O,G){return y.replace(/\{\{\s*(.+?)\s*\}\}/g,function(h,w){return O&&w in O?O[w]:w in T?T[w]:(console.log("argument {{"+w+"}} for #"+G+" is undefined."),h)})}function ye(y){var O=function _(y){if(!y)return{};var O=y.getAttribute("data-l10n-id"),G=y.getAttribute("data-l10n-args"),x={};if(G)try{x=JSON.parse(G)}catch{console.warn("could not parse arguments for #"+O)}return{id:O,args:x}}(y);if(O.id){var G=Z(O.id,O.args);if(!G)return void console.warn("#"+O.id+" is undefined.");if(G[L]){if(0===function J(y){if(y.children)return y.children.length;if(typeof y.childElementCount<"u")return y.childElementCount;for(var O=0,G=0;G<y.childNodes.length;G++)O+=1===y.nodeType?1:0;return O}(y))y[L]=G[L];else{for(var x=y.childNodes,h=!1,w=0,S=x.length;w<S;w++)3===x[w].nodeType&&/\S/.test(x[w].nodeValue)&&(h?x[w].nodeValue="":(x[w].nodeValue=G[L],h=!0));if(!h){var U=p.createTextNode(G[L]);y.prepend(U)}}delete G[L]}for(var H in G)y[H]=G[H]}}return d.plural=function(y,O,G,x){var h=parseFloat(O);if(isNaN(h)||x!=L)return y;d._pluralRules||(d._pluralRules=function Q(y){function G(S,U){return-1!==U.indexOf(S)}function x(S,U,H){return U<=S&&S<=H}var h={0:function(S){return"other"},1:function(S){return x(S%100,3,10)?"few":0===S?"zero":x(S%100,11,99)?"many":2==S?"two":1==S?"one":"other"},2:function(S){return 0!==S&&S%10==0?"many":2==S?"two":1==S?"one":"other"},3:function(S){return 1==S?"one":"other"},4:function(S){return x(S,0,1)?"one":"other"},5:function(S){return x(S,0,2)&&2!=S?"one":"other"},6:function(S){return 0===S?"zero":S%10==1&&S%100!=11?"one":"other"},7:function(S){return 2==S?"two":1==S?"one":"other"},8:function(S){return x(S,3,6)?"few":x(S,7,10)?"many":2==S?"two":1==S?"one":"other"},9:function(S){return 0===S||1!=S&&x(S%100,1,19)?"few":1==S?"one":"other"},10:function(S){return x(S%10,2,9)&&!x(S%100,11,19)?"few":S%10!=1||x(S%100,11,19)?"other":"one"},11:function(S){return x(S%10,2,4)&&!x(S%100,12,14)?"few":S%10==0||x(S%10,5,9)||x(S%100,11,14)?"many":S%10==1&&S%100!=11?"one":"other"},12:function(S){return x(S,2,4)?"few":1==S?"one":"other"},13:function(S){return x(S%10,2,4)&&!x(S%100,12,14)?"few":1!=S&&x(S%10,0,1)||x(S%10,5,9)||x(S%100,12,14)?"many":1==S?"one":"other"},14:function(S){return x(S%100,3,4)?"few":S%100==2?"two":S%100==1?"one":"other"},15:function(S){return 0===S||x(S%100,2,10)?"few":x(S%100,11,19)?"many":1==S?"one":"other"},16:function(S){return S%10==1&&11!=S?"one":"other"},17:function(S){return 3==S?"few":0===S?"zero":6==S?"many":2==S?"two":1==S?"one":"other"},18:function(S){return 0===S?"zero":x(S,0,2)&&0!==S&&2!=S?"one":"other"},19:function(S){return x(S,2,10)?"few":x(S,0,1)?"one":"other"},20:function(S){return!x(S%10,3,4)&&S%10!=9||x(S%100,10,19)||x(S%100,70,79)||x(S%100,90,99)?S%1e6==0&&0!==S?"many":S%10!=2||G(S%100,[12,72,92])?S%10!=1||G(S%100,[11,71,91])?"other":"one":"two":"few"},21:function(S){return 0===S?"zero":1==S?"one":"other"},22:function(S){return x(S,0,1)||x(S,11,99)?"one":"other"},23:function(S){return x(S%10,1,2)||S%20==0?"one":"other"},24:function(S){return x(S,3,10)||x(S,13,19)?"few":G(S,[2,12])?"two":G(S,[1,11])?"one":"other"}},w={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[y.replace(/-.*$/,"")];return w in h?h[w]:(console.warn("plural form unknown for ["+y+"]"),function(){return"other"})}(m));var w="["+d._pluralRules(h)+"]";return 0===h&&G+"[zero]"in T?y=T[G+"[zero]"][x]:1==h&&G+"[one]"in T?y=T[G+"[one]"][x]:2==h&&G+"[two]"in T?y=T[G+"[two]"][x]:G+w in T?y=T[G+w][x]:G+"[other]"in T&&(y=T[G+"[other]"][x]),y},{get:function(y,O,G){var w,x=y.lastIndexOf("."),h=L;x>0&&(h=y.substring(x+1),y=y.substring(0,x)),G&&((w={})[h]=G);var S=Z(y,O,w);return S&&h in S?S[h]:"{{"+y+"}}"},getData:function(){return T},getText:function(){return I},getLanguage:function(){return m},setLanguage:function(y,O){W(y,function(){O&&O()})},getDirection:function(){var O=m.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(O)>=0?"rtl":"ltr"},translate:function C(y){for(var O=function M(y){return y?y.querySelectorAll("*[data-l10n-id]"):[]}(y=y||p.documentElement),G=O.length,x=0;x<G;x++)ye(O[x]);ye(y)},getReadyState:function(){return u},ready:function(y){y&&("complete"==u||"interactive"==u?k.setTimeout(function(){y()}):p.addEventListener&&p.addEventListener("localized",function O(){p.removeEventListener("localized",O),y()}))}}}(window,document)},(k,p,E)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.PDFFindController=p.FindState=void 0;var T=E(7),I=E(3),L=E(23);const m={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};p.FindState=m;const D={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},R=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),M=[...R.values()].map(De=>String.fromCharCode(De)).join(""),_=/\p{M}+/gu,P=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,q=/([^\p{M}])\p{M}*$/u,W=/^\p{M}*([^\p{M}])/u,ee=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,Q=new Map,Z="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]";let re=null,de=null;function ye(De){const Pe=[];let Le,Ne;for(;null!==(Le=ee.exec(De));){let{index:Ct}=Le;for(const Vt of Le[0]){let xt=Q.get(Vt);xt||(xt=Vt.normalize("NFD").length,Q.set(Vt,xt)),Pe.push([xt,Ct++])}}if(0===Pe.length&&re)Ne=re;else if(Pe.length>0&&de)Ne=de;else{const Vt=`([${Object.keys(D).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`;Ne=0===Pe.length?re=new RegExp(Vt+"|(\\u0000)","gum"):de=new RegExp(Vt+`|(${Z})`,"gum")}const ze=[];for(;null!==(Le=_.exec(De));)ze.push([Le[0].length,Le.index]);let Ke=De.normalize("NFD");const nt=[[0,0]];let et=0,Dt=0,Xe=0,yt=0,Ut=0,Gt=!1;return Ke=Ke.replace(Ne,(Ct,Vt,xt,cr,ii,ra,Bn)=>{if(Bn-=yt,Vt){const Kn=D[Ct],Qt=Kn.length;for(let Qn=1;Qn<Qt;Qn++)nt.push([Bn-Xe+Qn,Xe-Qn]);return Xe-=Qt-1,Kn}if(xt){const Kn=xt.endsWith("\n"),Qt=Kn?xt.length-2:xt.length;Gt=!0;let Qn=Qt;Bn+Ut===ze[et]?.[1]&&(Qn-=ze[et][0],++et);for(let $t=1;$t<=Qn;$t++)nt.push([Bn-1-Xe+$t,Xe-$t]);return Xe-=Qn,yt+=Qn,Kn?(nt.push([(Bn+=Qt-1)-Xe+1,1+Xe]),Xe+=1,yt+=1,Ut+=1,xt.slice(0,Qt)):xt}if(cr)return nt.push([Bn-Xe+1,1+Xe]),Xe+=1,yt+=1,Ut+=1,cr.charAt(0);if(ii)return nt.push([Bn-Xe+1,Xe-1]),Xe-=1,yt+=1,Ut+=1," ";if(Bn+Ut===Pe[Dt]?.[1]){const Kn=Pe[Dt][0]-1;++Dt;for(let Qt=1;Qt<=Kn;Qt++)nt.push([Bn-(Xe-Qt),Xe-Qt]);Xe-=Kn,yt+=Kn}return ra}),nt.push([Ke.length,Xe]),[Ke,nt,Gt]}function J(De,Pe,Le){if(!De)return[Pe,Le];const Ne=Pe,ze=Pe+Le;let Ke=(0,T.binarySearchFirstItem)(De,et=>et[0]>=Ne);De[Ke][0]>Ne&&--Ke;let nt=(0,T.binarySearchFirstItem)(De,et=>et[0]>=ze,Ke);return De[nt][0]>ze&&--nt,[Ne+De[Ke][1],Le+De[nt][1]-De[Ke][1]]}var C=new WeakSet,y=new WeakSet,O=new WeakMap,G=new WeakSet,x=new WeakSet,h=new WeakSet,w=new WeakSet,S=new WeakSet,U=new WeakSet,H=new WeakSet,ie=new WeakSet,ae=new WeakSet,be=new WeakSet,pe=new WeakSet,we=new WeakSet,xe=new WeakSet,Se=new WeakSet,Ie=new WeakSet,Oe=new WeakSet,ke=new WeakSet;function Ee(De){if(!De)return;const Pe=this._pdfDocument,{type:Le}=De;(null===this._state||j(this,G,Ze).call(this,De))&&(this._dirtyMatch=!0),this._state=De,"highlightallchange"!==Le&&j(this,ke,Ve).call(this,m.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||Pe&&this._pdfDocument!==Pe)return;j(this,U,$e).call(this);const Ne=!this._highlightMatches,ze=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Le?this._dirtyMatch?j(this,ae,ve).call(this):"again"===Le?(j(this,ae,ve).call(this),Ne&&this._state.highlightAll&&j(this,ie,fe).call(this)):"highlightallchange"===Le?(ze?j(this,ae,ve).call(this):this._highlightMatches=!0,j(this,ie,fe).call(this)):j(this,ae,ve).call(this):this._findTimeout=setTimeout(()=>{j(this,ae,ve).call(this),this._findTimeout=null},250)})}function Ge(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,I.createPromiseCapability)()}function ot(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=ye(this._state.query)),this._normalizedQuery}function Ze(De){if(De.query!==this._state.query)return!0;switch(De.type){case"again":const Pe=this._selected.pageIdx+1,Le=this._linkService;return Pe>=1&&Pe<=Le.pagesCount&&Pe!==Le.page&&!Le.isPageVisible(Pe);case"highlightallchange":return!1}return!0}function Ae(De,Pe,Le){let Ne=De.slice(0,Pe).match(q);if(Ne){const ze=De.charCodeAt(Pe),Ke=Ne[1].charCodeAt(0);if((0,L.getCharacterType)(ze)===(0,L.getCharacterType)(Ke))return!1}if(Ne=De.slice(Pe+Le).match(W),Ne){const ze=De.charCodeAt(Pe+Le-1),Ke=Ne[1].charCodeAt(0);if((0,L.getCharacterType)(ze)===(0,L.getCharacterType)(Ke))return!1}return!0}function Ue(De,Pe,Le,Ne){const ze=[],Ke=[],nt=this._pageDiffs[Le];let et;for(;null!==(et=De.exec(Ne));){if(Pe&&!j(this,x,Ae).call(this,Ne,et.index,et[0].length))continue;const[Dt,Xe]=J(nt,et.index,et[0].length);Xe&&(ze.push(Dt),Ke.push(Xe))}this._pageMatches[Le]=ze,this._pageMatchesLength[Le]=Ke}function Qe(De,Pe){const{matchDiacritics:Le}=this._state;let Ne=!1;return(De=De.replace(P,(Ke,nt,et,Dt,Xe,yt)=>nt?`[ ]*\\${nt}[ ]*`:et?`[ ]*${et}[ ]*`:Dt?"[ ]+":Le?Xe||yt:Xe?R.has(Xe.charCodeAt(0))?Xe:"":Pe?(Ne=!0,`${yt}\\p{M}*`):yt)).endsWith("[ ]*")&&(De=De.slice(0,De.length-4)),Le&&Pe&&(Ne=!0,De=`${De}(?=[${M}]|[^\\p{M}]|$)`),[Ne,De]}function We(De){let Pe=V(this,O);if(0===Pe.length)return;const{caseSensitive:Le,entireWord:Ne,phraseSearch:ze}=this._state,Ke=this._pageContents[De],nt=this._hasDiacritics[De];let et=!1;if(ze)[et,Pe]=j(this,w,Qe).call(this,Pe,nt);else{const yt=Pe.match(/\S+/g);yt&&(Pe=yt.sort().reverse().map(Ut=>{const[Gt,Ct]=j(this,w,Qe).call(this,Ut,nt);return et||=Gt,`(${Ct})`}).join("|"))}Pe=new RegExp(Pe,`g${et?"u":""}${Le?"":"i"}`),j(this,h,Ue).call(this,Pe,Ne,De,Ke),this._state.highlightAll&&j(this,H,K).call(this,De),this._resumePageIdx===De&&(this._resumePageIdx=null,j(this,pe,Ce).call(this));const Xe=this._pageMatches[De].length;Xe>0&&(this._matchesCountTotal+=Xe,j(this,Oe,Fe).call(this))}function $e(){if(this._extractTextPromises.length>0)return;let De=Promise.resolve();for(let Pe=0,Le=this._linkService.pagesCount;Pe<Le;Pe++){const Ne=(0,I.createPromiseCapability)();this._extractTextPromises[Pe]=Ne.promise,De=De.then(()=>this._pdfDocument.getPage(Pe+1).then(ze=>ze.getTextContent()).then(ze=>{const Ke=[];for(const nt of ze.items)Ke.push(nt.str),nt.hasEOL&&Ke.push("\n");[this._pageContents[Pe],this._pageDiffs[Pe],this._hasDiacritics[Pe]]=ye(Ke.join("")),Ne.resolve()},ze=>{console.error(`Unable to get text content for page ${Pe+1}`,ze),this._pageContents[Pe]="",this._pageDiffs[Pe]=null,this._hasDiacritics[Pe]=!1,Ne.resolve()}))}}function K(De){this._scrollMatches&&this._selected.pageIdx===De&&(this._linkService.page=De+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:De})}function fe(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function ve(){const De=this._state.findPrevious,Pe=this._linkService.page-1,Le=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=Pe,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,j(this,ie,fe).call(this);for(let ze=0;ze<Le;ze++)this._pendingFindMatches.has(ze)||(this._pendingFindMatches.add(ze),this._extractTextPromises[ze].then(()=>{this._pendingFindMatches.delete(ze),j(this,S,We).call(this,ze)}))}if(""===V(this,O))return void j(this,ke,Ve).call(this,m.FOUND);if(this._resumePageIdx)return;const Ne=this._offset;if(this._pagesToSearch=Le,null!==Ne.matchIdx){if(!De&&Ne.matchIdx+1<this._pageMatches[Ne.pageIdx].length||De&&Ne.matchIdx>0)return Ne.matchIdx=De?Ne.matchIdx-1:Ne.matchIdx+1,void j(this,xe,he).call(this,!0);j(this,we,Te).call(this,De)}j(this,pe,Ce).call(this)}function ge(De){const Pe=this._offset,Le=De.length,Ne=this._state.findPrevious;return Le?(Pe.matchIdx=Ne?Le-1:0,j(this,xe,he).call(this,!0),!0):(j(this,we,Te).call(this,Ne),!!(Pe.wrapped&&(Pe.matchIdx=null,this._pagesToSearch<0))&&(j(this,xe,he).call(this,!1),!0))}function Ce(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let De=null;do{const Pe=this._offset.pageIdx;if(De=this._pageMatches[Pe],!De){this._resumePageIdx=Pe;break}}while(!j(this,be,ge).call(this,De))}function Te(De){const Pe=this._offset,Le=this._linkService.pagesCount;Pe.pageIdx=De?Pe.pageIdx-1:Pe.pageIdx+1,Pe.matchIdx=null,this._pagesToSearch--,(Pe.pageIdx>=Le||Pe.pageIdx<0)&&(Pe.pageIdx=De?Le-1:0,Pe.wrapped=!0)}function he(De=!1){let Pe=m.NOT_FOUND;const Le=this._offset.wrapped;if(this._offset.wrapped=!1,De){const Ne=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,Pe=Le?m.WRAPPED:m.FOUND,-1!==Ne&&Ne!==this._selected.pageIdx&&j(this,H,K).call(this,Ne)}j(this,ke,Ve).call(this,Pe,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,j(this,H,K).call(this,this._selected.pageIdx))}function se(De){const Pe=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||Pe&&this._pdfDocument!==Pe||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),j(this,ke,Ve).call(this,m.FOUND),this._highlightMatches=!1,j(this,ie,fe).call(this))})}function ce(){const{pageIdx:De,matchIdx:Pe}=this._selected;let Le=0,Ne=this._matchesCountTotal;if(-1!==Pe){for(let ze=0;ze<De;ze++)Le+=this._pageMatches[ze]?.length||0;Le+=Pe+1}return(Le<1||Le>Ne)&&(Le=Ne=0),{current:Le,total:Ne}}function Fe(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:j(this,Ie,ce).call(this)})}function Ve(De,Pe=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:De,previous:Pe,matchesCount:j(this,Ie,ce).call(this),rawQuery:this._state?.query??null})}p.PDFFindController=class me{constructor({linkService:Pe,eventBus:Le}){f(this,ke),f(this,Oe),f(this,Ie),f(this,Se),f(this,xe),f(this,we),f(this,pe),f(this,be),f(this,ae),f(this,ie),f(this,H),f(this,U),f(this,S),f(this,w),f(this,h),f(this,x),f(this,G),le(this,O,{get:ot,set:void 0}),f(this,y),f(this,C),this._linkService=Pe,this._eventBus=Le,j(this,y,Ge).call(this),Le._on("find",j(this,C,Ee).bind(this)),Le._on("findbarclose",j(this,Se,se).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(Pe){this._pdfDocument&&j(this,y,Ge).call(this),Pe&&(this._pdfDocument=Pe,this._firstPageCapability.resolve())}scrollMatchIntoView({element:Pe=null,selectedLeft:Le=0,pageIndex:Ne=-1,matchIndex:ze=-1}){this._scrollMatches&&Pe&&-1!==ze&&ze===this._selected.matchIdx&&-1!==Ne&&Ne===this._selected.pageIdx&&(this._scrollMatches=!1,(0,T.scrollIntoView)(Pe,{top:-50,left:Le+-400},!0))}}},(k,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.CharacterType=void 0,p.getCharacterType=function _(P){return function T(P){return P<11904}(P)?function I(P){return 0==(65408&P)}(P)?function d(P){return 32===P||9===P||13===P||10===P}(P)?E.SPACE:function L(P){return P>=97&&P<=122||P>=65&&P<=90}(P)||function m(P){return P>=48&&P<=57}(P)||95===P?E.ALPHA_LETTER:E.PUNCT:function M(P){return 3584==(65408&P)}(P)?E.THAI_LETTER:160===P?E.SPACE:E.ALPHA_LETTER:function u(P){return P>=13312&&P<=40959||P>=63744&&P<=64255}(P)?E.HAN_LETTER:function v(P){return P>=12448&&P<=12543}(P)?E.KATAKANA_LETTER:function D(P){return P>=12352&&P<=12447}(P)?E.HIRAGANA_LETTER:function R(P){return P>=65376&&P<=65439}(P)?E.HALFWIDTH_KATAKANA_LETTER:E.ALPHA_LETTER};const E={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};p.CharacterType=E},(k,p,E)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.PDFHistory=void 0,p.isDestArraysEqual=R,p.isDestHashesEqual=D;var T=E(7),I=E(19);function u(){return document.location.hash}function D(M,_){return"string"==typeof M&&"string"==typeof _&&(M===_||(0,T.parseQueryString)(M).get("nameddest")===_)}function R(M,_){function P(q,W){if(typeof q!=typeof W||Array.isArray(q)||Array.isArray(W))return!1;if(null!==q&&"object"==typeof q&&null!==W){if(Object.keys(q).length!==Object.keys(W).length)return!1;for(const ee in q)if(!P(q[ee],W[ee]))return!1;return!0}return q===W||Number.isNaN(q)&&Number.isNaN(W)}if(!Array.isArray(M)||!Array.isArray(_)||M.length!==_.length)return!1;for(let q=0,W=M.length;q<W;q++)if(!P(M[q],_[q]))return!1;return!0}p.PDFHistory=class v{constructor({linkService:_,eventBus:P}){this.linkService=_,this.eventBus=P,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",q=>{this._isPagesLoaded=!!q.pagesCount},{once:!0})})}initialize({fingerprint:_,resetHistory:P=!1,updateUrl:q=!1}){if(!_||"string"!=typeof _)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const W=""!==this._fingerprint&&this._fingerprint!==_;this._fingerprint=_,this._updateUrl=!0===q,this._initialized=!0,this._bindEvents();const ee=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=u(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(ee,!0)||P){const{hash:Z,page:re,rotation:de}=this._parseCurrentHash(!0);return!Z||W||P?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:Z,page:re,rotation:de},!0)}const Q=ee.destination;this._updateInternalState(Q,ee.uid,!0),void 0!==Q.rotation&&(this._initialRotation=Q.rotation),Q.dest?(this._initialBookmark=JSON.stringify(Q.dest),this._destination.page=null):Q.hash?this._initialBookmark=Q.hash:Q.page&&(this._initialBookmark=`page=${Q.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:_=null,explicitDest:P,pageNumber:q}){if(!this._initialized)return;if(_&&"string"!=typeof _)return void console.error(`PDFHistory.push: "${_}" is not a valid namedDest parameter.`);if(!Array.isArray(P))return void console.error(`PDFHistory.push: "${P}" is not a valid explicitDest parameter.`);if(!this._isValidPage(q)&&(null!==q||this._destination))return void console.error(`PDFHistory.push: "${q}" is not a valid pageNumber parameter.`);const W=_||JSON.stringify(P);if(!W)return;let ee=!1;if(this._destination&&(D(this._destination.hash,W)||R(this._destination.dest,P))){if(this._destination.page)return;ee=!0}this._popStateInProgress&&!ee||(this._pushOrReplaceState({dest:P,hash:W,page:q,rotation:this.linkService.rotation},ee),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(_){if(this._initialized){if(!this._isValidPage(_))return void console.error(`PDFHistory.pushPage: "${_}" is not a valid page number.`);this._destination?.page!==_&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${_}`,page:_,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const _=window.history.state;this._isValidState(_)&&_.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const _=window.history.state;this._isValidState(_)&&_.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(_,P=!1){const q=P||!this._destination,W={fingerprint:this._fingerprint,uid:q?this._uid:this._uid+1,destination:_};let ee;if(this._updateInternalState(_,W.uid),this._updateUrl&&_?.hash){const Q=document.location.href.split("#")[0];Q.startsWith("file://")||(ee=`${Q}#${_.hash}`)}q?window.history.replaceState(W,"",ee):window.history.pushState(W,"",ee)}_tryPushCurrentPosition(_=!1){if(!this._position)return;let P=this._position;if(_&&(P=Object.assign(Object.create(null),this._position),P.temporary=!0),!this._destination)return void this._pushOrReplaceState(P);if(this._destination.temporary)return void this._pushOrReplaceState(P,!0);if(this._destination.hash===P.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let q=!1;if(this._destination.page>=P.first&&this._destination.page<=P.page){if(void 0!==this._destination.dest||!this._destination.first)return;q=!0}this._pushOrReplaceState(P,q)}_isValidPage(_){return Number.isInteger(_)&&_>0&&_<=this.linkService.pagesCount}_isValidState(_,P=!1){if(!_)return!1;if(_.fingerprint!==this._fingerprint){if(!P)return!1;{if("string"!=typeof _.fingerprint||_.fingerprint.length!==this._fingerprint.length)return!1;const[q]=performance.getEntriesByType("navigation");if("reload"!==q?.type)return!1}}return!(!Number.isInteger(_.uid)||_.uid<0||null===_.destination||"object"!=typeof _.destination)}_updateInternalState(_,P,q=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),q&&_?.temporary&&delete _.temporary,this._destination=_,this._uid=P,this._maxUid=Math.max(this._maxUid,P),this._numPositionUpdates=0}_parseCurrentHash(_=!1){const P=unescape(u()).substring(1),q=(0,T.parseQueryString)(P),W=q.get("nameddest")||"";let ee=0|q.get("page");return(!this._isValidPage(ee)||_&&W.length>0)&&(ee=null),{hash:P,page:ee,rotation:this.linkService.rotation}}_updateViewarea({location:_}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:_.pdfOpenParams.substring(1),page:this.linkService.page,first:_.pageNumber,rotation:_.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:_}){const P=u(),q=this._currentHash!==P;if(this._currentHash=P,!_){this._uid++;const{hash:ee,page:Q,rotation:Z}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:ee,page:Q,rotation:Z},!0)}if(!this._isValidState(_))return;this._popStateInProgress=!0,q&&(this._blockHashChange++,(0,I.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const W=_.destination;this._updateInternalState(W,_.uid,!0),(0,T.isValidRotation)(W.rotation)&&(this.linkService.rotation=W.rotation),W.dest?this.linkService.goToDestination(W.dest):W.hash?this.linkService.setHash(W.hash):W.page&&(this.linkService.page=W.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(k,p,E)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.PDFScriptingManager=void 0;var T=E(7),I=E(3);p.PDFScriptingManager=class L{constructor({eventBus:d,sandboxBundleSrc:u=null,scriptingFactory:v=null,docPropertiesLookup:D=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=d,this._sandboxBundleSrc=u,this._scriptingFactory=v,this._docPropertiesLookup=D,this._scriptingFactory||window.addEventListener("updatefromsandbox",R=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:R.detail})})}setViewer(d){this._pdfViewer=d}setDocument(d){var u=this;return $(function*(){var v;if(u._pdfDocument&&(yield u._destroyScripting()),u._pdfDocument=d,!d)return;const[D,R,M]=yield Promise.all([d.getFieldObjects(),d.getCalculationOrderIds(),d.getJSActions()]);if(D||M){if(d===u._pdfDocument){try{u._scripting=u._createScripting()}catch(_){return console.error(`PDFScriptingManager.setDocument: "${_?.message}".`),void(yield u._destroyScripting())}u._internalEvents.set("updatefromsandbox",_=>{_?.source===window&&u._updateFromSandbox(_.detail)}),u._internalEvents.set("dispatcheventinsandbox",_=>{u._scripting?.dispatchEventInSandbox(_.detail)}),u._internalEvents.set("pagechanging",({pageNumber:_,previous:P})=>{_!==P&&(u._dispatchPageClose(P),u._dispatchPageOpen(_))}),u._internalEvents.set("pagerendered",({pageNumber:_})=>{u._pageOpenPending.has(_)&&_===u._pdfViewer.currentPageNumber&&u._dispatchPageOpen(_)}),u._internalEvents.set("pagesdestroy",function(_){return(v=v||$(function*(P){yield u._dispatchPageClose(u._pdfViewer.currentPageNumber),yield u._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),u._closeCapability?.resolve()})).apply(this,arguments)}),u._domEvents.set("mousedown",_=>{u._mouseState.isDown=!0}),u._domEvents.set("mouseup",_=>{u._mouseState.isDown=!1});for(const[_,P]of u._internalEvents)u._eventBus._on(_,P);for(const[_,P]of u._domEvents)window.addEventListener(_,P,!0);try{const _=yield u._getDocProperties();if(d!==u._pdfDocument)return;yield u._scripting.createSandbox({objects:D,calculationOrder:R,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{..._,actions:M}}),u._eventBus.dispatch("sandboxcreated",{source:u})}catch(_){return console.error(`PDFScriptingManager.setDocument: "${_?.message}".`),void(yield u._destroyScripting())}yield u._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield u._dispatchPageOpen(u._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{d===u._pdfDocument&&(u._ready=!0)})}}else yield u._destroyScripting()})()}dispatchWillSave(d){var u=this;return $(function*(){return u._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(d){var u=this;return $(function*(){return u._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(d){var u=this;return $(function*(){return u._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(d){var u=this;return $(function*(){return u._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,I.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,I.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,I.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,I.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(d){var u=this;return $(function*(){const v=u._pdfViewer.isInPresentationMode||u._pdfViewer.isChangingPresentationMode,{id:D,siblings:R,command:M,value:_}=d;if(!D){switch(M){case"clear":console.clear();break;case"error":console.error(_);break;case"layout":if(v)return;const q=(0,T.apiPageLayoutToViewerModes)(_);u._pdfViewer.spreadMode=q.spreadMode;break;case"page-num":u._pdfViewer.currentPageNumber=_+1;break;case"print":yield u._pdfViewer.pagesPromise,u._eventBus.dispatch("print",{source:u});break;case"println":console.log(_);break;case"zoom":if(v)return;u._pdfViewer.currentScaleValue=_;break;case"SaveAs":u._eventBus.dispatch("download",{source:u});break;case"FirstPage":u._pdfViewer.currentPageNumber=1;break;case"LastPage":u._pdfViewer.currentPageNumber=u._pdfViewer.pagesCount;break;case"NextPage":u._pdfViewer.nextPage();break;case"PrevPage":u._pdfViewer.previousPage();break;case"ZoomViewIn":if(v)return;u._pdfViewer.increaseScale();break;case"ZoomViewOut":if(v)return;u._pdfViewer.decreaseScale()}return}if(v&&d.focus)return;delete d.id,delete d.siblings;const P=R?[D,...R]:[D];for(const q of P){const W=document.querySelector(`[data-element-id="${q}"]`);W?W.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:d})):u._pdfDocument?.annotationStorage.setValue(q,d)}})()}_dispatchPageOpen(d,u=!1){var v=this;return $(function*(){const D=v._pdfDocument,R=v._visitedPages;if(u&&(v._closeCapability=(0,I.createPromiseCapability)()),!v._closeCapability)return;const M=v._pdfViewer.getPageView(d-1);if(M?.renderingState!==T.RenderingStates.FINISHED)return void v._pageOpenPending.add(d);v._pageOpenPending.delete(d);const _=$(function*(){const P=yield R.has(d)?null:M.pdfPage?.getJSActions();D===v._pdfDocument&&(yield v._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:d,actions:P}))})();R.set(d,_)})()}_dispatchPageClose(d){var u=this;return $(function*(){const v=u._pdfDocument,D=u._visitedPages;if(!u._closeCapability||u._pageOpenPending.has(d))return;const R=D.get(d);R&&(D.set(d,null),yield R,v===u._pdfDocument&&(yield u._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:d})))})()}_getDocProperties(){var d=this;return $(function*(){if(d._docPropertiesLookup)return d._docPropertiesLookup(d._pdfDocument);const{docPropertiesLookup:u}=E(26);return u(d._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,I.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:d}=E(26);return new d(this._sandboxBundleSrc)}_destroyScripting(){var d=this;return $(function*(){if(!d._scripting)return d._pdfDocument=null,void d._destroyCapability?.resolve();d._closeCapability&&(yield Promise.race([d._closeCapability.promise,new Promise(u=>{setTimeout(u,1e3)})]).catch(u=>{}),d._closeCapability=null),d._pdfDocument=null;try{yield d._scripting.destroySandbox()}catch{}for(const[u,v]of d._internalEvents)d._eventBus._off(u,v);d._internalEvents.clear();for(const[u,v]of d._domEvents)window.removeEventListener(u,v,!0);d._domEvents.clear(),d._pageOpenPending.clear(),d._visitedPages.clear(),d._scripting=null,delete d._mouseState.isDown,d._ready=!1,d._destroyCapability?.resolve()})()}}},(k,p,E)=>{var T;Object.defineProperty(p,"__esModule",{value:!0}),p.GenericScripting=void 0,p.docPropertiesLookup=function L(d){return(T=T||$(function*(u){const D="".split("#")[0];let{info:R,metadata:M,contentDispositionFilename:_,contentLength:P}=yield u.getMetadata();if(!P){const{length:q}=yield u.getDownloadInfo();P=q}return{...R,baseURL:D,filesize:P,filename:_||(0,I.getPdfFilenameFromUrl)(""),metadata:M?.getRaw(),authors:M?.get("dc:creator"),numPages:u.numPages,URL:""}})).apply(this,arguments)};var I=E(3);p.GenericScripting=class m{constructor(u){this._ready=(0,I.loadScript)(u,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(u){var v=this;return $(function*(){(yield v._ready).create(u)})()}dispatchEventInSandbox(u){var v=this;return $(function*(){const D=yield v._ready;setTimeout(()=>D.dispatchEvent(u),0)})()}destroySandbox(){var u=this;return $(function*(){(yield u._ready).nukeSandbox()})()}}}],ne={};function X(k){var p=ne[k];if(void 0!==p)return p.exports;var E=ne[k]={exports:{}};return Y[k](E,E.exports,X),E.exports}var N={};return(()=>{var k=N;Object.defineProperty(k,"__esModule",{value:!0}),Object.defineProperty(k,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return L.AnnotationLayerBuilder}}),Object.defineProperty(k,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return p.DefaultAnnotationLayerFactory}}),Object.defineProperty(k,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return p.DefaultStructTreeLayerFactory}}),Object.defineProperty(k,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return p.DefaultTextLayerFactory}}),Object.defineProperty(k,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return p.DefaultXfaLayerFactory}}),Object.defineProperty(k,"DownloadManager",{enumerable:!0,get:function(){return m.DownloadManager}}),Object.defineProperty(k,"EventBus",{enumerable:!0,get:function(){return d.EventBus}}),Object.defineProperty(k,"GenericL10n",{enumerable:!0,get:function(){return u.GenericL10n}}),Object.defineProperty(k,"LinkTarget",{enumerable:!0,get:function(){return E.LinkTarget}}),Object.defineProperty(k,"NullL10n",{enumerable:!0,get:function(){return v.NullL10n}}),Object.defineProperty(k,"PDFFindController",{enumerable:!0,get:function(){return D.PDFFindController}}),Object.defineProperty(k,"PDFHistory",{enumerable:!0,get:function(){return R.PDFHistory}}),Object.defineProperty(k,"PDFLinkService",{enumerable:!0,get:function(){return E.PDFLinkService}}),Object.defineProperty(k,"PDFPageView",{enumerable:!0,get:function(){return M.PDFPageView}}),Object.defineProperty(k,"PDFScriptingManager",{enumerable:!0,get:function(){return _.PDFScriptingManager}}),Object.defineProperty(k,"PDFSinglePageViewer",{enumerable:!0,get:function(){return I.PDFSinglePageViewer}}),Object.defineProperty(k,"PDFViewer",{enumerable:!0,get:function(){return I.PDFViewer}}),Object.defineProperty(k,"ProgressBar",{enumerable:!0,get:function(){return T.ProgressBar}}),Object.defineProperty(k,"RenderingStates",{enumerable:!0,get:function(){return T.RenderingStates}}),Object.defineProperty(k,"ScrollMode",{enumerable:!0,get:function(){return T.ScrollMode}}),Object.defineProperty(k,"SimpleLinkService",{enumerable:!0,get:function(){return E.SimpleLinkService}}),Object.defineProperty(k,"SpreadMode",{enumerable:!0,get:function(){return T.SpreadMode}}),Object.defineProperty(k,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return P.StructTreeLayerBuilder}}),Object.defineProperty(k,"TextLayerBuilder",{enumerable:!0,get:function(){return q.TextLayerBuilder}}),Object.defineProperty(k,"XfaLayerBuilder",{enumerable:!0,get:function(){return W.XfaLayerBuilder}}),Object.defineProperty(k,"parseQueryString",{enumerable:!0,get:function(){return T.parseQueryString}});var p=X(1),E=X(6),T=X(7),I=X(11),L=X(5),m=X(18),d=X(19),u=X(20),v=X(4),D=X(22),R=X(24),M=X(13),_=X(25),P=X(8),q=X(9),W=X(10)})(),N})()},414:()=>{},172:()=>{},1:()=>{},779:()=>{},558:()=>{},258:()=>{},156:ue=>{function g(f,A,j,$,le,V,B){try{var Y=f[V](B),ne=Y.value}catch(X){return void j(X)}Y.done?A(ne):Promise.resolve(ne).then($,le)}ue.exports=function z(f){return function(){var A=this,j=arguments;return new Promise(function($,le){var V=f.apply(A,j);function B(ne){g(V,$,le,B,Y,"next",ne)}function Y(ne){g(V,$,le,B,Y,"throw",ne)}B(void 0)})}},ue.exports.__esModule=!0,ue.exports.default=ue.exports},521:ue=>{ue.exports=function g(z,f){if(f.has(z))throw new TypeError("Cannot initialize the same private elements twice on an object")},ue.exports.__esModule=!0,ue.exports.default=ue.exports},912:ue=>{ue.exports=function g(z,f){return f.get?f.get.call(z):f.value},ue.exports.__esModule=!0,ue.exports.default=ue.exports},448:ue=>{ue.exports=function g(z,f,A){if(f.set)f.set.call(z,A);else{if(!f.writable)throw new TypeError("attempted to set read only private field");f.value=A}},ue.exports.__esModule=!0,ue.exports.default=ue.exports},625:ue=>{ue.exports=function g(z,f){if(z!==f)throw new TypeError("Private static access of wrong provenance")},ue.exports.__esModule=!0,ue.exports.default=ue.exports},506:ue=>{ue.exports=function g(z,f){if(void 0===z)throw new TypeError("attempted to "+f+" private static field before its declaration")},ue.exports.__esModule=!0,ue.exports.default=ue.exports},69:ue=>{ue.exports=function g(z,f,A){if(!f.has(z))throw new TypeError("attempted to "+A+" private field on non-instance");return f.get(z)},ue.exports.__esModule=!0,ue.exports.default=ue.exports},468:(ue,g,z)=>{var f=z(912),A=z(69);ue.exports=function j($,le){var V=A($,le,"get");return f($,V)},ue.exports.__esModule=!0,ue.exports.default=ue.exports},159:(ue,g,z)=>{var f=z(521);ue.exports=function A(j,$,le){f(j,$),$.set(j,le)},ue.exports.__esModule=!0,ue.exports.default=ue.exports},661:(ue,g,z)=>{var f=z(448),A=z(69);ue.exports=function j($,le,V){var B=A($,le,"set");return f($,B,V),V},ue.exports.__esModule=!0,ue.exports.default=ue.exports},467:ue=>{ue.exports=function g(z,f,A){if(!f.has(z))throw new TypeError("attempted to get private field on non-instance");return A},ue.exports.__esModule=!0,ue.exports.default=ue.exports},860:(ue,g,z)=>{var f=z(521);ue.exports=function A(j,$){f(j,$),$.add(j)},ue.exports.__esModule=!0,ue.exports.default=ue.exports},280:(ue,g,z)=>{var f=z(912),A=z(625),j=z(506);ue.exports=function $(le,V,B){return A(le,V),j(B,"get"),f(le,B)},ue.exports.__esModule=!0,ue.exports.default=ue.exports},306:(ue,g,z)=>{var f=z(448),A=z(625),j=z(506);ue.exports=function $(le,V,B,Y){return A(le,V),j(B,"set"),f(le,B,Y),Y},ue.exports.__esModule=!0,ue.exports.default=ue.exports},764:(ue,g,z)=>{var f=z(625);ue.exports=function A(j,$,le){return f(j,$),le},ue.exports.__esModule=!0,ue.exports.default=ue.exports},416:(ue,g,z)=>{var f=z(62);ue.exports=function A(j,$,le){return($=f($))in j?Object.defineProperty(j,$,{value:le,enumerable:!0,configurable:!0,writable:!0}):j[$]=le,j},ue.exports.__esModule=!0,ue.exports.default=ue.exports},36:(ue,g,z)=>{var f=z(698).default;ue.exports=function A(j,$){if("object"!==f(j)||null===j)return j;var le=j[Symbol.toPrimitive];if(void 0!==le){var V=le.call(j,$||"default");if("object"!==f(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===$?String:Number)(j)},ue.exports.__esModule=!0,ue.exports.default=ue.exports},62:(ue,g,z)=>{var f=z(698).default,A=z(36);ue.exports=function j($){var le=A($,"string");return"symbol"===f(le)?le:String(le)},ue.exports.__esModule=!0,ue.exports.default=ue.exports},698:ue=>{function g(z){return ue.exports=g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},ue.exports.__esModule=!0,ue.exports.default=ue.exports,g(z)}ue.exports=g,ue.exports.__esModule=!0,ue.exports.default=ue.exports}},ue=>{ue(ue.s=473)}]);